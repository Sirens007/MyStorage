<!doctype lake><meta name="doc-version" content="1" /><meta name="viewport" content="fixed" /><p data-lake-id="u417ad21b" id="u417ad21b"><span data-lake-id="uec6786f9" id="uec6786f9">C++</span></p><h2 data-lake-id="NnDjN" id="NnDjN" collapsed="true"><span data-lake-id="u87f629e9" id="u87f629e9">前篇</span></h2><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248252185-f83a2b73-af6a-4887-8bbb-13895a714d2b.pdf%22%2C%22name%22%3A%22Lesson00---%E5%89%8D%E8%A8%80.pdf%22%2C%22size%22%3A2297379%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u57416a2e-e4e8-4b4a-bf7c-5f1a8632f14%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22kv1As%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248251381-e832606a-532f-40d6-8df0-541a4d037560.pdf%22%2C%22name%22%3A%22Lesson01---C%2B%2B%E5%85%A5%E9%97%A8.pdf%22%2C%22size%22%3A1587179%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u77655bd2-5618-4cb7-885b-5db8c303878%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22IgMGM%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h2 data-lake-id="KcJuz" id="KcJuz"><span data-lake-id="u0fd404b4" id="u0fd404b4">Lesson---类与对象（上）</span></h2><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248250941-c3fdc825-2e0c-4d6d-bae6-01bf328d37a7.pdf%22%2C%22name%22%3A%22Lesson02---%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1(%E4%B8%8A%E7%AF%87).pdf%22%2C%22size%22%3A909598%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u08c92898-6c46-46ee-88ab-0c3ce93c9f2%22%2C%22taskType%22%3A%22transfer%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22mode%22%3A%22embed%22%2C%22id%22%3A%22ae0Af%22%7D"></card><p data-lake-id="uf56b07fd" id="uf56b07fd"><strong><span data-lake-id="uddab1a20" id="uddab1a20">8.this指针</span></strong></p><p data-lake-id="uabf85a29" id="uabf85a29"><span data-lake-id="u2ea17c38" id="u2ea17c38">成员变量最好带&quot;_&quot;，因为当赋值给成员函数时，成员函数的形参要再赋给成员变量</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Date%5Cn%7B%5CnInit(int%20year%2Cint%20month%2Cint%20day)%5Cn%7B%5Cn%20%20%20%20_year%20%3D%20year%3B%5Cn%20%20%20%20_month%20%3D%20month%3B%5Cn%20%20%20%20_day%20%3D%20day%3B%5Cn%7D%5Cn%20%20%20%20%5Cnvoid%20Print()%5Cn%20%20%20%20%7B%5Cn%20%20%20%20cout%20%3C%3C%20_year%20%3C%3C%20%5C%22-%5C%22%20%3C%3C%20_month%20%3C%3C%20%5C%22-%5C%22%20%3C%3C%20_day%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cnprivate%3A%5Cnint%20_year%3B%5Cnint%20_month%3B%5Cnitn%20_day%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22XTaPp%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u30f656cc" id="u30f656cc"><span data-lake-id="u73f5808a" id="u73f5808a">所以带&quot;_&quot;来表示成员函数</span></p><details data-lake-id="u8b3e24bd" id="u8b3e24bd" open="true" class="lake-collapse"><summary data-lake-id="ud8350173" id="ud8350173" class="lake-summary"><strong><span data-lake-id="u217f3ecf" id="u217f3ecf">this指针补充</span></strong></summary><h3 data-lake-id="a326f774" id="a326f774"><strong><span data-lake-id="ub52a93f5" id="ub52a93f5">C++ 的 </span></strong><code data-lake-id="u4761f0ec" id="u4761f0ec"><strong><span data-lake-id="u4b2c0e55" id="u4b2c0e55">this</span></strong></code><strong><span data-lake-id="uaeaabb37" id="uaeaabb37"> 指针</span></strong></h3><p data-lake-id="uaac3ba1c" id="uaac3ba1c"><span data-lake-id="u29014c0c" id="u29014c0c">在 C++ 中，</span><code data-lake-id="ua435e0af" id="ua435e0af"><span data-lake-id="u384f92b5" id="u384f92b5">this</span></code><span data-lake-id="ucce807f5" id="ucce807f5"> 指针是一个特殊的指针，指向当前对象（类的实例本身）。它主要用于在类的成员函数内部访问该对象的成员变量和成员函数。</span></p><card type="block" name="hr" value="data:%7B%22id%22%3A%22GAvGR%22%7D"></card><h2 data-lake-id="0015022b" id="0015022b"><strong><span data-lake-id="u6679bde4" id="u6679bde4">1. </span></strong><code data-lake-id="u13f6312b" id="u13f6312b"><strong><span data-lake-id="u6a07799a" id="u6a07799a">this</span></strong></code><strong><span data-lake-id="u61b836ef" id="u61b836ef"> 指针的基本概念</span></strong></h2><ul list="u3beab809"><li fid="u4f073554" data-lake-id="u86f14139" id="u86f14139"><code data-lake-id="ud7180002" id="ud7180002"><span data-lake-id="u4fdeef18" id="u4fdeef18">this</span></code><span data-lake-id="u7110bf21" id="u7110bf21"> 只有在 </span><strong><span data-lake-id="uc9d5f629" id="uc9d5f629">非静态成员函数</span></strong><span data-lake-id="u399eb977" id="u399eb977"> 中才可用，因为静态成员函数属于类本身，而不属于具体的对象，因此没有 </span><code data-lake-id="u08ac2243" id="u08ac2243"><span data-lake-id="u95066fd2" id="u95066fd2">this</span></code><span data-lake-id="u80168c11" id="u80168c11"> 指针。</span></li><li fid="u4f073554" data-lake-id="u854c57d3" id="u854c57d3"><code data-lake-id="u08b67491" id="u08b67491"><span data-lake-id="u7d8c7ae4" id="u7d8c7ae4">this</span></code><span data-lake-id="ua371987e" id="ua371987e"> 指针的类型是 </span><strong><span data-lake-id="ufabf3e4d" id="ufabf3e4d">指向当前类类型的指针</span></strong><span data-lake-id="uff21c7f8" id="uff21c7f8">，即 </span><code data-lake-id="ufc085a24" id="ufc085a24"><span data-lake-id="u0d258aa0" id="u0d258aa0">ClassName*</span></code><span data-lake-id="u8128c9eb" id="u8128c9eb">。</span></li></ul><card type="block" name="hr" value="data:%7B%22id%22%3A%22y3qRe%22%7D"></card><h2 data-lake-id="5b319802" id="5b319802"><strong><span data-lake-id="u9969f94c" id="u9969f94c">2. </span></strong><code data-lake-id="u154ddabc" id="u154ddabc"><strong><span data-lake-id="u6bac6b2a" id="u6bac6b2a">this</span></strong></code><strong><span data-lake-id="ua5a501e0" id="ua5a501e0"> 指针的常见用途</span></strong></h2><h3 data-lake-id="a60eca55" id="a60eca55"><strong><span data-lake-id="u2c308b89" id="u2c308b89">(1) 解决成员变量与参数同名的问题</span></strong></h3><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20Person%20%7B%5Cnprivate%3A%5Cnstring%20name%3B%5Cnpublic%3A%5CnPerson(string%20name)%20%7B%20%2F%2F%20%E5%BD%A2%E5%8F%82%E4%B8%8E%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%90%8C%E5%90%8D%5Cn%20%20%20%20this-%3Ename%20%3D%20name%3B%20%20%2F%2F%20%E7%94%A8%20this%20%E6%8C%87%E9%92%88%E5%8C%BA%E5%88%86%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%92%8C%E5%BD%A2%E5%8F%82%5Cn%7D%5Cn%5Cnvoid%20showName()%20%7B%5Cn%20%20%20%20cout%20%3C%3C%20%5C%22Name%3A%20%5C%22%20%3C%3C%20this-%3Ename%20%3C%3C%20endl%3B%5Cn%7D%5Cn%7D%3B%5Cn%5Cnint%20main()%20%7B%5Cn%20%20%20%20Person%20p(%5C%22Alice%5C%22)%3B%5Cn%20%20%20%20p.showName()%3B%20%2F%2F%20%E8%BE%93%E5%87%BA%3A%20Name%3A%20Alice%5Cn%20%20%20%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22ACB9h%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="9580dd15" id="9580dd15"><strong><span data-lake-id="u5faf857d" id="u5faf857d">(2) 在链式调用中返回对象自身</span></strong></h3><p data-lake-id="u9c9fd51e" id="u9c9fd51e"><span data-lake-id="u44c058cb" id="u44c058cb">链式调用（</span><code data-lake-id="u044124b6" id="u044124b6"><span data-lake-id="u17820347" id="u17820347">return *this</span></code><span data-lake-id="uf4f55269" id="uf4f55269">）允许多个成员函数连续调用。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20Counter%20%7B%5Cnprivate%3A%5Cnint%20value%3B%5Cnpublic%3A%5CnCounter(int%20v%20%3D%200)%20%3A%20value(v)%20%7B%7D%5Cn%5CnCounter%26%20increment()%20%7B%5Cn%20%20%20%20this-%3Evalue%2B%2B%3B%20%20%2F%2F%20%E5%A2%9E%E5%8A%A0%20value%5Cn%20%20%20%20return%20*this%3B%20%20%20%2F%2F%20%E8%BF%94%E5%9B%9E%E5%BD%93%E5%89%8D%E5%AF%B9%E8%B1%A1%5Cn%7D%5Cn%5CnCounter%26%20decrement()%20%7B%5Cn%20%20%20%20this-%3Evalue--%3B%20%20%2F%2F%20%E5%87%8F%E5%B0%91%20value%5Cn%20%20%20%20return%20*this%3B%20%20%20%2F%2F%20%E8%BF%94%E5%9B%9E%E5%BD%93%E5%89%8D%E5%AF%B9%E8%B1%A1%5Cn%7D%5Cn%5Cnvoid%20show()%20%7B%5Cn%20%20%20%20cout%20%3C%3C%20%5C%22Value%3A%20%5C%22%20%3C%3C%20value%20%3C%3C%20endl%3B%5Cn%7D%5Cn%7D%3B%5Cn%5Cnint%20main()%20%7B%5Cn%20%20%20%20Counter%20c(5)%3B%5Cn%20%20%20%20c.increment().increment().decrement().show()%3B%20%5Cn%20%20%20%20%2F%2F%20%E8%BE%93%E5%87%BA%3A%20Value%3A%206%5Cn%20%20%20%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22EK4ww%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="9cafbc02" id="9cafbc02"><strong><span data-lake-id="u215d9aad" id="u215d9aad">(3) 返回当前对象的指针</span></strong></h3><p data-lake-id="u6206e4a5" id="u6206e4a5"><span data-lake-id="ue3519d14" id="ue3519d14">可以在类的方法中返回 </span><code data-lake-id="uaeffe929" id="uaeffe929"><span data-lake-id="u651bb878" id="u651bb878">this</span></code><span data-lake-id="u2180ed97" id="u2180ed97"> 指针，使得外部可以直接访问该对象。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20Sample%20%7B%5Cnpublic%3A%5CnSample*%20getPointer()%20%7B%5Cn%20%20%20%20return%20this%3B%20%2F%2F%20%E8%BF%94%E5%9B%9E%E5%BD%93%E5%89%8D%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8C%87%E9%92%88%5Cn%7D%5Cn%5Cnvoid%20show()%20%7B%5Cn%20%20%20%20cout%20%3C%3C%20%5C%22This%20is%20an%20example%20of%20returning%20this%20pointer.%5C%22%20%3C%3C%20endl%3B%5Cn%7D%5Cn%7D%3B%5Cn%5Cnint%20main()%20%7B%5Cn%20%20%20%20Sample%20obj%3B%5Cn%20%20%20%20obj.getPointer()-%3Eshow()%3B%5Cn%20%20%20%20%2F%2F%20%E8%BE%93%E5%87%BA%3A%20This%20is%20an%20example%20of%20returning%20this%20pointer.%5Cn%20%20%20%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22uglWz%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="f6fcd7df" id="f6fcd7df"><strong><span data-lake-id="u72367527" id="u72367527">(4) 在重载赋值运算符 </span></strong><code data-lake-id="u043e9bba" id="u043e9bba"><strong><span data-lake-id="ua6a8fdcd" id="ua6a8fdcd">=</span></strong></code><strong><span data-lake-id="u7a62f98a" id="u7a62f98a"> 中避免自赋值</span></strong></h3><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20Example%20%7B%5Cnprivate%3A%5Cnint*%20data%3B%5Cnpublic%3A%5CnExample(int%20value)%20%7B%5Cn%20%20%20%20data%20%3D%20new%20int(value)%3B%5Cn%7D%5Cn%5Cn~Example()%20%7B%5Cn%20%20%20%20delete%20data%3B%5Cn%7D%5Cn%5CnExample%26%20operator%3D(const%20Example%26%20other)%20%7B%5Cn%20%20%20%20if%20(this%20%3D%3D%20%26other)%20%7B%20%2F%2F%20%E5%A4%84%E7%90%86%E8%87%AA%E8%B5%8B%E5%80%BC%E6%83%85%E5%86%B5%5Cn%20%20%20%20%20%20%20%20return%20*this%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20delete%20data%3B%20%2F%2F%20%E9%87%8A%E6%94%BE%E5%8E%9F%E6%9D%A5%E7%9A%84%E5%86%85%E5%AD%98%5Cn%20%20%20%20data%20%3D%20new%20int(*other.data)%3B%5Cn%20%20%20%20return%20*this%3B%20%2F%2F%20%E8%BF%94%E5%9B%9E%E8%87%AA%E8%BA%AB%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BC%95%E7%94%A8%5Cn%7D%5Cn%5Cnvoid%20show()%20%7B%5Cn%20%20%20%20cout%20%3C%3C%20%5C%22Value%3A%20%5C%22%20%3C%3C%20*data%20%3C%3C%20endl%3B%5Cn%7D%5Cn%7D%3B%5Cn%5Cnint%20main()%20%7B%5Cn%20%20%20%20Example%20a(10)%2C%20b(20)%3B%5Cn%20%20%20%20a%20%3D%20b%3B%20%20%2F%2F%20%E8%B5%8B%E5%80%BC%E6%93%8D%E4%BD%9C%5Cn%20%20%20%20a.show()%3B%20%2F%2F%20%E8%BE%93%E5%87%BA%3A%20Value%3A%2020%5Cn%20%20%20%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22F8ANK%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="hr" value="data:%7B%22id%22%3A%22bLLYV%22%7D"></card><h2 data-lake-id="3b6e78c3" id="3b6e78c3"><strong><span data-lake-id="ue8ce7472" id="ue8ce7472">3. </span></strong><code data-lake-id="u5fda6a42" id="u5fda6a42"><strong><span data-lake-id="u4b90744c" id="u4b90744c">this</span></strong></code><strong><span data-lake-id="u7dad3f19" id="u7dad3f19"> 指针的特性</span></strong></h2><ol list="u64c5d849"><li fid="u46e9a27a" data-lake-id="uc0ad54a5" id="uc0ad54a5"><strong><span data-lake-id="u44787f8a" id="u44787f8a">指向当前对象</span></strong><span data-lake-id="u14ee21b2" id="u14ee21b2">：在成员函数内部，</span><code data-lake-id="u394020ed" id="u394020ed"><span data-lake-id="u4ea2f376" id="u4ea2f376">this</span></code><span data-lake-id="u3f5be7a8" id="u3f5be7a8"> 指针指向调用该函数的对象。</span></li><li fid="u46e9a27a" data-lake-id="ub184a54b" id="ub184a54b"><strong><span data-lake-id="u74b2134b" id="u74b2134b">只适用于非静态成员函数</span></strong><span data-lake-id="u795dc7d4" id="u795dc7d4">：静态成员函数没有 </span><code data-lake-id="u60af3df3" id="u60af3df3"><span data-lake-id="uf3e579f9" id="uf3e579f9">this</span></code><span data-lake-id="uce741456" id="uce741456"> 指针。</span></li><li fid="u46e9a27a" data-lake-id="ubd451f50" id="ubd451f50"><strong><span data-lake-id="u19a0a18b" id="u19a0a18b">可用于链式调用</span></strong><span data-lake-id="u44577234" id="u44577234">：可通过 </span><code data-lake-id="uf2ff1716" id="uf2ff1716"><span data-lake-id="uf6529fe2" id="uf6529fe2">return *this</span></code><span data-lake-id="u3d6762d4" id="u3d6762d4"> 让多个方法连续调用。</span></li><li fid="u46e9a27a" data-lake-id="uabebb711" id="uabebb711"><strong><span data-lake-id="uc103d851" id="uc103d851">可用于操作符重载</span></strong><span data-lake-id="uc44b0422" id="uc44b0422">：在 </span><code data-lake-id="u59b374c9" id="u59b374c9"><span data-lake-id="ub80456eb" id="ub80456eb">operator=</span></code><span data-lake-id="u4f5fadb7" id="u4f5fadb7"> 赋值运算符重载中可用于自赋值检测。</span></li><li fid="u46e9a27a" data-lake-id="u304580d3" id="u304580d3"><strong><span data-lake-id="ub710cf49" id="ub710cf49">可以返回对象指针或引用</span></strong><span data-lake-id="uc5b729ec" id="uc5b729ec">：使得成员函数能够返回当前对象的地址或引用，供外部继续使用。</span></li></ol><card type="block" name="hr" value="data:%7B%22id%22%3A%22UtmLD%22%7D"></card><h2 data-lake-id="df9edcc9" id="df9edcc9"><strong><span data-lake-id="ud4aa1954" id="ud4aa1954">4. </span></strong><code data-lake-id="uff40c547" id="uff40c547"><strong><span data-lake-id="u681c3e81" id="u681c3e81">this</span></strong></code><strong><span data-lake-id="u355578e0" id="u355578e0"> 指针的应用总结</span></strong></h2><ul list="ue103fec3"><li fid="ue3c40b6d" data-lake-id="u57b198bf" id="u57b198bf"><span data-lake-id="ub972b5a0" id="ub972b5a0">用于区分成员变量和形参。</span></li><li fid="ue3c40b6d" data-lake-id="ue40a10ae" id="ue40a10ae"><span data-lake-id="u64324eb4" id="u64324eb4">支持链式调用，提高代码可读性。</span></li><li fid="ue3c40b6d" data-lake-id="u9f01348e" id="u9f01348e"><span data-lake-id="ub66c511a" id="ub66c511a">在重载赋值运算符 </span><code data-lake-id="ueef5b655" id="ueef5b655"><span data-lake-id="uf5c58788" id="uf5c58788">=</span></code><span data-lake-id="u89210fdb" id="u89210fdb"> 时避免自赋值问题。</span></li><li fid="ue3c40b6d" data-lake-id="u26d19a21" id="u26d19a21"><span data-lake-id="uc2179dc4" id="uc2179dc4">可以返回当前对象的指针，支持指针操作。</span></li></ul></details><p data-lake-id="u7d370aff" id="u7d370aff"><span data-lake-id="ud1b0816c" id="ud1b0816c">​</span><br></p><p data-lake-id="ub8411c3f" id="ub8411c3f"><strong><span data-lake-id="u8c7e1cb6" id="u8c7e1cb6">为什么Print不需要参数</span></strong></p><ul list="u5a82313b"><li fid="uaec90712" data-lake-id="uaaada050" id="uaaada050"><span data-lake-id="u58590a2a" id="u58590a2a">因为隐含了一个this指针(编译器的处理 + 隐含的this指针)</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22void%20Print(Date*%20this)%5Cn%7B%5Cn%20%20%20%20cout%20%3C%3C%20this-%3E_year%20%3C%3C%5C%22-%5C%22%3C%3C%20this-%3E_month%20%3C%3C%5C%22-%5C%22%3C%3C%20this-%3Eday%20%3C%3C%20endl%3B%5Cn%7D%5Cn%2F%2F%E5%AE%9E%E9%99%85%E4%B8%8A%EF%BC%8Cthis%E6%8C%87%E9%92%88%E4%B9%9F%E5%8F%AF%E8%87%AA%E5%B7%B1%E7%94%A8%EF%BC%88%E5%9C%A8%E8%AE%BF%E9%97%AE%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E6%97%B6%EF%BC%89%EF%BC%8C%E8%80%8C%E5%87%BD%E6%95%B0%E4%B8%AD%E4%B8%8D%E5%8F%AF%E7%94%A8%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22M8oCJ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uaf8d0021" id="uaf8d0021"><span data-lake-id="uc7bd21f4" id="uc7bd21f4">面试题：</span></p><ul list="u70d9533c"><li fid="ueaea19dc" data-lake-id="u8b464090" id="u8b464090"><span data-lake-id="udbeff75b" id="udbeff75b">this指针存在哪里？也就是存在进程地址空间的哪个区域？</span></li></ul><ul list="u70d9533c" data-lake-indent="1"><li fid="ueaea19dc" data-lake-id="u44c5807d" id="u44c5807d"><span data-lake-id="u80c4e800" id="u80c4e800">this指针存在栈上的，因为他是一个形参。 (ps: vs下是在ecx这个寄存器，来传递)</span></li></ul><ul list="u70d9533c" start="2"><li fid="ueaea19dc" data-lake-id="uf0e298c6" id="uf0e298c6"><span data-lake-id="ufd2a7380" id="ufd2a7380">this指针可以为空吗？</span></li></ul><details data-lake-id="uf556e251" id="uf556e251" open="true" class="lake-collapse"><summary data-lake-id="uddf9e0d3" id="uddf9e0d3" class="lake-summary"><span data-lake-id="ucad7d75c" id="ucad7d75c">问题</span></summary><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20A%5Cn%7B%5Cnpublic%3A%5Cn%20%20%20%20void%20PrintA()%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20_a%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cnvoid%20Show()%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20%5C%22Show()%5C%22%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cnprivate%3A%5Cn%20%20%20%20int%20_a%3B%5Cn%7D%3B%5Cn%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20A*%20p%20%3D%20NULL%3B%5Cn%20%20%20%20p-%3EPrintA()%3B%2F%2F%E8%BF%99%E4%B8%80%E8%A1%8C%E4%BC%9A%E5%BC%95%E5%8F%91%E4%BB%80%E4%B9%88%EF%BC%9F%E7%BC%96%E8%AF%91%E4%B8%8D%E9%80%9A%E8%BF%87%EF%BC%9F%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83%EF%BC%9F%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C%EF%BC%9F%5Cn%20%20%20%20%2F%2F%E5%8F%91%E7%94%9F%E5%B4%A9%E6%BA%83%EF%BC%8CPrintA%E8%AE%BF%E9%97%AE%E4%BA%86%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F-a%E3%80%82%E7%94%B1%E4%BA%8E%20p%20%E6%98%AF%E4%B8%80%E4%B8%AA%E7%A9%BA%E6%8C%87%E9%92%88%EF%BC%88NULL%EF%BC%89%EF%BC%8C%5Cn%20%20%20%20%2F%2F%E5%BD%93%E5%B0%9D%E8%AF%95%E9%80%9A%E8%BF%87p%E8%AE%BF%E9%97%AE%20_a%20%E6%97%B6%EF%BC%8C%E4%BC%9A%E8%A7%A6%E5%8F%91%E7%A9%BA%E6%8C%87%E9%92%88%E8%A7%A3%E5%BC%95%E7%94%A8%EF%BC%88Null%20Pointer%20Dereference%EF%BC%89%EF%BC%8C%E5%AF%BC%E8%87%B4%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83%5Cn%20%20%20%20p-%3EShow()%3B%2F%2F%E8%BF%99%E4%B8%80%E8%A1%8C%E4%BC%9A%E5%BC%95%E5%8F%91%E4%BB%80%E4%B9%88%EF%BC%9F%E7%BC%96%E8%AF%91%E4%B8%8D%E9%80%9A%E8%BF%87%EF%BC%9F%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83%EF%BC%9F%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C%EF%BC%9F%5Cn%20%20%20%20%2F%2F%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C%EF%BC%8C%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E5%AD%98%E5%9C%A8%E5%85%AC%E5%85%B1%E7%9A%84%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%8C%E6%89%80%E4%BB%A5p-%3EShow()%E8%BF%99%E9%87%8C%E4%B8%8D%E4%BC%9A%E5%8E%BBp%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8A%E5%8E%BB%E6%89%BE%5Cn%20%20%20%20%2F%2F%E8%AE%BF%E9%97%AE%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%EF%BC%8C%E6%89%8D%E4%BC%9A%E5%8E%BB%E6%89%BE%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22d6LOR%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ucd6c3758" id="ucd6c3758"><br></p></details><p data-lake-id="u9318bff0" id="u9318bff0"><span data-lake-id="u6380a840" id="u6380a840" style="color: #DF2A3F">记住：函数不会存在对象中</span></p><p data-lake-id="u650b2983" id="u650b2983"><span data-lake-id="uc8c8947c" id="uc8c8947c">且对象在无主动结束delete时，对象类会在return 0时才结束 才会调用析构函数</span></p><p data-lake-id="u3ed62181" id="u3ed62181"><br></p><h2 data-lake-id="CaAcW" id="CaAcW"><span data-lake-id="u262eb89b" id="u262eb89b">Lesson---类与对象（中）</span></h2><h3 data-lake-id="rOtai" id="rOtai"><span data-lake-id="u2a826361" id="u2a826361" style="color: rgb(51,51,51)">2.构造函数</span></h3><blockquote data-lake-id="u00ccf1e5" id="u00ccf1e5"><p data-lake-id="u7d41193f" id="u7d41193f"><strong><span data-lake-id="u7512c4e1" id="u7512c4e1" class="lake-fontsize-12" style="color: rgb(51,51,51)">2.1 概念</span></strong></p><p data-lake-id="u82d6aa20" id="u82d6aa20"><strong><span data-lake-id="u19608a60" id="u19608a60" class="lake-fontsize-12" style="color: rgb(119,119,119)">构造函数</span></strong><span data-lake-id="uce002777" id="uce002777" class="lake-fontsize-12" style="color: rgb(119,119,119)">是一个</span><strong><span data-lake-id="u0b131fc0" id="u0b131fc0" class="lake-fontsize-12" style="color: rgb(119,119,119)">特殊的成员函数，名字与类名相同,创建类类型对象时由编译器自动调用</span></strong><span data-lake-id="u4863513d" id="u4863513d" class="lake-fontsize-12" style="color: rgb(119,119,119)">，保证每个数据成员 都有一个合适的初始值，并且</span><strong><span data-lake-id="u9e1b1437" id="u9e1b1437" class="lake-fontsize-12" style="color: #DF2A3F">在对象的生命周期内只调用一次</span></strong><span data-lake-id="u08f97eb2" id="u08f97eb2" class="lake-fontsize-12" style="color: #DF2A3F">。</span></p><p data-lake-id="u84067678" id="u84067678"><strong><span data-lake-id="u3e3c29ab" id="u3e3c29ab" class="lake-fontsize-12" style="color: rgb(51,51,51)">2.2 特性</span></strong></p><p data-lake-id="ufe8a316a" id="ufe8a316a" style="text-align: left"><strong><span data-lake-id="u87734650" id="u87734650" class="lake-fontsize-12" style="color: rgb(119,119,119)">构造函数</span></strong><span data-lake-id="u289f7d1f" id="u289f7d1f" class="lake-fontsize-12" style="color: rgb(119,119,119)">是特殊的成员函数，需要注意的是，构造函数的虽然名称叫构造，但是需要注意的是构造函数的主</span><span data-lake-id="u243f2717" id="u243f2717" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="uc49dfd6a" id="uc49dfd6a" class="lake-fontsize-12" style="color: rgb(119,119,119)">要任务</span><strong><span data-lake-id="u27d44aab" id="u27d44aab" class="lake-fontsize-12" style="color: rgb(119,119,119)">并不是开空间创建对象，而是初始化对象</span></strong><span data-lake-id="uc1df9bf7" id="uc1df9bf7" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="ucf221168" id="ucf221168" style="text-align: left"><strong><span data-lake-id="uf624b834" id="uf624b834" class="lake-fontsize-12" style="color: rgb(119,119,119)">其特征如下：</span></strong></p><p data-lake-id="u4ce99ff1" id="u4ce99ff1" style="text-align: left"><span data-lake-id="u40413a1a" id="u40413a1a" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><span data-lake-id="udf998bb7" id="udf998bb7" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数名与类名相同。</span></p><p data-lake-id="u412059c4" id="u412059c4" style="text-align: left"><span data-lake-id="u915e58ea" id="u915e58ea" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><span data-lake-id="u8d6ef456" id="u8d6ef456" class="lake-fontsize-12" style="color: rgb(119,119,119)">无返回值。</span></p><p data-lake-id="u7899c0f4" id="u7899c0f4" style="text-align: left"><span data-lake-id="ue6d980e0" id="ue6d980e0" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><span data-lake-id="u7b3210de" id="u7b3210de" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象实例化时编译器</span><strong><span data-lake-id="uf7b05b5d" id="uf7b05b5d" class="lake-fontsize-12" style="color: rgb(119,119,119)">自动调用</span></strong><span data-lake-id="u139a4133" id="u139a4133" class="lake-fontsize-12" style="color: rgb(119,119,119)">对应的构造函数。</span></p><p data-lake-id="u217cf38f" id="u217cf38f" style="text-align: left"><span data-lake-id="u24e089fc" id="u24e089fc" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. 构造函数可以重载。</span></p><p data-lake-id="ua5db9e96" id="ua5db9e96"><span data-lake-id="u2ef03965" id="u2ef03965" class="lake-fontsize-12" style="color: rgb(119,119,119)">*5. 如果类中没有显式定义构造函数，则C++编译器会自动生成一个无参的默认构造函数，  一旦用户显式定 义编译器将不再生成。</span></p><ul list="ub56207c4" data-lake-indent="1"><li fid="u4cd294ac" data-lake-id="uf5e07d30" id="uf5e07d30"><strong><span data-lake-id="u2446bc0e" id="u2446bc0e" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">显式定义构造函数</span></strong><span data-lake-id="u24168392" id="u24168392" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">是指在类中</span><strong><span data-lake-id="uf64f5eff" id="uf64f5eff" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">手动编写构造函数</span></strong><span data-lake-id="u4887fc4d" id="u4887fc4d" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">，而不是依赖编译器生成的默认构造函数。</span></li></ul><p data-lake-id="u6518a433" id="u6518a433"><span data-lake-id="u1e45bcbe" id="u1e45bcbe" class="lake-fontsize-12" style="color: rgb(119,119,119)">6. 无参的构造函数和全缺省的构造函数</span><strong><span data-lake-id="ueeaf8ebc" id="ueeaf8ebc" class="lake-fontsize-12" style="color: #DF2A3F">都称为默认构造函数</span></strong><span data-lake-id="uca75b144" id="uca75b144" class="lake-fontsize-12" style="color: rgb(119,119,119)">，并且</span><strong><span data-lake-id="u9b180a97" id="u9b180a97" class="lake-fontsize-12" style="color: #DF2A3F">默认构造函数只能有一个</span></strong><span data-lake-id="u0de04bd3" id="u0de04bd3" class="lake-fontsize-12" style="color: rgb(119,119,119)">。注意：</span><strong><span data-lake-id="u42fa6534" id="u42fa6534" class="lake-fontsize-12" style="color: #117CEE">1.无参构造函数、2.全缺省构造函数、3.我们没写编译器默认生成的构造函数</span></strong><span data-lake-id="u002ab31f" id="u002ab31f" class="lake-fontsize-12" style="color: rgb(119,119,119)">，都可以认为是默认成员函数。</span></p></blockquote><details data-lake-id="u6ae8f578" id="u6ae8f578" open="false" class="lake-collapse"><summary data-lake-id="u758a2ebb" id="u758a2ebb" class="lake-summary"><strong><span data-lake-id="u38e1fafe" id="u38e1fafe" class="lake-fontsize-12">默认构造全缺省函数传参</span></strong></summary><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20MyClass%20%7B%5Cnpublic%3A%5Cn%20%20%20%20%2F%2F%20%E5%85%A8%E7%BC%BA%E7%9C%81%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%5Cn%20%20%20%20MyClass(int%20a%20%3D%2010%2C%20int%20b%20%3D%2020)%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20%5C%22a%3A%20%5C%22%20%3C%3C%20a%20%3C%3C%20%5C%22%2C%20b%3A%20%5C%22%20%3C%3C%20b%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cn%7D%3B%5Cn%5Cnint%20main()%20%7B%5Cn%20%20%20%20MyClass%20obj1%3B%20%20%20%20%20%20%20%20%20%2F%2F%20%E4%B8%8D%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0%EF%BC%8C%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E5%80%BC%EF%BC%9Aa%3D10%2C%20b%3D20%5Cn%20%20%20%20MyClass%20obj2(30)%3B%20%20%20%20%20%2F%2F%20%E4%BC%A0%E9%80%92%E9%83%A8%E5%88%86%E5%8F%82%E6%95%B0%EF%BC%8Ca%3D30%2C%20b%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E5%80%BC20%5Cn%20%20%20%20MyClass%20obj3(40%2C%2050)%3B%20%2F%2F%20%E4%BC%A0%E9%80%92%E5%85%A8%E9%83%A8%E5%8F%82%E6%95%B0%EF%BC%8Ca%3D40%2C%20b%3D50%5Cn%5Cn%20%20%20%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Ng69V%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></details><blockquote data-lake-id="u72db8591" id="u72db8591"><p data-lake-id="u62247f5e" id="u62247f5e" style="text-align: left"><span data-lake-id="uff8acefc" id="uff8acefc" class="lake-fontsize-12" style="color: rgb(119,119,119)">7. </span><span data-lake-id="u826e6d60" id="u826e6d60" class="lake-fontsize-12" style="color: rgb(119,119,119)">关于编译器生成的默认成员函数，很多童鞋</span><span data-lake-id="u315aaeed" id="u315aaeed" class="lake-fontsize-12" style="color: rgb(119,119,119)">会有疑惑：在我们不实现构造函数的情况下，编译器会生成</span><span data-lake-id="u937ff2df" id="u937ff2df" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="u944beb83" id="u944beb83" class="lake-fontsize-12" style="color: rgb(119,119,119)">默认的构造函数。但是看起来默认构造函数又没什么用？</span><span data-lake-id="u76d25590" id="u76d25590" class="lake-fontsize-12" style="color: rgb(119,119,119)">  </span><span data-lake-id="u465ae7ae" id="u465ae7ae" class="lake-fontsize-12" style="color: rgb(119,119,119)">d</span><span data-lake-id="u3e8344dd" id="u3e8344dd" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象调用了编译器生成的默认构造函数，但</span><span data-lake-id="u5dbd2ca8" id="u5dbd2ca8" class="lake-fontsize-12" style="color: rgb(119,119,119)">  </span><span data-lake-id="uf59d8fba" id="uf59d8fba" class="lake-fontsize-12" style="color: rgb(119,119,119)">是</span><span data-lake-id="ud6cd4a84" id="ud6cd4a84" class="lake-fontsize-12" style="color: rgb(119,119,119)">d</span><span data-lake-id="ufbbca582" id="ufbbca582" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象</span><span data-lake-id="u5b36a6e8" id="u5b36a6e8" class="lake-fontsize-12" style="color: rgb(119,119,119)">year</span><span data-lake-id="u816d833b" id="u816d833b" class="lake-fontsize-12" style="color: rgb(119,119,119)">/</span><span data-lake-id="uba373d5a" id="uba373d5a" class="lake-fontsize-12" style="color: rgb(119,119,119)">month</span><span data-lake-id="u2c97fda5" id="u2c97fda5" class="lake-fontsize-12" style="color: rgb(119,119,119)">/_</span><span data-lake-id="u7bae6ab4" id="u7bae6ab4" class="lake-fontsize-12" style="color: rgb(119,119,119)">day</span><span data-lake-id="udf8b5257" id="udf8b5257" class="lake-fontsize-12" style="color: rgb(119,119,119)">，依旧是随机值。也就说在这里</span><strong><span data-lake-id="u66f5efd8" id="u66f5efd8" class="lake-fontsize-12" style="color: rgb(119,119,119)">编译器生成的默认构造函数并没</span></strong><strong><span data-lake-id="u9148081d" id="u9148081d" class="lake-fontsize-12" style="color: rgb(119,119,119)">有什么卵</span></strong></p><p data-lake-id="u4e91ebed" id="u4e91ebed" style="text-align: left"><strong><span data-lake-id="u9de43600" id="u9de43600" class="lake-fontsize-12" style="color: rgb(119,119,119)">用</span></strong><strong><span data-lake-id="u4a4fb953" id="u4a4fb953" class="lake-fontsize-12" style="color: rgb(119,119,119)">？？</span></strong></p><ul list="u6a5a5a1b" data-lake-indent="1"><li fid="uce4cfe12" data-lake-id="u80b0611c" id="u80b0611c" style="text-align: left"><span data-lake-id="u2e6d302d" id="u2e6d302d" class="lake-fontsize-12" style="color: rgb(119,119,119)">解答： C++把类型分成内置类型(基本类型)和自定义类型。内置类型就是语法已经定义好的类型：如</span></li><li fid="uce4cfe12" data-lake-id="uacf50827" id="uacf50827" style="text-align: left"><span data-lake-id="u83107557" id="u83107557" class="lake-fontsize-12" style="color: rgb(119,119,119)">int/char... ，自定义类型就是我们使用class/struct/union自己定义的类型，看看下面的程序，就会发现 编译器生成默认的构造函数会对自定类型成员_t调用的它的默认成员函数</span></li></ul></blockquote><h4 data-lake-id="y1Bks" id="y1Bks"><span data-lake-id="ue2424264" id="ue2424264">临时对象</span></h4><ul list="u571f815e"><li fid="u01d21045" data-lake-id="u82ecbfe2" id="u82ecbfe2"><strong><span data-lake-id="u28104390" id="u28104390" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">临时对象的定义</span></strong></li></ul><ul list="u571f815e" data-lake-indent="1"><li fid="u01d21045" data-lake-id="u3ae0873b" id="u3ae0873b"><span data-lake-id="ub812a68d" id="ub812a68d" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">临时对象是一个</span><strong><span data-lake-id="u4f230768" id="u4f230768" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">未命名的对象</span></strong><span data-lake-id="u3e9888c7" id="u3e9888c7" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">，通常由构造函数直接创建，生命周期仅限于其所在的语句或表达式。它的创建和析构是隐式的，程序员无法直接访问或修改它。</span></li><li fid="u01d21045" data-lake-id="u9fa66b94" id="u9fa66b94"><span data-lake-id="u21e15805" id="u21e15805" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">若使用有参构造函数，临时对象</span><strong><span data-lake-id="u097d94a0" id="u097d94a0" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">不会调用无参构造函数</span></strong><span data-lake-id="u836903e4" id="u836903e4" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">，除非显式地使用无参构造函数创建临时对象。临时对象的构造函数调用取决于</span><strong><span data-lake-id="u26286f36" id="u26286f36" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">创建临时对象时使用的构造函数</span></strong><span data-lake-id="u2a996df8" id="u2a996df8" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">。</span></li></ul><p data-lake-id="ude82ebea" id="ude82ebea"><strong><span data-lake-id="uae43a9bf" id="uae43a9bf" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">​</span></strong><br></p><ul list="udade9a02"><li fid="u63ddd522" data-lake-id="u254bca56" id="u254bca56"><strong><span data-lake-id="ua422c7a3" id="ua422c7a3" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">临时对象的生命周期</span></strong></li></ul><ol list="uec163e32"><li fid="u7022e660" data-lake-id="u4a56af4c" id="u4a56af4c"><strong><span data-lake-id="u09a161de" id="u09a161de" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">创建</span></strong><span data-lake-id="ud82294e9" id="ud82294e9" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">：</span></li></ol><ul list="uee319de5" data-lake-indent="1"><li fid="u7526750c" data-lake-id="u90668222" id="u90668222"><span data-lake-id="u24d5c011" id="u24d5c011" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">在</span><span data-lake-id="u4f80569d" id="u4f80569d" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)"> </span><code data-lake-id="uec435ffe" id="uec435ffe"><span data-lake-id="u8852a415" id="u8852a415" class="lake-fontsize-11" style="color: var(--yb-md-inline-code-color); background-color: rgb(252, 252, 252)">A(8, 9);</span></code><span data-lake-id="ud6f538b9" id="ud6f538b9" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)"> </span><span data-lake-id="u234ef777" id="u234ef777" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">语句执行时，临时对象被创建。</span></li></ul><ol list="uec163e32" start="2"><li fid="u7022e660" data-lake-id="uba852645" id="uba852645"><strong><span data-lake-id="u45380a8a" id="u45380a8a" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">析构</span></strong><span data-lake-id="ue53aa908" id="ue53aa908" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">：</span></li></ol><ul list="ufd233c77" data-lake-indent="1"><li fid="u567859b3" data-lake-id="ua0b4458c" id="ua0b4458c"><span data-lake-id="ufc28a14f" id="ufc28a14f" class="lake-fontsize-12" style="color: rgba(0, 0, 0, 0.9); background-color: rgb(252, 252, 252)">语句执行结束后，临时对象立即被析构。</span></li></ul><article data-lake-id="u91030fb5" id="u91030fb5" class="lake-columns"><article data-lake-id="ud865b90f" id="ud865b90f" class="lake-column-item" style="width: 50.000000%"><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E5%8E%9F%E4%BB%A3%E7%A0%81%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20A%5Cn%7B%5Cnpublic%3A%5Cn%20%20%20%20int%20a%20%3D%201%3B%5Cn%20%20%20%20int%20b%20%3D%209%3B%5Cn%20%20%20%20void%20Print()%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20%5C%221%5C%22%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20A(int%20d%2C%20int%20e)%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20a%20%3C%3C%20%5C%22%20%5C%22%20%3C%3C%20b%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20A()%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20%5C%22%E6%9E%84%E9%80%A0%5C%22%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20~A()%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20%5C%22%E6%9E%90%E6%9E%84%5C%22%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cn%7D%3B%5Cn%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20class%20A%20abc%3B%20%20%20%20%20%20%20%20%2F%2F%20%E8%B0%83%E7%94%A8%E9%BB%98%E8%AE%A4%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%20A()%5Cn%20%20%20%20abc.Print()%3B%20%20%20%20%20%20%20%20%2F%2F%20%E8%B0%83%E7%94%A8%20Print()%5Cn%20%20%20%20A(8%2C%209)%3B%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%B0%83%E7%94%A8%E5%B8%A6%E5%8F%82%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%20A(int%20d%2C%20int%20e)%5Cn%20%20%20%20cout%20%3C%3C%20%5C%220%5C%22%20%3C%3C%20endl%3B%5Cn%20%20%20%20return%200%3B%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20main%20%E7%BB%93%E6%9D%9F%EF%BC%8C%E8%A7%A6%E5%8F%91%E6%9E%90%E6%9E%84%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E5%8E%9F%E4%BB%A3%E7%A0%81%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22xXeG1%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></article><article data-lake-id="uc0bb88cb" id="uc0bb88cb" class="lake-column-item" style="width: 50.000000%"><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E4%B8%B4%E6%97%B6%E4%BB%A3%E7%A0%81%E7%9A%84%E8%99%9A%E6%8B%9F%E5%8C%96%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20A%5Cn%7B%5Cnpublic%3A%5Cn%20%20%20%20int%20a%20%3D%201%3B%5Cn%20%20%20%20int%20b%20%3D%209%3B%5Cn%20%20%20%20void%20Print()%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20%5C%221%5C%22%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20A(int%20d%2C%20int%20e)%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20a%20%3C%3C%20%5C%22%20%5C%22%20%3C%3C%20b%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20A()%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20%5C%22%E6%9E%84%E9%80%A0%5C%22%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20~A()%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20%5C%22%E6%9E%90%E6%9E%84%5C%22%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cn%7D%3B%5Cn%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20class%20A%20abc%3B%20%20%20%20%20%20%20%20%2F%2F%20%E8%B0%83%E7%94%A8%E9%BB%98%E8%AE%A4%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%20A()%5Cn%20%20%20%20abc.Print()%3B%20%20%20%20%20%20%20%20%2F%2F%20%E8%B0%83%E7%94%A8%20Print()%5Cn%5Cn%20%20%20%20%2F%2F%20%E4%B8%B4%E6%97%B6%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%A7%8B%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20A%20temp(8%2C%209)%3B%20%20%20%2F%2F%20%E8%B0%83%E7%94%A8%E5%B8%A6%E5%8F%82%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%20A(int%20d%2C%20int%20e)%5Cn%20%20%20%20%7D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E4%B8%B4%E6%97%B6%E5%AF%B9%E8%B1%A1%E7%BB%93%E6%9D%9F%EF%BC%8C%E8%B0%83%E7%94%A8%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%20~A()%5Cn%5Cn%20%20%20%20cout%20%3C%3C%20%5C%220%5C%22%20%3C%3C%20endl%3B%5Cn%20%20%20%20return%200%3B%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20main%20%E7%BB%93%E6%9D%9F%EF%BC%8C%E8%A7%A6%E5%8F%91%E6%9E%90%E6%9E%84%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E4%B8%B4%E6%97%B6%E4%BB%A3%E7%A0%81%E7%9A%84%E8%99%9A%E6%8B%9F%E5%8C%96%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22w14of%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></article></article><p data-lake-id="u2661d9d3" id="u2661d9d3"><br></p><h4 data-lake-id="wohzT" id="wohzT" collapsed="true"><span data-lake-id="u74ac616a" id="u74ac616a">类中成员的存储</span></h4><table data-lake-id="vQjfG" id="vQjfG" margin="true" class="lake-table" style="width: 750px"><colgroup><col width="250"><col width="250"><col width="250"></colgroup><tbody><tr data-lake-id="ue2369535" id="ue2369535"><td data-lake-id="u747ae862" id="u747ae862"><p data-lake-id="u26bdb116" id="u26bdb116" style="text-align: left"><strong><span data-lake-id="ubf27818b" id="ubf27818b" class="lake-fontsize-12" style="color: rgb(var(--ds-rgb-label-1))">类别</span></strong></p></td><td data-lake-id="u8302baa4" id="u8302baa4"><p data-lake-id="uf222884a" id="uf222884a" style="text-align: left"><strong><span data-lake-id="u982d1c87" id="u982d1c87" class="lake-fontsize-12" style="color: rgb(var(--ds-rgb-label-1))">存储位置</span></strong></p></td><td data-lake-id="u1ab9c782" id="u1ab9c782"><p data-lake-id="ud0dd1bf9" id="ud0dd1bf9" style="text-align: left"><strong><span data-lake-id="u92ed609a" id="u92ed609a" class="lake-fontsize-12" style="color: rgb(var(--ds-rgb-label-1))">说明</span></strong></p></td></tr><tr data-lake-id="u355fcc2f" id="u355fcc2f"><td data-lake-id="u897385a9" id="u897385a9"><p data-lake-id="u5d345072" id="u5d345072"><strong><span data-lake-id="uec43c4b9" id="uec43c4b9" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">非静态成员变量</span></strong></p></td><td data-lake-id="udec6d6f5" id="udec6d6f5"><p data-lake-id="ub15a71ff" id="ub15a71ff"><span data-lake-id="uffd470e9" id="uffd470e9" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">对象的内存空间（栈或堆）</span></p></td><td data-lake-id="u60c47271" id="u60c47271"><p data-lake-id="u9e69ed39" id="u9e69ed39"><span data-lake-id="ua3d93af2" id="ua3d93af2" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">每个对象有自己的一份副本。</span></p></td></tr><tr data-lake-id="ue2f0724e" id="ue2f0724e"><td data-lake-id="uec524d01" id="uec524d01"><p data-lake-id="u9abc3734" id="u9abc3734"><strong><span data-lake-id="ucb5810b4" id="ucb5810b4" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">静态成员变量</span></strong></p></td><td data-lake-id="u0120fdb8" id="u0120fdb8"><p data-lake-id="ua4f071d9" id="ua4f071d9"><span data-lake-id="ua83254d7" id="ua83254d7" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">全局数据区（静态存储区）</span></p></td><td data-lake-id="u497c18bd" id="u497c18bd"><p data-lake-id="uca811315" id="uca811315"><span data-lake-id="udb0132c3" id="udb0132c3" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">所有对象共享同一份静态成员变量。</span></p></td></tr><tr data-lake-id="u0ebbfa24" id="u0ebbfa24"><td data-lake-id="u36558325" id="u36558325"><p data-lake-id="u2c60c96b" id="u2c60c96b"><strong><span data-lake-id="u6c831c77" id="u6c831c77" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">成员函数</span></strong></p></td><td data-lake-id="uc01c06fe" id="uc01c06fe"><p data-lake-id="ue8e5174d" id="ue8e5174d"><span data-lake-id="u992250e4" id="u992250e4" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">代码区</span></p></td><td data-lake-id="u1dba64a0" id="u1dba64a0"><p data-lake-id="uc7efcab7" id="uc7efcab7"><span data-lake-id="u7253b75f" id="u7253b75f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">所有对象共享同一份成员函数代码，通过</span><span data-lake-id="u1012e811" id="u1012e811" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><code data-lake-id="ud7cf8115" id="ud7cf8115"><span data-lake-id="ud6aac188" id="ud6aac188" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">this</span></code></p><p data-lake-id="udc515252" id="udc515252"><span data-lake-id="u78a2be95" id="u78a2be95" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="u903aa464" id="u903aa464" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">指针访问对象的成员变量。</span></p></td></tr><tr data-lake-id="uf479d1dd" id="uf479d1dd"><td data-lake-id="u9e91d202" id="u9e91d202"><p data-lake-id="u1984644c" id="u1984644c"><strong><span data-lake-id="uc2dac434" id="uc2dac434" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">类的定义</span></strong></p></td><td data-lake-id="u3094d061" id="u3094d061"><p data-lake-id="u95a76f26" id="u95a76f26"><span data-lake-id="u03c1e36e" id="u03c1e36e" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">代码区</span></p></td><td data-lake-id="ud708b5c7" id="ud708b5c7"><p data-lake-id="u60ff5b15" id="u60ff5b15"><span data-lake-id="u118743f0" id="u118743f0" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">类的定义是编译时确定的，不占用运行时内存。</span></p></td></tr></tbody></table><h3 data-lake-id="iGsF0" id="iGsF0" collapsed="true"><span data-lake-id="u134df5d4" id="u134df5d4">3.析构函数</span></h3><blockquote data-lake-id="ufcbbca43" id="ufcbbca43"><p data-lake-id="u0381ef8f" id="u0381ef8f"><strong><span data-lake-id="u03bccdbc" id="u03bccdbc" class="lake-fontsize-12">3.1概念</span></strong></p><p data-lake-id="u852fe7c0" id="u852fe7c0"><span data-lake-id="ub3b52457" id="ub3b52457" class="lake-fontsize-12" style="color: rgb(119,119,119)">析构函数：与构造函数功能相反，析构函数不是完成对象的销毁，局部对象销毁工作是由编译器完成的。而 </span><strong><span data-lake-id="u20a6768a" id="u20a6768a" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象在销毁时会自动调用析构函数，完成类的一些资源清理工作</span></strong></p></blockquote><blockquote data-lake-id="u77ef7e87" id="u77ef7e87"><p data-lake-id="u8412e262" id="u8412e262"><span data-lake-id="uc5c8c8ed" id="uc5c8c8ed" class="lake-fontsize-12" style="color: rgb(119,119,119)">注意：</span></p><ul list="u55e45e27"><li fid="u3d373101" data-lake-id="u72498c6d" id="u72498c6d"><span data-lake-id="u99ba7a92" id="u99ba7a92" class="lake-fontsize-12" style="color: rgb(119,119,119)">若创建Person p1,Person p2</span></li><li fid="u3d373101" data-lake-id="u8a23aef1" id="u8a23aef1"><span data-lake-id="ueba74534" id="ueba74534" class="lake-fontsize-12" style="color: rgb(119,119,119)">默认构造函数会先完成p1的实例化</span></li><li fid="u3d373101" data-lake-id="u727df774" id="u727df774"><span data-lake-id="uaa9224b4" id="uaa9224b4" class="lake-fontsize-12" style="color: rgb(119,119,119)">析构函数会先析构p2的实例化</span></li></ul></blockquote><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E9%A1%BA%E5%BA%8F%E5%A6%82%E4%B8%8B%22%2C%22mode%22%3A%22plain%22%2C%22code%22%3A%22p1%20%E8%A2%AB%E5%88%9B%E5%BB%BA%5Cn%2F%2F...%5Cnp2%20%E8%A2%AB%E5%88%9B%E5%BB%BA%5Cn%2F%2F...%5Cnp2%20%E8%A2%AB%E6%9E%90%E6%9E%84%5Cnp1%20%E8%A2%AB%E6%9E%90%E6%9E%84%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E9%A1%BA%E5%BA%8F%E5%A6%82%E4%B8%8B%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22UDR9c%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u74e0227c" id="u74e0227c" style="text-align: left"><strong><span data-lake-id="u4aff5274" id="u4aff5274" class="lake-fontsize-12" style="color: rgb(119,119,119)">析构函数</span></strong><span data-lake-id="u70ae3638" id="u70ae3638" class="lake-fontsize-12" style="color: rgb(119,119,119)">是特殊的成员函数。</span></p><p data-lake-id="u8c94a97c" id="u8c94a97c" style="text-align: left"><span data-lake-id="u5f551115" id="u5f551115" class="lake-fontsize-12" style="color: rgb(119,119,119)">其</span><strong><span data-lake-id="u81519ecf" id="u81519ecf" class="lake-fontsize-12" style="color: rgb(119,119,119)">特征</span></strong><span data-lake-id="ud3006c7d" id="ud3006c7d" class="lake-fontsize-12" style="color: rgb(119,119,119)">如下：</span></p><p data-lake-id="uf84b971a" id="uf84b971a"><span data-lake-id="u8f69cb92" id="u8f69cb92" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. 析构函数名是在类名前加上字符~。</span></p><p data-lake-id="u972b6de4" id="u972b6de4" style="text-align: left"><span data-lake-id="uc87a22cc" id="uc87a22cc" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 无参数无返回值。</span></p><p data-lake-id="u323814e9" id="u323814e9" style="text-align: left"><span data-lake-id="u1c394a83" id="u1c394a83" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><span data-lake-id="u9535aa70" id="u9535aa70" class="lake-fontsize-12" style="color: rgb(119,119,119)">一个类有且只有一个析构函数。若未显式定义，系统会自动生成默认的析构函数。</span></p><p data-lake-id="u5712ba32" id="u5712ba32" style="text-align: left"><span data-lake-id="u44534645" id="u44534645" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. 对象生命周期结束时,C++编译系统系统自动调用析构函数。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E6%A0%88%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Stack%5Cn%7B%5Cnpublic%3A%5Cn%5Ct%2F%2F%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E6%97%B6%E8%87%AA%E5%8A%A8%E8%B0%83%E7%94%A8%E5%AE%8C%E6%88%90%E5%88%9D%E5%A7%8B%E5%B7%A5%E4%BD%9C%5Cn%5CtStack(int%20n%20%3D%2010)%5Cn%5Ct%7B%5Cn%5Ct%5Ct_a%20%3D%20(int*)malloc(sizeof(int)%20*%20n)%3B%5Cn%5Ct%5Ct_size%20%3D%200%3B%5Cn%5Ct%5Ct_capacity%20%3D%20n%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2F%E5%AF%B9%E8%B1%A1%E5%A3%B0%E6%98%8E%E5%91%A8%E6%9C%9F%E5%88%B0%E4%BA%86%E4%BB%A5%E5%90%8E%EF%BC%8C%E5%AE%8C%E6%88%90%E6%B8%85%E7%90%86%E5%B7%A5%E4%BD%9C%5Cn%5Ct~Stack()%5Cn%5Ct%7B%5Cn%5Ct%5Ctfree(_a)%3B%5Cn%20%20%20%20%20%20%20%20_a%20%3D%20nullptr%3B%5Cn%5Ct%5Ct_size%20%3D%20_capacity%20%3D%200%3B%5Cn%5Ct%7D%2F%2F%E5%88%9B%E5%BB%BA%E5%8A%A8%E6%80%81%E5%BC%80%E8%BE%9F%E7%9A%84%E9%9C%80%E8%A6%81%E6%B8%85%E7%90%86%5Cnprivate%3A%5Cn%5Ctint*%20_a%3B%5Cn%5Ctint%20_size%3B%5Cn%5Ctint%20_capacity%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E6%A0%88%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22hrM8J%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ucb89af3a" id="ucb89af3a" style="text-align: left"><span data-lake-id="ubb0ffbab" id="ubb0ffbab" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. 关于编译器自动生成的析构函数，是否会完成一些事情呢？下面的程序我们会看到，编译器生成的默认析构函数，对会自定类型成员调用它的析构函数。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Time%5Cn%7B%5Cnpublic%3A%5Cn%5Ct~Time()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22~Time()%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%7D%3B%5Cn%5Cnclass%20Date%5Cn%7B%5Cnpublic%3A%5Cn%5CtDate(int%20year%20%3D%200%2C%20int%20month%20%3D%201%2Cint%20day%20%3D%201)%5Cn%5Ct%7B%5Cn%5Ct%5Ct_year%20%3D%20year%3B%5Cn%5Ct%5Ct_month%20%3D%20month%3B%5Cn%5Ct%5Ct_day%20%3D%20day%3B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Date()%5C%22%20%3C%3C%20this%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%5Ct~Date()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22~Date()%5C%22%20%3C%3C%20this%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cnprivate%3A%5Cn%5Ctint%20_year%3B%5Cn%5Ctint%20_month%3B%5Cn%5Ctint%20_day%3B%5Cn%5Cn%5CtTime%20_t%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22jKCnW%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="WIrvJ" id="WIrvJ"><span data-lake-id="u67350fd9" id="u67350fd9">4.拷贝构造函数</span></h3><p data-lake-id="u3bb0f7c4" id="u3bb0f7c4" style="text-align: left"><strong><span data-lake-id="u2db19d7f" id="u2db19d7f" class="lake-fontsize-12" style="color: rgb(51,51,51)">4.1 </span></strong><strong><span data-lake-id="u4369a79d" id="u4369a79d" class="lake-fontsize-12" style="color: rgb(51,51,51)">概念</span></strong></p><p data-lake-id="u36173d14" id="u36173d14" style="text-align: left"><strong><span data-lake-id="u994ce084" id="u994ce084" class="lake-fontsize-12" style="color: rgb(119,119,119)">构造函数</span></strong><span data-lake-id="u0f14919e" id="u0f14919e" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><strong><span data-lake-id="u3e09429e" id="u3e09429e" class="lake-fontsize-12" style="color: rgb(119,119,119)">只有单个形参</span></strong><span data-lake-id="u4f391eed" id="u4f391eed" class="lake-fontsize-12" style="color: rgb(119,119,119)">，该形参是对本</span><strong><span data-lake-id="u8415545c" id="u8415545c" class="lake-fontsize-12" style="color: rgb(119,119,119)">类类型对象的引用(一般常用const修饰)</span></strong><span data-lake-id="ufbcf47d3" id="ufbcf47d3" class="lake-fontsize-12" style="color: rgb(119,119,119)">，在用</span><strong><span data-lake-id="u2a04cc2e" id="u2a04cc2e" class="lake-fontsize-12" style="color: rgb(119,119,119)">已存在的类类型对象 创建新对象时由编译器自动调用</span></strong><span data-lake-id="ub38bc65b" id="ub38bc65b" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="u0c90b828" id="u0c90b828" style="text-align: left"><strong><span data-lake-id="u29e94f4a" id="u29e94f4a" class="lake-fontsize-12" style="color: rgb(51,51,51)">4.2 </span></strong><strong><span data-lake-id="u0c5cf9d9" id="u0c5cf9d9" class="lake-fontsize-12" style="color: rgb(51,51,51)">特征</span></strong></p><p data-lake-id="udf402383" id="udf402383" style="text-align: left"><span data-lake-id="u193ccdaa" id="u193ccdaa" class="lake-fontsize-12" style="color: rgb(119,119,119)">拷贝构造函数也是特殊的成员函数，其</span><strong><span data-lake-id="udfc60ddf" id="udfc60ddf" class="lake-fontsize-12" style="color: rgb(119,119,119)">特征</span></strong><span data-lake-id="ub88430d2" id="ub88430d2" class="lake-fontsize-12" style="color: rgb(119,119,119)">如下：</span></p><p data-lake-id="u4a6314d6" id="u4a6314d6" style="text-align: left"><span data-lake-id="ub7e1e024" id="ub7e1e024" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><span data-lake-id="ue922ed15" id="ue922ed15" class="lake-fontsize-12" style="color: rgb(119,119,119)">拷贝构造函数</span><strong><span data-lake-id="uefac8b75" id="uefac8b75" class="lake-fontsize-12" style="color: rgb(119,119,119)">是构造函数的一个重载形式</span></strong><span data-lake-id="u991da40d" id="u991da40d" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="ud2c611b9" id="ud2c611b9" style="text-align: left"><span data-lake-id="u62df8de8" id="u62df8de8" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 拷贝构造函数的</span><strong><span data-lake-id="u27cb169f" id="u27cb169f" class="lake-fontsize-12" style="color: #262626">参数只有一个</span></strong><span data-lake-id="u9aa8c1c5" id="u9aa8c1c5" class="lake-fontsize-12" style="color: rgb(119,119,119)">且</span><strong><span data-lake-id="u1ae4195a" id="u1ae4195a" class="lake-fontsize-12" style="color: #262626">必须使用引用传参</span></strong><span data-lake-id="ufbdcde20" id="ufbdcde20" class="lake-fontsize-12" style="color: rgb(119,119,119)">，使用</span><strong><span data-lake-id="u337bc1a2" id="u337bc1a2" class="lake-fontsize-12" style="color: rgb(119,119,119)">传值方式会引发无穷递归调用</span></strong><span data-lake-id="u897c1a35" id="u897c1a35" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E6%8B%B7%E8%B4%9D%E7%90%86%E8%A7%A3%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Date%5Cn%7B%5Cnpublic%3A%5Cn%5CtDate(int%20year%20%3D%200%2C%20int%20month%20%3D%201%2C%20int%20day%20%3D%201)%5Cn%5Ct%7B%5Cn%5Ct%5Ct_year%20%3D%20year%3B%5Cn%5Ct%5Ct_month%20%3D%20month%3B%5Cn%5Ct%5Ct_day%20%3D%20day%3B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Date()%5C%22%20%3C%3C%20this%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%5Cn%5CtDate(const%20Date%26%20d)%5Cn%5Ct%7B%5Cn%20%20%20%20%20%20%20%20_year%20%3D%20d.year%3B%5Cn%5Ct%5Ct_month%20%3D%20d.month%3B%5Cn%5Ct%5Ct_day%20%3D%20d.day%3B%5Cn%5Ct%7D%5Cn%5Ct~Date()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22~Date()%5C%22%20%3C%3C%20this%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cnprivate%3A%5Cn%5Ctint%20_year%3B%5Cn%5Ctint%20_month%3B%5Cn%5Ctint%20_day%3B%5Cn%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E6%8B%B7%E8%B4%9D%E7%90%86%E8%A7%A3%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__height%22%3A521.5357055664062%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22AEXWz%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22height%22%3A521.5357055664062%7D"></card><p data-lake-id="ue765bbce" id="ue765bbce" style="text-align: left"><strong><span data-lake-id="ua2150b15" id="ua2150b15" class="lake-fontsize-12" style="color: rgb(119,119,119)">3.若未显示定义，系统生成默认的拷贝构造函数。   </span></strong><span data-lake-id="ue3b61496" id="ue3b61496" class="lake-fontsize-12" style="color: rgb(119,119,119)">默认的拷贝构造函数对象按内存存储按字节序完成拷贝，这种拷贝我们叫做浅拷贝，或者值拷贝。</span></p><p data-lake-id="u3b4eeaf7" id="u3b4eeaf7" style="text-align: left"><span data-lake-id="uaf9a0e6d" id="uaf9a0e6d" class="lake-fontsize-12" style="color: rgb(119,119,119)">（即，此时未写操作符重载以及拷贝构造函数，编译器会自行完成拷贝）--05  1:13:18（</span><span data-lake-id="u055ea8c9" id="u055ea8c9" class="lake-fontsize-12" style="color: #DF2A3F">也就是说有些类，我们是不需要去实现拷贝构造函数和operator=的，因为编译器默认生成就可以用。比如Date就是这样</span><span data-lake-id="u4e738441" id="u4e738441" class="lake-fontsize-12" style="color: rgb(119,119,119)">）</span><span data-lake-id="u43febf40" id="u43febf40" class="lake-fontsize-1515" style="color: #DF2A3F">--构造、析构、拷贝构造、赋值重载会自动生成</span><span data-lake-id="u02389c39" id="u02389c39" class="lake-fontsize-12" style="color: rgb(119,119,119)">时</span></p><details data-lake-id="uf6a0ca16" id="uf6a0ca16" open="true" class="lake-collapse"><summary data-lake-id="u44176c87" id="u44176c87" class="lake-summary"><strong><span data-lake-id="u13195217" id="u13195217" class="lake-fontsize-12" style="color: #DF2A3F">问题</span></strong><span data-lake-id="ua04c35c3" id="ua04c35c3" class="lake-fontsize-12" style="color: rgb(119,119,119)">：我们学拷贝构造的意义在哪？</span></summary><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E6%B5%85%E6%8B%B7%E8%B4%9D%E9%97%AE%E9%A2%98%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Stack%5Cn%7B%5Cnpublic%3A%5Cn%5Ct%2F%2F%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E6%97%B6%E8%87%AA%E5%8A%A8%E8%B0%83%E7%94%A8%E5%AE%8C%E6%88%90%E5%88%9D%E5%A7%8B%E5%B7%A5%E4%BD%9C%5Cn%5CtStack(int%20n%20%3D%2010)%5Cn%5Ct%7B%5Cn%5Ct%5Ct_a%20%3D%20(int*)malloc(sizeof(int)%20*%20n)%3B%5Cn%5Ct%5Ct_size%20%3D%200%3B%5Cn%5Ct%5Ct_capacity%20%3D%20n%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2F%E5%AF%B9%E8%B1%A1%E5%A3%B0%E6%98%8E%E5%91%A8%E6%9C%9F%E5%88%B0%E4%BA%86%E4%BB%A5%E5%90%8E%EF%BC%8C%E5%AE%8C%E6%88%90%E6%B8%85%E7%90%86%E5%B7%A5%E4%BD%9C%5Cn%5Ct~Stack()%5Cn%5Ct%7B%5Cn%5Ct%5Ctfree(_a)%3B%5Cn%20%20%20%20%20%20%20%20_a%20%3D%20nullptr%3B%5Cn%5Ct%5Ct_size%20%3D%20_capacity%20%3D%200%3B%5Cn%5Ct%7D%2F%2F%E5%88%9B%E5%BB%BA%E5%8A%A8%E6%80%81%E5%BC%80%E8%BE%9F%E7%9A%84%E9%9C%80%E8%A6%81%E6%B8%85%E7%90%86%5Cnprivate%3A%5Cn%5Ctint*%20_a%3B%5Cn%5Ctint%20_size%3B%5Cn%5Ctint%20_capacity%3B%5Cn%7D%3B%5Cn%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20Stack%20st1(10)%3B%5Cn%20%20%20%20Stack%20st2(st1)%3B%5Cn%20%20%20%20%5Cn%20%20%20%20Stack%20st3(30)%3B%5Cn%20%20%20%20st1%20%3D%20st3%3B%5Cn%20%20%20%20return%200%3B%5Cn%7D%5Cn%2F%2F%E4%BC%9A%E5%8F%91%E7%8E%B0%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E6%B5%85%E6%8B%B7%E8%B4%9D%E9%97%AE%E9%A2%98%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22UNlKb%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u31c49fd4" id="u31c49fd4"><span data-lake-id="ucc501703" id="ucc501703" class="lake-fontsize-12">一块空间不能释放两次，否则导致奔溃</span></p><p data-lake-id="u5b617ba8" id="u5b617ba8"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1743427479282-e09c0ca4-3fe3-4b13-8790-deb946c64181.png%22%2C%22taskId%22%3A%22u6900b1bb-7f77-4a7f-8834-14f9153acce%22%2C%22clientId%22%3A%22uc9a1df4d-c7e6-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A524%2C%22height%22%3A234%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A165572%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A917%2C%22originHeight%22%3A409%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E6%B5%85%E6%8B%B7%E8%B4%9D%3A%E5%B0%86%E5%AF%B9%E8%B1%A1%E6%8C%89%E4%B8%80%E4%B8%AA%E4%B8%80%E4%B8%AA%E5%AD%97%E8%8A%82%E6%8B%B7%E8%B4%9D%E8%BF%87%E5%8E%BB%20ST1%20ST2%E6%9E%90%E6%9E%84%20ST2%20FREE(ST2.%20_A)%20%2F%2F%E6%B5%85%E6%8B%B7%E8%B4%9D%E9%97%AE%E9%A2%98%3F%20SIZE%20SIZE%20STACK%20ST1(10)%3B%20ST1%E6%9E%90%E6%9E%84%20CAPACITY%20CAPACITY%20ST2(ST1)%3B%20STACK%20FREE(STL.%20A)%20ST3%20STACK%20ST3(30)%3B%20A%20STL%20ST3%3B%20SIZE%20CAPACITY%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A133%2C%22y%22%3A1%2C%22width%22%3A431%2C%22height%22%3A26%2C%22text%22%3A%22%E6%B5%85%E6%8B%B7%E8%B4%9D%3A%E5%B0%86%E5%AF%B9%E8%B1%A1%E6%8C%89%E4%B8%80%E4%B8%AA%E4%B8%80%E4%B8%AA%E5%AD%97%E8%8A%82%E6%8B%B7%E8%B4%9D%E8%BF%87%E5%8E%BB%22%7D%2C%7B%22x%22%3A397%2C%22y%22%3A95%2C%22width%22%3A36%2C%22height%22%3A20%2C%22text%22%3A%22ST1%22%7D%2C%7B%22x%22%3A770%2C%22y%22%3A99%2C%22width%22%3A84%2C%22height%22%3A24%2C%22text%22%3A%22ST2%E6%9E%90%E6%9E%84%22%7D%2C%7B%22x%22%3A577%2C%22y%22%3A101%2C%22width%22%3A36%2C%22height%22%3A18%2C%22text%22%3A%22ST2%22%7D%2C%7B%22x%22%3A771%2C%22y%22%3A132%2C%22width%22%3A99%2C%22height%22%3A21%2C%22text%22%3A%22FREE(ST2.%22%7D%2C%7B%22x%22%3A882%2C%22y%22%3A134%2C%22width%22%3A30%2C%22height%22%3A20%2C%22text%22%3A%22_A)%22%7D%2C%7B%22x%22%3A91%2C%22y%22%3A163%2C%22width%22%3A172%2C%22height%22%3A26%2C%22text%22%3A%22%2F%2F%E6%B5%85%E6%8B%B7%E8%B4%9D%E9%97%AE%E9%A2%98%3F%22%7D%2C%7B%22x%22%3A592%2C%22y%22%3A166%2C%22width%22%3A53%2C%22height%22%3A24%2C%22text%22%3A%22SIZE%22%7D%2C%7B%22x%22%3A403%2C%22y%22%3A166%2C%22width%22%3A50%2C%22height%22%3A19%2C%22text%22%3A%22SIZE%22%7D%2C%7B%22x%22%3A93%2C%22y%22%3A190%2C%22width%22%3A165%2C%22height%22%3A27%2C%22text%22%3A%22STACK%20ST1(10)%3B%22%7D%2C%7B%22x%22%3A771%2C%22y%22%3A192%2C%22width%22%3A84%2C%22height%22%3A26%2C%22text%22%3A%22ST1%E6%9E%90%E6%9E%84%22%7D%2C%7B%22x%22%3A406%2C%22y%22%3A199%2C%22width%22%3A92%2C%22height%22%3A18%2C%22text%22%3A%22CAPACITY%22%7D%2C%7B%22x%22%3A593%2C%22y%22%3A204%2C%22width%22%3A120%2C%22height%22%3A21%2C%22text%22%3A%22CAPACITY%22%7D%2C%7B%22x%22%3A165%2C%22y%22%3A222%2C%22width%22%3A102%2C%22height%22%3A24%2C%22text%22%3A%22ST2(ST1)%3B%22%7D%2C%7B%22x%22%3A93%2C%22y%22%3A223%2C%22width%22%3A60%2C%22height%22%3A20%2C%22text%22%3A%22STACK%22%7D%2C%7B%22x%22%3A771%2C%22y%22%3A224%2C%22width%22%3A103%2C%22height%22%3A25%2C%22text%22%3A%22FREE(STL.%22%7D%2C%7B%22x%22%3A887%2C%22y%22%3A229%2C%22width%22%3A21%2C%22height%22%3A18%2C%22text%22%3A%22A)%22%7D%2C%7B%22x%22%3A393%2C%22y%22%3A269%2C%22width%22%3A37%2C%22height%22%3A19%2C%22text%22%3A%22ST3%22%7D%2C%7B%22x%22%3A93%2C%22y%22%3A279%2C%22width%22%3A165%2C%22height%22%3A22%2C%22text%22%3A%22STACK%20ST3(30)%3B%22%7D%2C%7B%22x%22%3A399%2C%22y%22%3A303%2C%22width%22%3A12%2C%22height%22%3A13%2C%22text%22%3A%22A%22%7D%2C%7B%22x%22%3A94%2C%22y%22%3A310%2C%22width%22%3A117%2C%22height%22%3A21%2C%22text%22%3A%22STL%20ST3%3B%22%7D%2C%7B%22x%22%3A400%2C%22y%22%3A332%2C%22width%22%3A46%2C%22height%22%3A17%2C%22text%22%3A%22SIZE%22%7D%2C%7B%22x%22%3A398%2C%22y%22%3A362%2C%22width%22%3A98%2C%22height%22%3A24%2C%22text%22%3A%22CAPACITY%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fefcfc%22%2C%22id%22%3A%22ue65c1406%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u2568530a" id="u2568530a"><span data-lake-id="u45686c83" id="u45686c83">解决方法：</span></p><p data-lake-id="u67b670a4" id="u67b670a4"><span data-lake-id="uce4f4faf" id="uce4f4faf">去自己实现深拷贝的拷贝构造和operator=</span></p></details><p data-lake-id="u356e0462" id="u356e0462" style="text-align: left"><span data-lake-id="u435e62d6" id="u435e62d6" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. 那么</span><strong><span data-lake-id="ub8fe1ee1" id="ub8fe1ee1" class="lake-fontsize-12" style="color: rgb(119,119,119)">编译器生成的默认拷贝构造函数已经可以完成字节序的值拷贝了</span></strong><span data-lake-id="u352094f6" id="u352094f6" class="lake-fontsize-12" style="color: rgb(119,119,119)">，我们还需要自己实现吗？当然像 日期类这样的类是没必要的。</span></p><p data-lake-id="u5676b25f" id="u5676b25f" style="text-align: left"><strong><span data-lake-id="u6b06fe0a" id="u6b06fe0a" class="lake-fontsize-12" style="color: rgb(119,119,119)">自定义类型传参数和返回值时，在可以的情况下，尽量使用引用，减少拷贝</span></strong></p><p data-lake-id="uc58f6c23" id="uc58f6c23" style="text-align: left"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1743422969475-4b144d34-e99c-4e26-bc2a-321a1dd80759.png%22%2C%22taskId%22%3A%22ufef84173-9fa0-44a7-a55f-ddde446c438%22%2C%22clientId%22%3A%22ud3023e05-93cf-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A1141.7142857142858%2C%22height%22%3A127%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A380050%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1998%2C%22originHeight%22%3A222%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E5%A4%8D%E5%88%B6%20D1%E4%B8%89D2%3A%2F%2F%E4%B8%A4%E4%B8%AA%E5%AF%B9%E8%B1%A1%E9%83%BD%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8%E4%B8%94%E5%88%9D%E5%A7%8B%E5%8C%96%E5%A5%BD%E4%BA%86%2C%E7%8E%B0%E5%9C%A8%E6%88%91%E6%83%B3%E6%8A%8AA2%E8%B5%8B%E5%80%BC(%E6%8E%A5%E8%B4%9D)%E7%BB%99DL%20DATE%20D3(D1)%3B%2FD3%E8%BF%98%E4%B8%8D%E5%AD%98%E5%9C%A8%2C%E6%9E%84%E9%80%A0D3%E6%97%B6%E7%94%A8D1%E5%8E%BB%E5%88%9D%E5%A7%8B%E5%8C%96%20DATED4%E4%B8%89D1%3A%2F%2F%E7%89%B9%E5%88%AB%E6%B3%A8%E6%84%8F%3A%E8%BF%99%E9%87%8C%E6%98%AF%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%2C%E4%B8%8D%E6%98%AFOPERATOR%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A1730%2C%22y%22%3A27%2C%22width%22%3A93%2C%22height%22%3A50%2C%22text%22%3A%22%E5%A4%8D%E5%88%B6%22%7D%2C%7B%22x%22%3A86%2C%22y%22%3A32%2C%22width%22%3A1598%2C%22height%22%3A48%2C%22text%22%3A%22D1%E4%B8%89D2%3A%2F%2F%E4%B8%A4%E4%B8%AA%E5%AF%B9%E8%B1%A1%E9%83%BD%E5%B7%B2%E7%BB%8F%E5%AD%98%E5%9C%A8%E4%B8%94%E5%88%9D%E5%A7%8B%E5%8C%96%E5%A5%BD%E4%BA%86%2C%E7%8E%B0%E5%9C%A8%E6%88%91%E6%83%B3%E6%8A%8AA2%E8%B5%8B%E5%80%BC(%E6%8E%A5%E8%B4%9D)%E7%BB%99DL%22%7D%2C%7B%22x%22%3A84%2C%22y%22%3A82%2C%22width%22%3A1087%2C%22height%22%3A45%2C%22text%22%3A%22DATE%20D3(D1)%3B%2FD3%E8%BF%98%E4%B8%8D%E5%AD%98%E5%9C%A8%2C%E6%9E%84%E9%80%A0D3%E6%97%B6%E7%94%A8D1%E5%8E%BB%E5%88%9D%E5%A7%8B%E5%8C%96%22%7D%2C%7B%22x%22%3A85%2C%22y%22%3A138%2C%22width%22%3A1266%2C%22height%22%3A42%2C%22text%22%3A%22DATED4%E4%B8%89D1%3A%2F%2F%E7%89%B9%E5%88%AB%E6%B3%A8%E6%84%8F%3A%E8%BF%99%E9%87%8C%E6%98%AF%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%2C%E4%B8%8D%E6%98%AFOPERATOR%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23f5f3e5%22%2C%22id%22%3A%22u962321af%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><h3 data-lake-id="VBlNU" id="VBlNU"><span data-lake-id="u33d5118d" id="u33d5118d">5.赋值运算符重载</span></h3><p data-lake-id="ud8917340" id="ud8917340"><span data-lake-id="ud412820e" id="ud412820e" class="lake-fontsize-12">解释：是对运算符进行重载 将运算符针对自定义类型进行比较操作</span></p><p data-lake-id="u4ca045aa" id="u4ca045aa" style="text-align: left"><strong><span data-lake-id="u6b3ec40b" id="u6b3ec40b" class="lake-fontsize-12" style="color: rgb(51,51,51)">5.1 </span></strong><strong><span data-lake-id="u94bb295c" id="u94bb295c" class="lake-fontsize-12" style="color: rgb(51,51,51)">运算符重载</span></strong></p><p data-lake-id="ubf5ee95a" id="ubf5ee95a" style="text-align: left"><strong><span data-lake-id="ubaf9853a" id="ubaf9853a" class="lake-fontsize-12" style="color: rgb(119,119,119)">C++为了增强代码的可读性引入了运算符重载 </span></strong><span data-lake-id="u53027fbc" id="u53027fbc" class="lake-fontsize-12" style="color: rgb(119,119,119)">，</span><strong><span data-lake-id="ue9dd41a4" id="ue9dd41a4" class="lake-fontsize-12" style="color: rgb(119,119,119)">运算符重载是具有特殊函数名的函数</span></strong><span data-lake-id="u7df0174f" id="u7df0174f" class="lake-fontsize-12" style="color: rgb(119,119,119)">，也具有其返回值类型，函数名字以及参数列表，其返回值类型与参数列表与普通的函数类似。</span></p><p data-lake-id="u87e30bc5" id="u87e30bc5" style="text-align: left"><span data-lake-id="ud17e5941" id="ud17e5941" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数名字为：关键字</span><strong><span data-lake-id="u1e1c59e2" id="u1e1c59e2" class="lake-fontsize-12" style="color: rgb(119,119,119)">operator</span></strong><strong><span data-lake-id="ue08a07f4" id="ue08a07f4" class="lake-fontsize-12" style="color: rgb(119,119,119)">后面接需要重载的运算符</span></strong><strong><span data-lake-id="ua92fd287" id="ua92fd287" class="lake-fontsize-12" style="color: rgb(119,119,119)">符号</span></strong><span data-lake-id="u0f3e448e" id="u0f3e448e" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="ub12b5932" id="ub12b5932" style="text-align: left"><span data-lake-id="ueaf79c60" id="ueaf79c60" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数原型：  </span><strong><span data-lake-id="u02547105" id="u02547105" class="lake-fontsize-12" style="color: rgb(119,119,119)">返回值类型operator操作符(参数列表)</span></strong></p><p data-lake-id="u851c212a" id="u851c212a" style="text-align: left"><span data-lake-id="u273699d4" id="u273699d4" class="lake-fontsize-12" style="color: rgb(119,119,119)">注意：</span></p><ul list="u486c4271"><li fid="u8f589caa" data-lake-id="u4dccd27d" id="u4dccd27d" style="text-align: left"><span data-lake-id="u69053c85" id="u69053c85" class="lake-fontsize-12" style="color: rgb(119,119,119)">不能通过连接其他符号来创建新的操作符：比如operator@</span></li><li fid="u8f589caa" data-lake-id="u586d8668" id="u586d8668" style="text-align: left"><span data-lake-id="uc9a3f75a" id="uc9a3f75a" class="lake-fontsize-12" style="color: rgb(119,119,119)">重载操作符必须有</span><strong><span data-lake-id="u99d5d040" id="u99d5d040" class="lake-fontsize-12" style="color: rgb(119,119,119)">一个类类型</span></strong><span data-lake-id="uf715e77a" id="uf715e77a" class="lake-fontsize-12" style="color: rgb(119,119,119)">或者</span><strong><span data-lake-id="ue201133b" id="ue201133b" class="lake-fontsize-12" style="color: rgb(119,119,119)">枚举类型的操作数</span></strong></li><li fid="u8f589caa" data-lake-id="u61f98501" id="u61f98501" style="text-align: left"><span data-lake-id="uce15f238" id="uce15f238" class="lake-fontsize-12" style="color: rgb(119,119,119)">用于内置类型的操作符，其含义不能改变，例如：内置的整型+ ，不能改变其含义   </span><strong><span data-lake-id="u0971b91d" id="u0971b91d" class="lake-fontsize-12" style="color: rgb(119,119,119)">作为类成员的重载函数时，其形参看起来比操作数数目少1成员函数</span></strong><span data-lake-id="u097b5786" id="u097b5786" class="lake-fontsize-12" style="color: rgb(119,119,119)">的</span></li><li fid="u8f589caa" data-lake-id="u18184d27" id="u18184d27" style="text-align: left"><span data-lake-id="u32e8393f" id="u32e8393f" class="lake-fontsize-12" style="color: rgb(119,119,119)">操作符有一个默认的形参</span><span data-lake-id="u31f9d701" id="u31f9d701" class="lake-fontsize-12" style="color: rgb(119,119,119)">this</span><span data-lake-id="ud657e312" id="ud657e312" class="lake-fontsize-12" style="color: rgb(119,119,119)">，限定为第一个形参</span></li><li fid="u8f589caa" data-lake-id="uf2f6ed29" id="uf2f6ed29" style="text-align: left"><strong><span data-lake-id="ua572362c" id="ua572362c" class="lake-fontsize-12" style="color: rgb(119,119,119)">.*</span></strong><span data-lake-id="u3c982f99" id="u3c982f99" class="lake-fontsize-12" style="color: rgb(119,119,119)"> 、</span><strong><span data-lake-id="u9f9d2087" id="u9f9d2087" class="lake-fontsize-12" style="color: rgb(119,119,119)">::</span></strong><span data-lake-id="u1594a972" id="u1594a972" class="lake-fontsize-12" style="color: rgb(119,119,119)"> 、</span><strong><span data-lake-id="u54e75c09" id="u54e75c09" class="lake-fontsize-12" style="color: rgb(119,119,119)">sizeof</span></strong><span data-lake-id="u7b95145f" id="u7b95145f" class="lake-fontsize-12" style="color: rgb(119,119,119)">  、</span><strong><span data-lake-id="ufb108da6" id="ufb108da6" class="lake-fontsize-12" style="color: rgb(119,119,119)">?:</span></strong><span data-lake-id="uef403de9" id="uef403de9" class="lake-fontsize-12" style="color: rgb(119,119,119)">   、</span><strong><span data-lake-id="u21a0be4a" id="u21a0be4a" class="lake-fontsize-12" style="color: rgb(119,119,119)">.</span></strong><span data-lake-id="u24857538" id="u24857538" class="lake-fontsize-12" style="color: rgb(119,119,119)">  注意以上5个运算符不能重载。这个经常在笔试选择题中出现。</span></li></ul><p data-lake-id="ud9c5125c" id="ud9c5125c"><strong><span data-lake-id="uddf6983f" id="uddf6983f" class="lake-fontsize-12" style="color: rgb(51,51,51)">5.2 赋值运算符重载</span></strong></p><p data-lake-id="ub9eab2ea" id="ub9eab2ea"><span data-lake-id="u68e4d1c2" id="u68e4d1c2" class="lake-fontsize-12" style="color: rgb(119,119,119)">赋值运算符主要有四点：</span></p><ul list="uac536628"><li fid="uc0a96427" data-lake-id="uf6fc4663" id="uf6fc4663" style="text-align: left"><span data-lake-id="u20d0e2e5" id="u20d0e2e5" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. 参数类型</span></li><li fid="uc0a96427" data-lake-id="u3b1632ac" id="u3b1632ac" style="text-align: left"><span data-lake-id="ue8aa8f09" id="ue8aa8f09" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><span data-lake-id="ue112c474" id="ue112c474" class="lake-fontsize-12" style="color: rgb(119,119,119)">返回值</span></li><li fid="uc0a96427" data-lake-id="u36eaeb60" id="u36eaeb60" style="text-align: left"><span data-lake-id="ud3b36384" id="ud3b36384" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><span data-lake-id="ua304c7de" id="ua304c7de" class="lake-fontsize-12" style="color: rgb(119,119,119)">检测是否自己给自己赋值</span></li><li fid="uc0a96427" data-lake-id="ub16b2129" id="ub16b2129" style="text-align: left"><span data-lake-id="ue214910d" id="ue214910d" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. </span><span data-lake-id="u5b1db415" id="u5b1db415" class="lake-fontsize-12" style="color: rgb(119,119,119)">返回</span><span data-lake-id="u48a49490" id="u48a49490" class="lake-fontsize-12" style="color: rgb(119,119,119)">*</span><span data-lake-id="ua874e468" id="ua874e468" class="lake-fontsize-12" style="color: rgb(119,119,119)">this</span></li><li fid="uc0a96427" data-lake-id="ue09dfa13" id="ue09dfa13" style="text-align: left"><span data-lake-id="u580e3192" id="u580e3192" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. 一个类如果没有显式定义赋值运算符重载，编译器也会生成一个，完成对象按字节序的值拷贝。</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E5%89%8D%E5%90%8E%E7%BD%AE%2B%2B%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%E5%89%8D%E5%90%8E%E7%BD%AE%2B%2B%E4%B8%8D%E8%83%BD%E5%85%B1%E5%AD%98%20%EF%BC%88%E5%9B%A0%E6%AD%A4%E8%A6%81%E6%9E%84%E5%BB%BA%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD%EF%BC%89%5Cn%20%20%20%20%5Cn%E5%89%8D%E7%BD%AE%2B%2B%20%20%20%20%2B%2Bd1%5CnDate%26%20operator%2B%2B()%5Cn%7B%5Cn%20%20%20%20*this%20%2B%3D%201%3B%5Cn%20%20%20%20return%20*this%3B%E8%BF%94%E5%9B%9E%E5%8A%A0%E4%B9%8B%E5%90%8E%E7%9A%84%E5%80%BC%5Cn%7D%5Cn%5Cn%5Cn%E5%90%8E%E7%BD%AE%2B%2B%20%20%20%20d1%2B%2B%5CnDate%26%20operator%2B%2B(int)%5Cn%7B%5Cn%20%20%20%20Date%20tmp(*this)%3B%5Cn%20%20%20%20*this%20%2B%3D%201%3B%5Cn%20%20%20%20areturn%20tmp%3B%2F%2F%E8%BF%94%E5%9B%9E%E5%8A%A0%E4%B9%8B%E5%89%8D%E7%9A%84%E5%80%BC%5Cn%7D%20%20%20%20%20%20%20%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E5%89%8D%E5%90%8E%E7%BD%AE%2B%2B%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22LckHX%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="enKDq" id="enKDq"><span data-lake-id="u389c66e4" id="u389c66e4" style="color: rgb(51,51,51)">6.日期类的实现</span></h3><p data-lake-id="udf264d47" id="udf264d47"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1742573527928-e3b06ad8-c7a6-4628-bae7-fc15d86234a9.png%22%2C%22taskId%22%3A%22u9dee6783-90ed-4527-ac13-78a49c6379b%22%2C%22clientId%22%3A%22uad4a6b29-57f2-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A608%2C%22height%22%3A123%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A108467%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1064%2C%22originHeight%22%3A215%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E9%AB%98%E5%86%85%E8%81%9A%20%E4%BD%8E%E8%80%A6%E5%90%88%20%E7%8E%B0%E5%9C%A8%20%E7%B1%BB%E5%86%85%E9%83%A8%E6%88%90%E5%91%98%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%20%E7%B1%BB%E5%92%8C%E7%B1%BB%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%20%E4%BB%A5%E5%90%8E%E6%9B%B4%E5%A4%9A%E6%8C%87%E7%9A%84%E6%98%AF%E6%A8%A1%E5%9D%97%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%20%E7%8E%B0%E5%AE%9E%E4%B8%AD%E4%B8%80%E4%B8%AA%E9%83%A8%E9%97%A8%2C%E9%83%A8%E9%97%A8%E7%9A%84%E5%87%9D%E8%81%9A%E5%8A%9B%E8%B6%8A%E9%AB%98%E5%86%85%E8%81%9A%E5%BA%A6%E8%B6%8A%E9%AB%98%E8%B6%8A%E5%A5%BD%2C%E6%88%98%E6%96%97%E5%8A%9B%E8%B6%8A%E5%BC%BA%2C%E9%83%A8%E9%97%A8%E5%92%8C%E9%83%A8%E9%97%A8%E4%B9%8B%E9%97%B4%E8%80%A6%E5%90%88%E5%BA%A6%E8%B6%8A%E4%BD%8E%E8%B6%8A%E5%A5%BD.%20%E4%B8%80%E4%B8%AA%E9%83%A8%E9%97%A8%E5%B0%B1%E5%83%8F%E4%B8%80%E4%B8%AA%E7%B1%BB%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A78%2C%22y%22%3A10%2C%22width%22%3A70%2C%22height%22%3A23%2C%22text%22%3A%22%E9%AB%98%E5%86%85%E8%81%9A%22%7D%2C%7B%22x%22%3A334%2C%22y%22%3A11%2C%22width%22%3A70%2C%22height%22%3A23%2C%22text%22%3A%22%E4%BD%8E%E8%80%A6%E5%90%88%22%7D%2C%7B%22x%22%3A8%2C%22y%22%3A42%2C%22width%22%3A45%2C%22height%22%3A23%2C%22text%22%3A%22%E7%8E%B0%E5%9C%A8%22%7D%2C%7B%22x%22%3A77%2C%22y%22%3A42%2C%22width%22%3A210%2C%22height%22%3A22%2C%22text%22%3A%22%E7%B1%BB%E5%86%85%E9%83%A8%E6%88%90%E5%91%98%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%22%7D%2C%7B%22x%22%3A334%2C%22y%22%3A42%2C%22width%22%3A186%2C%22height%22%3A25%2C%22text%22%3A%22%E7%B1%BB%E5%92%8C%E7%B1%BB%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%22%7D%2C%7B%22x%22%3A5%2C%22y%22%3A93%2C%22width%22%3A303%2C%22height%22%3A26%2C%22text%22%3A%22%E4%BB%A5%E5%90%8E%E6%9B%B4%E5%A4%9A%E6%8C%87%E7%9A%84%E6%98%AF%E6%A8%A1%E5%9D%97%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%22%7D%2C%7B%22x%22%3A4%2C%22y%22%3A143%2C%22width%22%3A1037%2C%22height%22%3A27%2C%22text%22%3A%22%E7%8E%B0%E5%AE%9E%E4%B8%AD%E4%B8%80%E4%B8%AA%E9%83%A8%E9%97%A8%2C%E9%83%A8%E9%97%A8%E7%9A%84%E5%87%9D%E8%81%9A%E5%8A%9B%E8%B6%8A%E9%AB%98%E5%86%85%E8%81%9A%E5%BA%A6%E8%B6%8A%E9%AB%98%E8%B6%8A%E5%A5%BD%2C%E6%88%98%E6%96%97%E5%8A%9B%E8%B6%8A%E5%BC%BA%2C%E9%83%A8%E9%97%A8%E5%92%8C%E9%83%A8%E9%97%A8%E4%B9%8B%E9%97%B4%E8%80%A6%E5%90%88%E5%BA%A6%E8%B6%8A%E4%BD%8E%E8%B6%8A%E5%A5%BD.%22%7D%2C%7B%22x%22%3A6%2C%22y%22%3A188%2C%22width%22%3A218%2C%22height%22%3A24%2C%22text%22%3A%22%E4%B8%80%E4%B8%AA%E9%83%A8%E9%97%A8%E5%B0%B1%E5%83%8F%E4%B8%80%E4%B8%AA%E7%B1%BB%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fefefe%22%2C%22id%22%3A%22u45b64913%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E6%97%A5%E6%9C%9F%E7%B1%BB%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Date%5Cn%7B%5Cnpublic%3A%5Cn%5Ctint%20GetMonthDay(int%20year%2Cint%20month)%5Cn%5Ct%7B%5Cn%5Ct%5Ctstatic%20int%20monthDays%5B13%5D%20%3D%20%7B%200%2C31%2C28%2C31%2C30%2C31%2C30%2C31%2C31%2C30%2C31%2C30%2C31%20%7D%3B%5Cn%5Ct%5Ctif%20((month%20%3D%3D%202%20%26%26%20year%20%25%204%20%3D%3D%200%20%26%26%20year%20%25%20100%20!%3D%200)%20%7C%7C%20year%20%25%20400%20%3D%3D%200)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctreturn%2029%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20monthDays%5Bmonth%5D%3B%5Cn%5Ct%7D%5Cn%5CtDate(int%20year%20%3D%200%2C%20int%20month%20%3D%201%2C%20int%20day%20%3D%201)%5Cn%5Ct%7B%5Cn%5Ct%5Ct_year%20%3D%20year%3B%5Cn%5Ct%5Ct_month%20%3D%20month%3B%5Cn%5Ct%5Ct_day%20%3D%20day%3B%5Cn%5Ct%7D%5Cn%5Cn%5CtDate(const%20Date%26%20d)%2F%2F%E8%BF%99%E6%98%AF%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B9%B6%E5%9C%A8%E8%AF%A5%E5%87%BD%E6%95%B0%E4%B8%8B%E8%BF%9B%E8%A1%8C%E4%BA%86%E8%B5%8B%E5%80%BC%E6%93%8D%E4%BD%9C%5Cn%5Ct%7B%5Cn%5Ct%5Ct_year%20%3D%20d._year%3B%5Cn%5Ct%5Ct_month%20%3D%20d._month%3B%5Cn%5Ct%5Ct_day%20%3D%20d._day%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctvoid%20Print()%5Cn%5Ct%7B%5Cn%5Ct%5Ctif%20(_month%20%3E%3D%201%20%26%26%20_month%20%3C%3D%2012%20%26%26%20_day%20%3E%3D%201%20%26%26%20_day%20%3C%3D%20GetMonthDay(_year%2C%20_month))%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctcout%20%3C%3C%20_year%20%3C%3C%20%5C%22-%5C%22%20%3C%3C%20_month%20%3C%3C%20%5C%22-%5C%22%20%3C%3C%20_day%20%3C%3C%20endl%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctelse%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctcout%20%3C%3C%20%5C%22%E9%9D%9E%E6%B3%95%E6%97%A5%E6%9C%9F%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%5Cn%5Ctbool%20operator%20%3C%20(const%20Date%26%20d)%5Cn%5Ct%7B%5Cn%5Ct%5Ctif%20(_year%20%3C%20d._year)%5Cn%5Ct%5Ct%5Ctreturn%20true%3B%5Cn%5Ct%5Ctelse%20if%20(_year%20%3D%3D%20d._year%20%26%26%20_month%20%3C%20d._month)%5Cn%5Ct%5Ct%5Ctreturn%20true%3B%5Cn%5Ct%5Ctelse%20if%20(_year%20%3D%3D%20d._year%20%26%26%20_month%20%3D%3D%20d._month%20%26%26%20_day%20%3C%20d._day)%5Cn%5Ct%5Ct%5Ctreturn%20true%3B%5Cn%5Ct%5Ctreturn%20false%3B%5Cn%20%5Ct%7D%5Cn%5Cn%5Ctbool%20operator%20%3D%3D%20(const%20Date%26%20d)%5Cn%5Ct%7B%5Cn%5Ct%5Ctif%20(_year%20%3D%3D%20d._year%20%26%26%20_month%20%3D%3D%20d._month%20%26%26%20_day%20%3D%3D%20d._day)%5Cn%5Ct%5Ct%5Ctreturn%20true%3B%5Cn%5Ct%5Ctreturn%20false%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctbool%20operator%20!%3D%20(const%20Date%26%20d)%5Cn%5Ct%7B%5Cn%5Ct%5Ctif%20(!(*this%20%3D%3D%20d))%5Cn%5Ct%5Ct%5Ctreturn%20true%3B%5Cn%5Ct%5Ctreturn%20false%3B%5Cn%5Cn%5Ct%7D%5Cn%5Cn%5Ctbool%20operator%20%3C%3D%20(const%20Date%26%20d)%5Cn%5Ct%7B%5Cn%5Ct%5Ctreturn%20*this%20%3C%20d%20%7C%7C%20*this%20%3D%3D%20d%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctbool%20operator%20%3E%20(const%20Date%26%20d)%5Cn%5Ct%7B%5Cn%5Ct%5Ctreturn%20!(*this%20%3C%20d%20%7C%7C%20*this%20%3D%3D%20d)%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctbool%20operator%20%3E%3D%20(const%20Date%26%20d)%5Cn%5Ct%7B%5Cn%5Ct%5Ctreturn%20!(*this%20%3C%20d%20%7C%7C%20*this%20%3D%3D%20d)%20%7C%7C%20*this%20%3D%3D%20d%3B%5Cn%5Ct%7D%5Cn%5Cn%5CtDate%20operator%2B%20(int%20day)%5Cn%5Ct%7B%5Cn%5Ct%5CtDate%20ret(*this)%3B%2F%2F%20%E8%B0%83%E7%94%A8%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%EF%BC%8C%E7%94%A8%E5%BD%93%E5%89%8D%E5%AF%B9%E8%B1%A1%E5%88%9D%E5%A7%8B%E5%8C%96%20ret%5Cn%5Ct%5Ctret._day%20%2B%3D%20day%3B%5Cn%5Ct%5Ctwhile%20(ret._day%20%3E%20GetMonthDay(ret._year%2C%20ret._month))%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctret._month%2B%2B%3B%5Cn%5Ct%5Ct%5Ctret._day%20-%3D%20GetMonthDay(ret._year%2C%20ret._month)%3B%5Cn%5Cn%5Ct%5Ct%5Ctif%20(ret._month%20%3D%3D%2013)%5Cn%5Ct%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct%5Ctret._year%2B%2B%3B%5Cn%5Ct%5Ct%5Ct%5Ctret._month%20%3D%201%3B%5Cn%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20ret%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%2F%2Fd1%20-%20d2%5Cn%5Ctint%20operator-%20(const%20Date%26%20d)%5Cn%5Ct%7B%5Cn%5Ct%5Ctint%20flag%20%3D%201%3B%5Cn%5Ct%5Ctint%20n%20%3D%200%3B%5Cn%5Ct%5CtDate%20max%20%3D%20*this%3B%5Cn%5Ct%5CtDate%20min%20%3D%20d%3B%5Cn%5Ct%5Ctif%20(*this%20%3C%20d)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctmax%20%3D%20d%3B%5Cn%5Ct%5Ct%5Ctmin%20%3D%20*this%3B%5Cn%5Ct%5Ct%5Ctflag%20%3D%20-1%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctwhile%20(min%20!%3D%20max)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct%2B%2Bmin%3B%5Cn%5Ct%5Ct%5Ct%2B%2Bn%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20n%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2Fd1%20-%2010%5Cn%5CtDate%26%20operator-%20(int%20day)%2F%2F%E8%BF%98%E5%8F%AF%E4%BB%A5%E5%8E%BB%E5%A4%8D%E7%94%A8-%3D%20%E8%BF%94%E5%9B%9E%E5%80%BC%E4%B8%BAret%E5%8D%B3%E5%8F%AF%5Cn%5Ct%7B%5Cn%5Ct%5CtDate%20ret(*this)%3B%5Cn%5Ct%5Ctret._day%20-%3D%20day%3B%5Cn%5Ct%5Ctwhile%20(ret._day%20%3C%201)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctret._month--%3B%5Cn%5Ct%5Ct%5Ctif%20(ret._month%20%3D%3D%200)%5Cn%5Ct%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct%5Ctret._year--%3B%5Cn%5Ct%5Ct%5Ct%5Ctret._month%20%3D%2012%3B%5Cn%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%5Ctret._day%20%2B%3D%20GetMonthDay(ret._year%2C%20ret._month)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20ret%3B%5Cn%5Ct%7D%5Cn%5Cn%5CtDate%26%20operator-%3D%20(int%20day)%5Cn%5Ct%7B%5Cn%5Ct%5Ctif%20(day%20%3C%200)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctreturn%20*this%20%2B%3D%20-day%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ct_day%20-%3D%20day%3B%5Cn%5Ct%5Ctwhile%20(_day%20%3C%201)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct%5Ct_month--%3B%5Cn%5Ct%5Ct%5Ct%5Ctif%20(_month%20%3D%3D%200)%5Cn%5Ct%5Ct%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct_year--%3B%5Cn%5Ct%5Ct%5Ct%5Ct%5Ct_month%20%3D%2012%3B%5Cn%5Ct%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%5Ct%5Ct_day%20%2B%3D%20GetMonthDay(_year%2C%20_month)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20*this%3B%5Cn%5Ct%7D%5Cn%5Cn%5CtDate%26%20operator%2B%3D%20(int%20day)%5Cn%5Ct%7B%5Cn%5Ct%5Ctif%20(day%20%3C%200)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctreturn%20*this%20-%3D%20-day%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ct_day%20%2B%3D%20day%3B%5Cn%5Ct%5Ctwhile%20(_day%20%3E%20GetMonthDay(_year%2C%20_month))%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct_day%20-%3D%20GetMonthDay(_year%2C%20_month)%3B%5Cn%5Ct%5Ct%5Ct_month%2B%2B%3B%5Cn%5Ct%5Ct%5Ctif%20(_month%20%3D%3D%2013)%5Cn%5Ct%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct%5Ct_year%2B%2B%3B%5Cn%5Ct%5Ct%5Ct%5Ct_month%20%3D%201%3B%5Cn%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20*this%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%2F%2F%E5%90%8E%E7%BD%AE%2B%2B%5Cn%5CtDate%26%20operator%2B%2B()%20%20%20%2F%2F%E5%87%BA%E4%BA%86%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%BB%A5%E5%A4%96%EF%BC%8C%E8%BF%94%E5%9B%9E%E7%B1%BB%E8%BF%98%E5%9C%A8%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%BC%95%E7%94%A8%5Cn%5Ct%7B%5Cn%5Ct%5Ct*this%20%2B%3D%201%3B%5Cn%5Ct%5Ctreturn%20*this%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%2F%2F%E5%89%8D%E7%BD%AE%2B%2B%5Cn%5CtDate%20operator%2B%2B(int)%20%20%2F%2F%E5%87%BA%E4%BA%86%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%BB%A5%E5%A4%96%EF%BC%8C%E8%BF%94%E5%9B%9E%E7%B1%BB%E4%B8%8D%E5%9C%A8%E4%BA%86%E5%B0%B1%E4%B8%8D%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%BC%95%E7%94%A8%5Cn%5Ct%7B%5Cn%5Ct%5CtDate%20tmp(*this)%3B%5Cn%5Ct%5Ct*this%20%2B%3D%201%3B%5Cn%5Ct%5Ctreturn%20tmp%3B%2F%2F%E8%BF%94%E5%9B%9E%E5%8A%A0%E4%B9%8B%E5%89%8D%E7%9A%84%E5%80%BC%5Cn%5Ct%7D%5Cn%5Cnprivate%3A%5Cn%5Ctint%20_year%3B%5Cn%5Ctint%20_month%3B%5Cn%5Ctint%20_day%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E6%97%A5%E6%9C%9F%E7%B1%BB%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22kppJ2%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><details data-lake-id="u8c8bd716" id="u8c8bd716" open="false" class="lake-collapse"><summary data-lake-id="ub1538b40" id="ub1538b40" class="lake-summary"><strong><span data-lake-id="u50efbe73" id="u50efbe73">要点解释1</span></strong></summary><h3 data-lake-id="5888cc01" id="5888cc01"><strong><span data-lake-id="u2ebf469e" id="u2ebf469e" style="color: rgb(64, 64, 64)">1.</span></strong><strong><span data-lake-id="u101770c0" id="u101770c0" style="color: rgb(64, 64, 64)"> </span></strong><code data-lake-id="u739156ab" id="u739156ab"><strong><span data-lake-id="uc70dcaee" id="uc70dcaee" style="color: rgb(64, 64, 64)">Date operator+ (int day)</span></strong></code><strong><span data-lake-id="uc6280ea8" id="uc6280ea8" style="color: rgb(64, 64, 64)"> </span></strong><strong><span data-lake-id="u74a0970e" id="u74a0970e" style="color: rgb(64, 64, 64)">的作用</span></strong></h3><ul list="ud7e2b107"><li fid="u869c446b" data-lake-id="u22ca91d2" id="u22ca91d2"><strong><span data-lake-id="u85588e9c" id="u85588e9c" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">功能</span></strong><span data-lake-id="u4f187b1f" id="u4f187b1f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：将当前日期对象加上指定的天数，返回一个新的日期对象。</span></li><li fid="u869c446b" data-lake-id="uaa01abdb" id="uaa01abdb"><strong><span data-lake-id="u8f8ef844" id="u8f8ef844" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">参数</span></strong><span data-lake-id="u9c431999" id="u9c431999" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：</span><code data-lake-id="u79ef5d00" id="u79ef5d00"><span data-lake-id="ufd398f0d" id="ufd398f0d" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">int day</span></code><span data-lake-id="u051cad45" id="u051cad45" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="u872d3454" id="u872d3454" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">表示要加的天数。</span></li><li fid="u869c446b" data-lake-id="u19e19438" id="u19e19438"><strong><span data-lake-id="u4d9e14e0" id="u4d9e14e0" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">返回值</span></strong><span data-lake-id="uafbf42cc" id="uafbf42cc" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：返回一个新的 </span><code data-lake-id="u3d802b58" id="u3d802b58"><span data-lake-id="ucd7c3ca0" id="ucd7c3ca0" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u17adc989" id="u17adc989" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 对象，表示加法操作后的日期。</span></li></ul><h3 data-lake-id="a9c10d1d" id="a9c10d1d"><strong><span data-lake-id="u158882e3" id="u158882e3" style="color: rgb(64, 64, 64)">2. 关键点解释</span></strong></h3><h4 data-lake-id="CUTRw" id="CUTRw"><code data-lake-id="u2a93d951" id="u2a93d951"><strong><span data-lake-id="u66cc83e2" id="u66cc83e2" style="color: rgb(64, 64, 64)">Date ret(*this);</span></strong></code></h4><ul list="u9b000e52"><li fid="u975a096d" data-lake-id="uabc4973c" id="uabc4973c"><strong><span data-lake-id="u93101ad8" id="u93101ad8" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">作用</span></strong><span data-lake-id="u7b8e4ead" id="u7b8e4ead" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：创建一个新的</span><span data-lake-id="uf72c82fa" id="uf72c82fa" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><code data-lake-id="uec59d1db" id="uec59d1db"><span data-lake-id="u714180ed" id="u714180ed" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u72e2b71c" id="u72e2b71c" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="u5220b794" id="u5220b794" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">对象</span><span data-lake-id="u172a951f" id="u172a951f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><code data-lake-id="ued5b0e0b" id="ued5b0e0b"><span data-lake-id="udf27c972" id="udf27c972" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">ret</span></code><span data-lake-id="u63bd4ad2" id="u63bd4ad2" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">，并将其初始化为当前对象的副本。</span></li><li fid="u975a096d" data-lake-id="uba4a478a" id="uba4a478a"><code data-lake-id="uce7b5b88" id="uce7b5b88"><strong><span data-lake-id="u4885dee7" id="u4885dee7" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">*this</span></strong></code><span data-lake-id="u05d0395b" id="u05d0395b" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：表示当前对象（调用</span><span data-lake-id="u0f6d3138" id="u0f6d3138" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><code data-lake-id="u640d6fa3" id="u640d6fa3"><span data-lake-id="u49f472b7" id="u49f472b7" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">operator+</span></code><span data-lake-id="u8eca586a" id="u8eca586a" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="u82725253" id="u82725253" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">的</span><span data-lake-id="u28eda85f" id="u28eda85f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><code data-lake-id="uaaee05f7" id="uaaee05f7"><span data-lake-id="u3c31ac74" id="u3c31ac74" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u0d466091" id="u0d466091" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="u8bf14beb" id="u8bf14beb" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">对象）。</span></li><li fid="u975a096d" data-lake-id="ue7befb03" id="ue7befb03"><code data-lake-id="u65eb2451" id="u65eb2451"><strong><span data-lake-id="u88d0c5d0" id="u88d0c5d0" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date ret(*this);</span></strong></code><span data-lake-id="ua887c00b" id="ua887c00b" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：调用 </span><code data-lake-id="u44ab75b5" id="u44ab75b5"><span data-lake-id="ud6a484fb" id="ud6a484fb" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="ud577d4e1" id="ud577d4e1" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 的拷贝构造函数，将当前对象的值复制到 </span><code data-lake-id="u74690f7c" id="u74690f7c"><span data-lake-id="ue7c0e654" id="ue7c0e654" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">ret</span></code><span data-lake-id="u41871af8" id="u41871af8" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 中。</span></li><li fid="u975a096d" data-lake-id="uda2d463b" id="uda2d463b"><code data-lake-id="u0fc55828" id="u0fc55828"><strong><span data-lake-id="u8c20a893" id="u8c20a893" style="color: rgb(64, 64, 64)">return ret;</span></strong></code><span data-lake-id="u23422f63" id="u23422f63" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：返回新的 </span><code data-lake-id="ucaf4fadc" id="ucaf4fadc"><span data-lake-id="u4a902117" id="u4a902117" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="udb1c7d0a" id="udb1c7d0a" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 对象 </span><code data-lake-id="u81531972" id="u81531972"><span data-lake-id="u33349e51" id="u33349e51" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">ret</span></code><span data-lake-id="u8d6be066" id="u8d6be066" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">，表示加法操作后的日期。</span></li></ul><h3 data-lake-id="ET35y" id="ET35y"><strong><span data-lake-id="uafd50d52" id="uafd50d52" style="color: rgb(64, 64, 64)">3. 为什么返回值是 </span></strong><code data-lake-id="u63ccfcc1" id="u63ccfcc1"><strong><span data-lake-id="uc143cf82" id="uc143cf82" style="color: rgb(64, 64, 64)">Date</span></strong></code><strong><span data-lake-id="ubebca947" id="ubebca947" style="color: rgb(64, 64, 64)">？</span></strong></h3><ul list="u91a535f1"><li fid="u1002865d" data-lake-id="uec424eda" id="uec424eda"><strong><span data-lake-id="u77888fb9" id="u77888fb9" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">返回值类型</span></strong><span data-lake-id="u89addb99" id="u89addb99" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：</span><code data-lake-id="u631773a7" id="u631773a7"><span data-lake-id="u945abce8" id="u945abce8" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="uc33576dc" id="uc33576dc" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="u5915d744" id="u5915d744" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">表示加法操作后的结果是一个新的</span><span data-lake-id="u6401f2d1" id="u6401f2d1" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><code data-lake-id="u49fa8294" id="u49fa8294"><span data-lake-id="u450462ca" id="u450462ca" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u2d759932" id="u2d759932" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="udfb2fc08" id="udfb2fc08" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">对象。</span></li></ul><p data-lake-id="u44d27620" id="u44d27620"><strong><span data-lake-id="u150e7eee" id="u150e7eee" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">原因</span></strong><span data-lake-id="u2deae12d" id="u2deae12d" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：运算符重载的目的是让 </span><code data-lake-id="ua61a18ff" id="ua61a18ff"><span data-lake-id="uaafd375c" id="uaafd375c" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u9972ea7a" id="u9972ea7a" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 对象能够像内置类型一样进行加法操作。例如：</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22Date%20d1(2023%2C%2010%2C%201)%3B%5CnDate%20d2%20%3D%20d1%20%2B%2010%3B%20%2F%2F%20d2%20%E6%98%AF%20d1%20%E5%8A%A0%E4%B8%8A%2010%20%E5%A4%A9%E5%90%8E%E7%9A%84%E6%97%A5%E6%9C%9F%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22eJhQ5%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ued0671cd" id="ued0671cd"><span data-lake-id="u68b0570a" id="u68b0570a" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">这里 </span><code data-lake-id="uc046f226" id="uc046f226"><span data-lake-id="u5a1c975b" id="u5a1c975b" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">d1 + 10</span></code><span data-lake-id="u08828f31" id="u08828f31" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 的结果是一个新的 </span><code data-lake-id="uf242e840" id="uf242e840"><span data-lake-id="u2da9fa11" id="u2da9fa11" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u637bb0fe" id="u637bb0fe" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 对象，因此返回值类型是 </span><code data-lake-id="u4ed1ce75" id="u4ed1ce75"><span data-lake-id="u2364873f" id="u2364873f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u8e0d5d22" id="u8e0d5d22" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">。</span></p><h3 data-lake-id="fbcf2576" id="fbcf2576"><strong><span data-lake-id="ud91f7cda" id="ud91f7cda" style="color: rgb(64, 64, 64)">4. 为什么需要 </span></strong><code data-lake-id="uc12a8f81" id="uc12a8f81"><strong><span data-lake-id="uecdba4da" id="uecdba4da" style="color: rgb(64, 64, 64)">Date ret(*this);</span></strong></code><strong><span data-lake-id="u3c1e4990" id="u3c1e4990" style="color: rgb(64, 64, 64)">？</span></strong></h3><ul list="u2a2d32a3"><li fid="u4d410ddc" data-lake-id="uf81df3d9" id="uf81df3d9"><strong><span data-lake-id="u944ba98b" id="u944ba98b" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">目的</span></strong><span data-lake-id="ud9318cab" id="ud9318cab" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：创建一个新的</span><span data-lake-id="uc7b11c97" id="uc7b11c97" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><code data-lake-id="u337f59b5" id="u337f59b5"><span data-lake-id="ue474a4e6" id="ue474a4e6" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u34942cdd" id="u34942cdd" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="u4f868c48" id="u4f868c48" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">对象</span><span data-lake-id="ud11f725d" id="ud11f725d" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><code data-lake-id="u58cbcab7" id="u58cbcab7"><span data-lake-id="u38b39256" id="u38b39256" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">ret</span></code><span data-lake-id="u53e0d41c" id="u53e0d41c" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">，用于存储加法操作后的结果。</span></li><li fid="u4d410ddc" data-lake-id="u87d4479e" id="u87d4479e"><strong><span data-lake-id="u0a0d57b0" id="u0a0d57b0" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">原因</span></strong><span data-lake-id="u537464c0" id="u537464c0" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：</span></li></ul><ul list="u2a2d32a3" data-lake-indent="1"><li fid="u39788234" data-lake-id="u78155f7c" id="u78155f7c"><span data-lake-id="ua9ff1af0" id="ua9ff1af0" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">运算符重载函数通常不修改当前对象，而是返回一个新的对象。</span></li><li fid="u39788234" data-lake-id="u533c0cbc" id="u533c0cbc"><span data-lake-id="u44f62d97" id="u44f62d97" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">通过 </span><code data-lake-id="u4ca40b23" id="u4ca40b23"><span data-lake-id="uf593f0a7" id="uf593f0a7" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date ret(*this);</span></code><span data-lake-id="u7eb07e17" id="u7eb07e17" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">，将当前对象的值复制到 </span><code data-lake-id="u3362880b" id="u3362880b"><span data-lake-id="u2739d350" id="u2739d350" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">ret</span></code><span data-lake-id="u32008204" id="u32008204" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 中，然后在 </span><code data-lake-id="u776492f0" id="u776492f0"><span data-lake-id="u04122539" id="u04122539" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">ret</span></code><span data-lake-id="ub8eda771" id="ub8eda771" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 上进行加法操作，避免修改当前对象。</span></li></ul></details><details data-lake-id="u6c8f73e7" id="u6c8f73e7" open="false" class="lake-collapse"><summary data-lake-id="u952b425c" id="u952b425c" class="lake-summary"><strong><span data-lake-id="u0545570f" id="u0545570f">要点解释2</span></strong></summary><h3 data-lake-id="1." id="1."><strong><span data-lake-id="uecf4ae76" id="uecf4ae76" style="color: rgb(64, 64, 64)">1.</span></strong><strong><span data-lake-id="u45c29218" id="u45c29218" style="color: rgb(64, 64, 64)"> </span></strong><code data-lake-id="uae26dcdc" id="uae26dcdc"><strong><span data-lake-id="u40be6155" id="u40be6155" style="color: rgb(64, 64, 64)">Date(const Date&amp; d);</span></strong></code></h3><ul list="u5ef07855"><li fid="u7456f845" data-lake-id="u6ce7213e" id="u6ce7213e"><strong><span data-lake-id="u4ce4ae70" id="u4ce4ae70" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">这是什么？</span></strong></li></ul><ul list="u5ef07855" data-lake-indent="1"><li fid="u48712e28" data-lake-id="uf791ab4a" id="uf791ab4a"><span data-lake-id="uf0dcdf0f" id="uf0dcdf0f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">这是</span><span data-lake-id="u8ad2a497" id="u8ad2a497" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><code data-lake-id="ue529ba96" id="ue529ba96"><span data-lake-id="ud46f4330" id="ud46f4330" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u7084750f" id="u7084750f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="ue4192695" id="ue4192695" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">类的</span><span data-lake-id="u52cc84c6" id="u52cc84c6" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><strong><span data-lake-id="u5d8d9ba8" id="u5d8d9ba8" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">拷贝构造函数</span></strong><span data-lake-id="u02332a8e" id="u02332a8e" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">。</span></li><li fid="u48712e28" data-lake-id="u01353c62" id="u01353c62"><span data-lake-id="u438c9343" id="u438c9343" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">它的作用是用一个已有的 </span><code data-lake-id="ua2329631" id="ua2329631"><span data-lake-id="ub53a1412" id="ub53a1412" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u9c543dc4" id="u9c543dc4" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 对象来初始化一个新的 </span><code data-lake-id="u0caaaf5f" id="u0caaaf5f"><span data-lake-id="u320aa7a1" id="u320aa7a1" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="uadfe32d4" id="uadfe32d4" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 对象。</span></li></ul><ul list="u5ef07855" start="2"><li fid="u7456f845" data-lake-id="uf56d30d3" id="uf56d30d3"><strong><span data-lake-id="ub09e9f89" id="ub09e9f89" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">作用</span></strong><span data-lake-id="u061de3fe" id="u061de3fe" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：</span></li></ul><ul list="u5ef07855" data-lake-indent="1"><li fid="u48712e28" data-lake-id="uc3c331a5" id="uc3c331a5"><span data-lake-id="u70a608cc" id="u70a608cc" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">将 </span><code data-lake-id="ua31d94d2" id="ua31d94d2"><span data-lake-id="u111141b0" id="u111141b0" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">d</span></code><span data-lake-id="u2a937825" id="u2a937825" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 对象的成员变量（</span><code data-lake-id="uf5b2a634" id="uf5b2a634"><span data-lake-id="ufa07742f" id="ufa07742f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">_year</span></code><span data-lake-id="u3decfb6f" id="u3decfb6f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">、</span><code data-lake-id="u6ea37a0f" id="u6ea37a0f"><span data-lake-id="ucdfca89f" id="ucdfca89f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">_month</span></code><span data-lake-id="u355890dd" id="u355890dd" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">、</span><code data-lake-id="u8ac47416" id="u8ac47416"><span data-lake-id="u228c8c8f" id="u228c8c8f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">_day</span></code><span data-lake-id="ue7ac5713" id="ue7ac5713" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">）复制到新对象中。</span></li></ul><h3 data-lake-id="2." id="2."><strong><span data-lake-id="ua62601aa" id="ua62601aa" style="color: rgb(64, 64, 64)">2.</span></strong><strong><span data-lake-id="uafc06302" id="uafc06302" style="color: rgb(64, 64, 64)"> </span></strong><code data-lake-id="ue1642a3f" id="ue1642a3f"><strong><span data-lake-id="u0fd0a64b" id="u0fd0a64b" style="color: rgb(64, 64, 64)">Date ret(*this);</span></strong></code></h3><ul list="u2e0bb145"><li fid="u7ebb8596" data-lake-id="uc8c6e536" id="uc8c6e536"><strong><span data-lake-id="u7e070deb" id="u7e070deb" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">这是什么？</span></strong></li></ul><ul list="u2e0bb145" data-lake-indent="1"><li fid="udb88430b" data-lake-id="u019089a4" id="u019089a4"><span data-lake-id="ue194e08a" id="ue194e08a" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">这是一个</span><span data-lake-id="u98bcc651" id="u98bcc651" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><strong><span data-lake-id="uc19ae54e" id="uc19ae54e" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">对象初始化语句</span></strong><span data-lake-id="udc2faa52" id="udc2faa52" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">。</span></li><li fid="udb88430b" data-lake-id="uddc2ede3" id="uddc2ede3"><span data-lake-id="ud656cb63" id="ud656cb63" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">它使用当前对象（</span><code data-lake-id="u493a7820" id="u493a7820"><span data-lake-id="uec4de2da" id="uec4de2da" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">*this</span></code><span data-lake-id="ud047954e" id="ud047954e" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">）来初始化一个新的 </span><code data-lake-id="u4fbacaa0" id="u4fbacaa0"><span data-lake-id="uec29e4b0" id="uec29e4b0" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u3d72f972" id="u3d72f972" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 对象 </span><code data-lake-id="uf001e574" id="uf001e574"><span data-lake-id="u7964a4c7" id="u7964a4c7" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">ret</span></code><span data-lake-id="u8e2aab7f" id="u8e2aab7f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">。</span></li><li fid="udb88430b" data-lake-id="u8544ec2b" id="u8544ec2b"><strong><span data-lake-id="uc2b9fb24" id="uc2b9fb24" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">调用时机</span></strong><span data-lake-id="u314ea143" id="u314ea143" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：</span></li><li fid="udb88430b" data-lake-id="u1269560c" id="u1269560c"><span data-lake-id="u03d3626f" id="u03d3626f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">在</span><span data-lake-id="u042b662e" id="u042b662e" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><code data-lake-id="ufbdeb948" id="ufbdeb948"><span data-lake-id="ubfbdc841" id="ubfbdc841" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">operator+</span></code><span data-lake-id="u20242b8f" id="u20242b8f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="u831ba0c7" id="u831ba0c7" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">函数中，</span><code data-lake-id="u11035448" id="u11035448"><span data-lake-id="uad9d7b8a" id="uad9d7b8a" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">ret</span></code><span data-lake-id="u37d56c5f" id="u37d56c5f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="udefe9394" id="udefe9394" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">是一个新的</span><span data-lake-id="u269378d5" id="u269378d5" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><code data-lake-id="u6a9fe9a9" id="u6a9fe9a9"><span data-lake-id="ude652466" id="ude652466" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="u771413f2" id="u771413f2" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> </span><span data-lake-id="ubae3abbe" id="ubae3abbe" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">对象，需要通过当前对象（</span><code data-lake-id="ua667194c" id="ua667194c"><span data-lake-id="uf8e705f7" id="uf8e705f7" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">*this</span></code><span data-lake-id="u05fcf104" id="u05fcf104" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">）初始化。</span></li></ul><ul list="u2e0bb145" start="2"><li fid="u7ebb8596" data-lake-id="u59db921d" id="u59db921d"><strong><span data-lake-id="u735ccf1d" id="u735ccf1d" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">作用</span></strong><span data-lake-id="u7bbb22fa" id="u7bbb22fa" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">：</span></li></ul><ul list="u2e0bb145" data-lake-indent="1"><li fid="ub6673de9" data-lake-id="uca78c4f4" id="uca78c4f4"><span data-lake-id="u1e8cd6ca" id="u1e8cd6ca" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">调用 </span><code data-lake-id="uce0731fe" id="uce0731fe"><span data-lake-id="u2b26707c" id="u2b26707c" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date</span></code><span data-lake-id="ua27c866b" id="ua27c866b" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 类的拷贝构造函数，将当前对象的值复制到 </span><code data-lake-id="u7a0f63cb" id="u7a0f63cb"><span data-lake-id="u06d18e37" id="u06d18e37" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">ret</span></code><span data-lake-id="uefd75ac7" id="uefd75ac7" class="lake-fontsize-12" style="color: rgb(64, 64, 64)"> 中。</span></li></ul></details><p data-lake-id="ub08cda82" id="ub08cda82"><strong><span data-lake-id="u13f643e0" id="u13f643e0" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">区别与联系</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E5%8C%BA%E5%88%AB%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2Fconst%E5%9C%A8*%E4%B9%8B%E5%89%8D%E4%BF%AE%E9%A5%B0%E7%9A%84%E6%98%AF%E6%8C%87%E5%90%91%E7%9A%84%E5%86%85%E5%AE%B9%5Cn%2F%2Fconst%E5%9C%A8*%E4%B9%8B%E5%90%8E%E4%BF%AE%E9%A5%B0%E7%9A%84%E6%98%AF%E6%8C%87%E9%92%88%E6%9C%AC%E8%BA%AB%5Cn%5Cnconst%20Date*%20p1%20%20-%3E*p1%20%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%5CnDate%20const%20*%20p2%20-%3E*p2%20%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20%2F%2Fp1%E4%B8%8Ep2%E6%B2%A1%E5%8C%BA%E5%88%AB%5CnDate*%20const%20p3%20%5Ct-%3Ep3%20%20%E6%8C%87%E9%92%88%E6%9C%AC%E8%BA%AB%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E5%8C%BA%E5%88%AB%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22D7mg0%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><details data-lake-id="u2e344f07" id="u2e344f07" open="false" class="lake-collapse"><summary data-lake-id="uf8dd8303" id="uf8dd8303" class="lake-summary"><strong><span data-lake-id="u6bcbd58e" id="u6bcbd58e">补充</span></strong></summary><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22const%E4%BF%AE%E9%A5%B0%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%E6%8A%A5%E9%94%99%5Cnvoid%20f1()%20const%20f1%E5%8F%AF%E8%AF%BB%20f2%E4%BC%A0%E4%BA%86%E4%B9%8B%E5%90%8E%E8%8C%83%E5%9B%B4%E5%8F%98%E5%A4%A7%5Cn%5Ct%7B%5Cn%5Ct%5Ctf2()%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctvoid%20f2()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%221%5C%22%3B%5Cn%5Ct%7D%5Cn%5Cn%2F%2F%E6%88%90%E5%8A%9F%5Ctf1%E5%8F%AF%E8%AF%BB%E5%8F%AF%E5%86%99%20f2%E4%BC%A0%E4%BA%86%E4%B9%8B%E5%90%8E%E5%8F%98%E6%88%90%E5%8F%AA%E8%AF%BB%EF%BC%8C%E8%8C%83%E5%9B%B4%E7%BC%A9%E5%B0%8F--%E5%8F%AF%E4%BB%A5%5Cn%5Ctvoid%20f1()%20%5Cn%5Ct%7B%5Cn%5Ct%5Ctf2()%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctvoid%20f2()%20const%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%221%5C%22%3B%5Cn%5Ct%7D%5Cn%5Cn%2F%2F%E6%88%90%E5%8A%9F%5Cn%5Ctvoid%20f1()%20const%5Cn%5Ct%7B%5Cn%5Ct%5Ctf2()%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctvoid%20f2()%20const%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%221%5C%22%3B%5Cn%5Ct%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22const%E4%BF%AE%E9%A5%B0%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22iBtWJ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></details><table data-lake-id="jp1Xn" id="jp1Xn" margin="true" class="lake-table" style="width: 674px"><colgroup><col width="129"><col width="282"><col width="263"></colgroup><tbody><tr data-lake-id="u7e0f9fc7" id="u7e0f9fc7"><td data-lake-id="u7c56fde5" id="u7c56fde5"><p data-lake-id="ue0939fe3" id="ue0939fe3" style="text-align: left"><strong><span data-lake-id="u529d1b9c" id="u529d1b9c" class="lake-fontsize-12" style="color: rgb(var(--ds-rgb-label-1))">特性</span></strong></p></td><td data-lake-id="u2e2ed675" id="u2e2ed675"><p data-lake-id="u6d9a0813" id="u6d9a0813" style="text-align: left"><code data-lake-id="u4f8b8ef4" id="u4f8b8ef4"><strong><span data-lake-id="ubefb6e40" id="ubefb6e40" class="lake-fontsize-12" style="color: rgb(var(--ds-rgb-label-1))">Date(const Date&amp; d);</span></strong></code></p></td><td data-lake-id="ub12fdeb2" id="ub12fdeb2"><p data-lake-id="ud4f47cbd" id="ud4f47cbd" style="text-align: left"><code data-lake-id="u618ecc5c" id="u618ecc5c"><strong><span data-lake-id="ue5b28928" id="ue5b28928" class="lake-fontsize-12" style="color: rgb(var(--ds-rgb-label-1))">Date ret(*this);</span></strong></code></p></td></tr><tr data-lake-id="u1d7478bb" id="u1d7478bb"><td data-lake-id="uf8228c2e" id="uf8228c2e"><p data-lake-id="ua6929033" id="ua6929033"><strong><span data-lake-id="u7d823ea9" id="u7d823ea9" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">类型</span></strong></p></td><td data-lake-id="u027a3344" id="u027a3344"><p data-lake-id="u2e63e257" id="u2e63e257"><span data-lake-id="ud2d439ab" id="ud2d439ab" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">拷贝构造函数（类的成员函数）</span></p></td><td data-lake-id="udf4b6927" id="udf4b6927"><p data-lake-id="uc728e07b" id="uc728e07b"><span data-lake-id="u1b44485f" id="u1b44485f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">对象初始化语句（使用拷贝构造函数）</span></p></td></tr><tr data-lake-id="u2b699b3d" id="u2b699b3d"><td data-lake-id="ucbeb2b8a" id="ucbeb2b8a"><p data-lake-id="u4dda4453" id="u4dda4453"><strong><span data-lake-id="u47c1ad30" id="u47c1ad30" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">作用</span></strong></p></td><td data-lake-id="u3ceceedd" id="u3ceceedd"><p data-lake-id="ue40d7759" id="ue40d7759"><span data-lake-id="u26ad8d94" id="u26ad8d94" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">定义如何用一个对象初始化另一个对象</span></p></td><td data-lake-id="uf8c375f0" id="uf8c375f0"><p data-lake-id="u63e2a055" id="u63e2a055"><span data-lake-id="u2a67d8da" id="u2a67d8da" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">创建一个新对象，并用当前对象初始化它</span></p></td></tr><tr data-lake-id="u7c77bd1b" id="u7c77bd1b"><td data-lake-id="ub981c5d5" id="ub981c5d5"><p data-lake-id="uf5c86740" id="uf5c86740"><strong><span data-lake-id="ub87f24cc" id="ub87f24cc" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">调用时机</span></strong></p></td><td data-lake-id="u97364652" id="u97364652"><p data-lake-id="ud32cea6f" id="ud32cea6f"><span data-lake-id="u89119c98" id="u89119c98" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">当一个对象通过另一个对象初始化时</span></p></td><td data-lake-id="ufd19abdb" id="ufd19abdb"><p data-lake-id="u2360f44d" id="u2360f44d"><span data-lake-id="u013852df" id="u013852df" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">在代码中显式调用</span></p></td></tr><tr data-lake-id="u0fde2268" id="u0fde2268"><td data-lake-id="u3cbd1ab9" id="u3cbd1ab9"><p data-lake-id="u75dc617c" id="u75dc617c"><strong><span data-lake-id="u5585bfe1" id="u5585bfe1" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">示例</span></strong></p></td><td data-lake-id="uef472b4d" id="uef472b4d"><p data-lake-id="u50afd31f" id="u50afd31f"><code data-lake-id="u623f1521" id="u623f1521"><span data-lake-id="u48299e2a" id="u48299e2a" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date d2 = d1;</span></code></p></td><td data-lake-id="ua2eb7837" id="ua2eb7837"><p data-lake-id="u8a4c82e5" id="u8a4c82e5"><code data-lake-id="u70d5f4ec" id="u70d5f4ec"><span data-lake-id="ue576f3f1" id="ue576f3f1" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">Date ret(*this);</span></code></p></td></tr><tr data-lake-id="u4f667e5a" id="u4f667e5a"><td data-lake-id="u18357dc2" id="u18357dc2"><p data-lake-id="u6930e66e" id="u6930e66e"><strong><span data-lake-id="ua4ad1132" id="ua4ad1132" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">关系</span></strong></p></td><td data-lake-id="uc5891e4f" id="uc5891e4f"><p data-lake-id="ud8549830" id="ud8549830"><span data-lake-id="u3114a380" id="u3114a380" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">定义了拷贝的逻辑</span></p></td><td data-lake-id="u8c75758b" id="u8c75758b"><p data-lake-id="ue6790fba" id="ue6790fba"><span data-lake-id="ud24a1c27" id="ud24a1c27" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">使用了拷贝构造函数</span></p></td></tr></tbody></table><p data-lake-id="u278fd0b1" id="u278fd0b1"><span data-lake-id="u6bf74719" id="u6bf74719" class="lake-fontsize-12">​</span><br></p><h3 data-lake-id="tE1MP" id="tE1MP"><span data-lake-id="u95dd28ac" id="u95dd28ac">7.const成员</span></h3><p data-lake-id="ub2fe5ae8" id="ub2fe5ae8" style="text-align: left"><strong><span data-lake-id="u145dcc53" id="u145dcc53" class="lake-fontsize-12" style="color: rgb(51,51,51)">7.1 </span></strong><strong><span data-lake-id="ueef9e255" id="ueef9e255" class="lake-fontsize-12" style="color: rgb(51,51,51)">const</span></strong><strong><span data-lake-id="u8e5c53f6" id="u8e5c53f6" class="lake-fontsize-12" style="color: rgb(51,51,51)">修饰类的成员函数</span></strong></p><p data-lake-id="u36c1fe87" id="u36c1fe87" style="text-align: left"><strong><span data-lake-id="u0f70d264" id="u0f70d264" class="lake-fontsize-12" style="color: rgb(119,119,119)">将const修饰的类成员函数称之为const成员函数 </span></strong><span data-lake-id="ub658a3d3" id="ub658a3d3" class="lake-fontsize-12" style="color: rgb(119,119,119)">，const修饰类成员函数，实际修饰该成员函数</span><strong><span data-lake-id="u46f1666c" id="u46f1666c" class="lake-fontsize-12" style="color: rgb(119,119,119)">隐含的this 指针</span></strong><span data-lake-id="ua03b0c96" id="ua03b0c96" class="lake-fontsize-12" style="color: rgb(119,119,119)">，表明在该成员函数中</span><strong><span data-lake-id="ud8841239" id="ud8841239" class="lake-fontsize-12" style="color: rgb(119,119,119)">不能对类的任何成员进行修改。</span></strong></p><p data-lake-id="u7278544f" id="u7278544f" style="text-align: left"><span data-lake-id="u9a24e0d6" id="u9a24e0d6" class="lake-fontsize-12">结论：什么时候会给成员函数加const-&gt;</span></p><p data-lake-id="u622da3cf" id="u622da3cf" style="text-align: left"><span data-lake-id="ufa9bebfe" id="ufa9bebfe" class="lake-fontsize-12">只要成员函数中不需要修改成员变量，那么最好都加上const</span></p><h3 data-lake-id="Pp9m4" id="Pp9m4" collapsed="true"><span data-lake-id="u50d9076d" id="u50d9076d">8.</span><strong><span data-lake-id="u7165b99b" id="u7165b99b" class="lake-fontsize-12" style="color: rgb(51,51,51)">取地址及const取地址操作符重载</span></strong></h3><p data-lake-id="u680bcbf7" id="u680bcbf7"><span data-lake-id="ucd36644d" id="ucd36644d" class="lake-fontsize-12" style="color: rgb(119,119,119)">这两个默认成员函数一般不用重新定义 ，编译器默认会生成。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%26%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22Date*%20operator%26%20()%2F%2FDate*%E4%B8%BA%E5%BD%93%E5%89%8D%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%9C%B0%E5%9D%80%20%E7%9A%84%E7%B1%BB%E5%9E%8B%5Cn%7B%5Cn%5Ctcout%20%3C%3C%20%5C%22operator%26%20()%5C%22%20%3C%3C%20endl%3B%5Cn%5Ctreturn%20this%3B%5Cn%7D%5Cn%5Cnconst%20Date*%20operator%26%20()%20const%5Cn%7B%5Cn%5Ctcout%20%3C%3C%20%5C%22operator%26%20()%20const%5C%22%20%3C%3C%20endl%3B%5Cn%5Ctreturn%20this%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%26%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22j4RnM%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="udc0a2e13" id="udc0a2e13"><br></p><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fdocx%2F49819380%2F1742021051785-0123ac96-5985-4b82-a0ca-dfc534803d9c.docx%22%2C%22name%22%3A%22Lesson03---%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1(%E4%B8%AD%E7%AF%87).docx%22%2C%22size%22%3A217480%2C%22ext%22%3A%22docx%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u9537e56e-46c1-4136-a146-e4ca1a29f00%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fvnd.openxmlformats-officedocument.wordprocessingml.document%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22zYcI9%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h2 data-lake-id="JkPrg" id="JkPrg"><span data-lake-id="uc9b3637c" id="uc9b3637c">Lesson---类与对象（下）</span></h2><h3 data-lake-id="KDgvp" id="KDgvp" collapsed="true"><strong><span data-lake-id="ubf77c479" id="ubf77c479" class="lake-fontsize-12" style="color: rgb(51,51,51)">1. 再谈构造函数</span></strong></h3><p data-lake-id="u8ee447c9" id="u8ee447c9"><strong><span data-lake-id="u8bf36087" id="u8bf36087" class="lake-fontsize-12" style="color: rgb(51,51,51)">1.1 构造函数体赋值</span></strong></p><p data-lake-id="ubab765f1" id="ubab765f1"><span data-lake-id="ucb05f260" id="ucb05f260" class="lake-fontsize-12" style="color: rgb(119,119,119)">在创建对象时，编译器通过调用构造函数，给对象中各个成员变量一个合适的初始值。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Date%5Cn%7B%5Cn%20%20%20%20public%3A%5Cn%20%20%20%20Date(int%20year%2C%20int%20month%2C%20int%20day)%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20_year%20%3D%20year%3B%5Cn%20%20%20%20%20%20%20%20_month%20%3D%20month%3B%5Cn%20%20%20%20%20%20%20%20_day%20%3D%20day%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20%5Cn%20%20%20%20private%3A%5Cn%20%20%20%20%20%20%20%20int%20_year%3B%5Cn%20%20%20%20%20%20%20%20int%20_month%3B%5Cn%20%20%20%20%20%20%20%20int%20_day%3B%5Cn%7D%3B%5Ct%20%20%20%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22wNcUW%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ufd78e1e2" id="ufd78e1e2"><span data-lake-id="uba3c27b2" id="uba3c27b2" class="lake-fontsize-12" style="color: rgb(119,119,119)">虽然上述构造函数调用之后，对象中已经有了一个初始值，但是不能将其称作为类对象成员的初始化，  </span><strong><span data-lake-id="u0322118f" id="u0322118f" class="lake-fontsize-12" style="color: rgb(119,119,119)">构造 函数体中的语句只能将其称作为赋初值</span></strong><span data-lake-id="ufba3a56a" id="ufba3a56a" class="lake-fontsize-12" style="color: rgb(119,119,119)">，而不能称作初始化。因为</span><strong><span data-lake-id="ue7c318c5" id="ue7c318c5" class="lake-fontsize-12" style="color: rgb(119,119,119)">初始化只能初始化一次，而构造函数体内 可以多次赋值</span></strong><span data-lake-id="u02dd5564" id="u02dd5564" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="u2cb44cae" id="u2cb44cae"><strong><span data-lake-id="u6da1ad9b" id="u6da1ad9b" class="lake-fontsize-12" style="color: rgb(51,51,51)">1.2 初始化列表</span></strong></p><p data-lake-id="u81d79435" id="u81d79435"><span data-lake-id="u1d1b785a" id="u1d1b785a" class="lake-fontsize-12" style="color: rgb(119,119,119)">初始化列表：以一个</span><strong><span data-lake-id="u5b9f85bb" id="u5b9f85bb" class="lake-fontsize-12" style="color: rgb(119,119,119)">冒号开始</span></strong><span data-lake-id="u7f8406ae" id="u7f8406ae" class="lake-fontsize-12" style="color: rgb(119,119,119)">，接着是一个以</span><strong><span data-lake-id="uaba5c97e" id="uaba5c97e" class="lake-fontsize-12" style="color: rgb(119,119,119)">逗号分隔的数据成员列表</span></strong><span data-lake-id="u58f327b0" id="u58f327b0" class="lake-fontsize-12" style="color: rgb(119,119,119)">，每个</span><strong><span data-lake-id="uf699e7f3" id="uf699e7f3" class="lake-fontsize-12" style="color: rgb(119,119,119)">&quot;成员变量&quot;</span></strong><span data-lake-id="u6c91a3e9" id="u6c91a3e9" class="lake-fontsize-12" style="color: rgb(119,119,119)">后面跟一个</span><strong><span data-lake-id="ubfdc7173" id="ubfdc7173" class="lake-fontsize-12" style="color: rgb(119,119,119)">放在括 号中的初始值或表达式。</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Date%5Cn%7B%5Cn%20%20public%3A%5Cn%20%20%20%20%20%20Date(int%20year%2C%20int%20month%2C%20int%20day)%5Cn%20%20%20%20%20%20%20%20%20%20%20%3A%20_year(year)%5Cn%20%20%20%20%20%20%20%20%20%20%20%2C%20_month(month)%5Cn%20%20%20%20%20%20%20%20%20%20%20%2C%20_day(day)%5Cn%20%20%20%20%7B%7D%5Cn%20%20private%3A%5Cn%20%20%20%20int%20_year%3B%5Cn%20%20%20%20int%20_month%3B%5Cn%20%20%20%20int%20_day%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22YT3ip%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uc82d52ed" id="uc82d52ed"><span data-lake-id="u205e60da" id="u205e60da">【注意】</span></p><ol list="ucb02cfc8"><li fid="u331db2d3" data-lake-id="u010df7ef" id="u010df7ef"><span data-lake-id="u11463518" id="u11463518" class="lake-fontsize-12" style="color: rgb(119,119,119)">每个成员变量在初始化列</span><strong><span data-lake-id="u323f5e2f" id="u323f5e2f" class="lake-fontsize-12" style="color: rgb(119,119,119)">​</span></strong><span data-lake-id="u41409750" id="u41409750" class="lake-fontsize-12" style="color: rgb(119,119,119)">表中只能出现一次(初始化只能初始化一次)</span></li><li fid="u331db2d3" data-lake-id="u4e1ef5e1" id="u4e1ef5e1"><span data-lake-id="ua6902241" id="ua6902241" class="lake-fontsize-12" style="color: rgb(119,119,119)">类中包含以下成员，</span><strong><span data-lake-id="u0c8aa69f" id="u0c8aa69f" class="lake-fontsize-12" style="color: #DF2A3F">必须</span></strong><span data-lake-id="u15d4d1b3" id="u15d4d1b3" class="lake-fontsize-12" style="color: rgb(119,119,119)">放在初始化列表位置进行初始化：</span></li></ol><ul list="ue440d91e" class="lake-list"><li fid="ua2c74747" version="1743940691095" data-lake-id="ued0d289a" id="ued0d289a" class="lake-list-node lake-list-task"><card type="inline" name="checkbox" value="data:true"></card><span data-lake-id="uf3aefede" id="uf3aefede" class="lake-fontsize-12" style="color: rgb(119,119,119)">引用成员变量</span></li><li fid="ua2c74747" version="1743940691633" data-lake-id="u7a7a3ead" id="u7a7a3ead" class="lake-list-node lake-list-task"><card type="inline" name="checkbox" value="data:true"></card><span data-lake-id="udc34e2a8" id="udc34e2a8" class="lake-fontsize-12" style="color: rgb(119,119,119)"> const成员变量</span></li><li fid="ua2c74747" version="1743940692053" data-lake-id="u9448fda7" id="u9448fda7" class="lake-list-node lake-list-task"><card type="inline" name="checkbox" value="data:true"></card><span data-lake-id="uaf7b06b5" id="uaf7b06b5" class="lake-fontsize-12" style="color: rgb(119,119,119)"> 自定义类型成员(该类没有默认构造函数)</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%201%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20A%5Cn%7B%5Cnpublic%3A%5Cn%5CtA(int%20a)%5Cn%5Ct%5Ct%3A_a(a)%5Cn%5Ct%7B%5Cn%5Ct%7D%5Cn%5Ct%5Cnprivate%3A%5Cn%5Ctint%20_a%3B%5Cn%7D%3B%5Cn%5Cn%5Cnclass%20B%5Cn%7B%5Cnpublic%3A%5Cn%5Ct%2F%2F%E5%8F%AF%E7%90%86%E8%A7%A3%E6%88%90%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8%E6%98%AF%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89%E7%9A%84%E5%9C%B0%E6%96%B9%5Cn%5CtB(int%20a%2C%20int%20ref)%5Cn%5Ct%5Ct%3A%20_aobj(a)%20%20%20%20%2F%2F%20%E6%9E%84%E9%80%A0A%E7%B1%BB%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0a%5Cn%5Ct%5Ct%2C%20_ref(ref)%20%20%20%2F%2F%20%E5%88%9D%E5%A7%8B%E5%8C%96%E5%BC%95%E7%94%A8%5Cn%5Ct%5Ct%2C%20_n(10)%20%20%20%20%20%20%2F%2F%20%E5%88%9D%E5%A7%8B%E5%8C%96%E5%B8%B8%E9%87%8F%5Cn%5Ct%7B%7D%5Cn%5Cn%5Ct%5Cnprivate%3A%5Cn%5CtA%20_aobj%3B%20%20%20%20%20%20%2F%2F%20%E6%B2%A1%E6%9C%89%E9%BB%98%E8%AE%A4%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0(%E4%B8%8D%E7%94%A8%E4%BC%A0%E5%8F%82%E5%B0%B1%E5%8F%AF%E4%BB%A5%E8%B0%83%E7%94%A8%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0)%5Cn%5Ctint%26%20_ref%3B%20%20%20%20%2F%2F%20%E5%BC%95%E7%94%A8%5Cn%5Ctconst%20int%20_n%3B%20%2F%2F%20const%5Cn%5Ct%2F%2F%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E7%9A%84%E5%A3%B0%E6%98%8E%5Cn%7D%3B%5Cn%5Cnint%20main()%5Cn%7B%5Cn%5CtB%20b(1%2C%202)%3B%2F%2F%E5%AF%B9%E8%B1%A1%E5%AE%9A%E4%B9%89%5Cn%5Ctreturn%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%201%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22O1QfW%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u6ea34aac" id="u6ea34aac"><code data-lake-id="u4be4d616" id="u4be4d616"><strong><span data-lake-id="u59320703" id="u59320703" class="lake-fontsize-12">B</span></strong></code><strong><span data-lake-id="u7535e2d7" id="u7535e2d7" class="lake-fontsize-12"> 类中 </span></strong><code data-lake-id="u2fddf373" id="u2fddf373"><strong><span data-lake-id="u3e64704e" id="u3e64704e" class="lake-fontsize-12">_aobj</span></strong></code><strong><span data-lake-id="ucb9b5023" id="ucb9b5023" class="lake-fontsize-12"> 的初始化</span></strong></p><ul list="ub12e6b44" data-lake-indent="1"><li fid="ud750ef3f" data-lake-id="uf8db865e" id="uf8db865e"><code data-lake-id="u9f84ff04" id="u9f84ff04"><strong><span data-lake-id="u4e42c2d0" id="u4e42c2d0" class="lake-fontsize-12">_aobj</span></strong></code><span data-lake-id="u6fc789ec" id="u6fc789ec" class="lake-fontsize-12"> </span><span data-lake-id="uab227257" id="uab227257" class="lake-fontsize-12">是</span><span data-lake-id="u886e342a" id="u886e342a" class="lake-fontsize-12"> </span><code data-lake-id="uae8dd411" id="uae8dd411"><strong><span data-lake-id="ueb403e97" id="ueb403e97" class="lake-fontsize-12">B</span></strong></code><span data-lake-id="u5b83727b" id="u5b83727b" class="lake-fontsize-12"> </span><span data-lake-id="uf5418db2" id="uf5418db2" class="lake-fontsize-12">类的成员变量，类型为</span><span data-lake-id="ua175ccff" id="ua175ccff" class="lake-fontsize-12"> </span><code data-lake-id="uaf936dd9" id="uaf936dd9"><strong><span data-lake-id="u7104d511" id="u7104d511" class="lake-fontsize-12">A</span></strong></code><span data-lake-id="u7cb77584" id="u7cb77584" class="lake-fontsize-12">。</span></li><li fid="ud750ef3f" data-lake-id="u7a5cd9c0" id="u7a5cd9c0"><span data-lake-id="uee3f9f43" id="uee3f9f43" class="lake-fontsize-12">由于</span><span data-lake-id="u2347441b" id="u2347441b" class="lake-fontsize-12"> </span><code data-lake-id="u8e3fe551" id="u8e3fe551"><strong><span data-lake-id="ud902dcd9" id="ud902dcd9" class="lake-fontsize-12">A</span></strong></code><span data-lake-id="ue10d3516" id="ue10d3516" class="lake-fontsize-12"> </span><span data-lake-id="ua143db3f" id="ua143db3f" class="lake-fontsize-12">没有默认构造函数，</span><code data-lake-id="u5509fe25" id="u5509fe25"><strong><span data-lake-id="u4b458b44" id="u4b458b44" class="lake-fontsize-12">_aobj</span></strong></code><span data-lake-id="u5160f098" id="u5160f098" class="lake-fontsize-12"> </span><strong><span data-lake-id="uceb79fda" id="uceb79fda" class="lake-fontsize-12">必须在</span></strong><strong><span data-lake-id="u2a1494d6" id="u2a1494d6" class="lake-fontsize-12"> </span></strong><code data-lake-id="u2f645b70" id="u2f645b70"><strong><span data-lake-id="u046b2d42" id="u046b2d42" class="lake-fontsize-12">B</span></strong></code><strong><span data-lake-id="u3766759b" id="u3766759b" class="lake-fontsize-12"> </span></strong><strong><span data-lake-id="u17ad46e2" id="u17ad46e2" class="lake-fontsize-12">的构造函数初始化列表中显式初始化</span></strong><span data-lake-id="ua82d79e0" id="ua82d79e0" class="lake-fontsize-12">，否则会编译报错。</span></li><li fid="ud750ef3f" data-lake-id="ubaa4933c" id="ubaa4933c"><span data-lake-id="ue52b1018" id="ue52b1018" class="lake-fontsize-12">代码中 </span><code data-lake-id="u1c7f9fce" id="u1c7f9fce"><strong><span data-lake-id="uaeac8cf7" id="uaeac8cf7" class="lake-fontsize-12">B(int a, int ref)</span></strong></code><span data-lake-id="u73b10665" id="u73b10665" class="lake-fontsize-12"> 的初始化列表 </span><code data-lake-id="u48bf9585" id="u48bf9585"><strong><span data-lake-id="u10d87019" id="u10d87019" class="lake-fontsize-12">:_aobj(a)</span></strong></code><span data-lake-id="u4fdcb412" id="u4fdcb412" class="lake-fontsize-12"> 正确传递了参数 </span><code data-lake-id="u397246c7" id="u397246c7"><strong><span data-lake-id="uf409b034" id="uf409b034" class="lake-fontsize-12">a</span></strong></code><span data-lake-id="u7c3ef745" id="u7c3ef745" class="lake-fontsize-12"> 来构造 </span><code data-lake-id="ubf3a845e" id="ubf3a845e"><strong><span data-lake-id="u505c9032" id="u505c9032" class="lake-fontsize-12">_aobj</span></strong></code><span data-lake-id="uae31e5df" id="uae31e5df" class="lake-fontsize-12">。</span></li></ul><p data-lake-id="u67d058c0" id="u67d058c0"><span data-lake-id="ue9712235" id="ue9712235" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. 尽量使用初始化列表初始化，因为不管你是否使用初始化列表，对于自定义类型成员变量，  一定会先使 用初始化列表初始化。</span></p><p data-lake-id="ud0d58244" id="ud0d58244"><span data-lake-id="u49e291ca" id="u49e291ca" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. </span><strong><span data-lake-id="u176ad788" id="u176ad788" class="lake-fontsize-12" style="color: rgb(119,119,119)">成员变量</span></strong><span data-lake-id="udd4c75cb" id="udd4c75cb" class="lake-fontsize-12" style="color: rgb(119,119,119)">在类中</span><strong><span data-lake-id="ud63cba48" id="ud63cba48" class="lake-fontsize-12" style="color: rgb(119,119,119)">声明次序</span></strong><span data-lake-id="ud3100d69" id="ud3100d69" class="lake-fontsize-12" style="color: rgb(119,119,119)">就是其在初始化列表中的</span><strong><span data-lake-id="u27656ab1" id="u27656ab1" class="lake-fontsize-12" style="color: rgb(119,119,119)">初始化顺序</span></strong><span data-lake-id="u8a55e2b3" id="u8a55e2b3" class="lake-fontsize-12" style="color: rgb(119,119,119)">，与其在初始化列表中的先后次序无关</span></p><details data-lake-id="ud7dae5c4" id="ud7dae5c4" open="false" class="lake-collapse"><summary data-lake-id="uab2e3b8d" id="uab2e3b8d" class="lake-summary"><span data-lake-id="u5d1a788b" id="u5d1a788b" class="lake-fontsize-12">题目</span></summary><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E9%A2%98%E7%9B%AE%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20A%5Cn%7B%5Cnpublic%3A%5Cn%5CtA(int%20a)%5Cn%5Ct%5Ct%3A%20_a1(a)%5Cn%5Ct%5Ct%2C%20_a2(_a1)%5Cn%5Ct%7B%5Cn%5Ct%7D%5Cn%5Cn%5Ctvoid%20Print()%20%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20_a1%20%3C%3C%20%5C%22%20%5C%22%20%3C%3C%20_a2%20%3C%3C%20endl%3B%5Cn%5Cn%5Ct%7D%5Cnprivate%3A%5Cn%5Ctint%20_a2%3B%5Cn%5Ctint%20_a1%3B%5Cn%7D%3B%5Cnint%20main()%20%7B%5Cn%5CtA%20aa(1)%3B%5Cn%5Ctaa.Print()%3B%5Cn%5Ctreturn%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E9%A2%98%E7%9B%AE%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22H0uGR%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><ul list="u5af3de5b" class="lake-list"><li fid="ua64c3573" data-lake-id="u0adf8821" id="u0adf8821" class="lake-list-node lake-list-task"><card type="inline" name="checkbox" value="data:false"></card><span data-lake-id="u09d5fa6a" id="u09d5fa6a">A 输出1 1</span></li><li fid="ua64c3573" data-lake-id="u01c9d72e" id="u01c9d72e" class="lake-list-node lake-list-task"><card type="inline" name="checkbox" value="data:false"></card><span data-lake-id="u1b885d23" id="u1b885d23">B 程序崩溃</span></li><li fid="ua64c3573" data-lake-id="uef7df169" id="uef7df169" class="lake-list-node lake-list-task"><card type="inline" name="checkbox" value="data:false"></card><span data-lake-id="u136093e3" id="u136093e3">C编译不通过</span></li></ul><ul list="u031aac04" class="lake-list"><li fid="u0880e271" version="1743996329484" data-lake-id="ua3e55e69" id="ua3e55e69" class="lake-list-node lake-list-task"><card type="inline" name="checkbox" value="data:true"></card><span data-lake-id="u485b85f3" id="u485b85f3">D输出1 随机值 </span></li></ul><p data-lake-id="ud0cfd3f4" id="ud0cfd3f4"><br></p><p data-lake-id="u92e6f705" id="u92e6f705"><span data-lake-id="u89959949" id="u89959949">解析：</span></p><p data-lake-id="u34fb17ff" id="u34fb17ff"><span data-lake-id="u9fe6f0e5" id="u9fe6f0e5">因为赋值要看private中的成员变量排序</span></p><p data-lake-id="uef2d883d" id="uef2d883d"><span data-lake-id="ua04be8c8" id="ua04be8c8">private:</span></p><p data-lake-id="u628ee52a" id="u628ee52a"><span data-lake-id="ud6f02dc1" id="ud6f02dc1">	int _a2;</span></p><p data-lake-id="ud0d658d3" id="ud0d658d3"><span data-lake-id="ua57455a6" id="ua57455a6">	int _a1;</span></p><p data-lake-id="u48613845" id="u48613845"><span data-lake-id="u298a49d8" id="u298a49d8">因此应该先把_a1(随机值)赋值给_a2</span></p><p data-lake-id="udc4db3a0" id="udc4db3a0"><span data-lake-id="uebeb2b60" id="uebeb2b60">随后再把1赋值给_a1</span></p></details><p data-lake-id="u925e5fd4" id="u925e5fd4"><strong><span data-lake-id="u90d601b9" id="u90d601b9" class="lake-fontsize-12" style="color: rgb(51,51,51)">1.3 explicit关键字</span></strong></p><p data-lake-id="u754a797c" id="u754a797c"><span data-lake-id="ucd256b44" id="ucd256b44" class="lake-fontsize-12" style="color: rgb(119,119,119)">构造函数不仅可以构造与初始化对象，  </span><strong><span data-lake-id="ua1539b53" id="ua1539b53" class="lake-fontsize-12" style="color: rgb(119,119,119)">对于单个参数的构造函数，还具有类型转换的作用</span></strong><span data-lake-id="ucbb6644a" id="ucbb6644a" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%20%202%20%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Date%5Cn%7B%5Cnpublic%3A%5CnDate(int%20year)%5Cn%3A_year(year)%5Cn%7B%7D%5Cn%5Cnexplicit%20Date(int%20year)%5Cn%3A_year(year)%5Cn%7B%7D%5Cn%5Cnprivate%3A%5Cnint%20_year%3B%5Cnint%20_month%3A%5Cnint%20_day%3B%5Cn%7D%EF%BC%9B%5Cnvoid%20TestDate()%5Cn%7B%5CnDate%20d1(2018)%3B%5Cn%2F%2F%20%E7%94%A8%E4%B8%80%E4%B8%AA%E6%95%B4%E5%BD%A2%E5%8F%98%E9%87%8F%E7%BB%99%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B%E5%AF%B9%E8%B1%A1%E8%B5%8B%E5%80%BC%5Cn%2F%2F%20%E5%AE%9E%E9%99%85%E7%BC%96%E8%AF%91%E5%99%A8%E8%83%8C%E5%90%8E%E4%BC%9A%E7%94%A82019%E6%9E%84%E9%80%A0%E4%B8%80%E4%B8%AA%E6%97%A0%E5%90%8D%E5%AF%B9%E8%B1%A1%EF%BC%8C%E6%9C%80%E5%90%8E%E7%94%A8%E6%97%A0%E5%90%8D%E5%AF%B9%E8%B1%A1%E7%BB%99d1%E5%AF%B9%E8%B1%A1%E8%BF%9B%E8%A1%8C%E8%B5%8B%E5%80%BC%5Cnd1%20%3D%202019%3B%5CnDate%20d2%20%3D%202%3B%20%2F%2F%E9%9A%90%E5%BC%8F%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%20%E6%9E%84%E9%80%A0%E5%87%BAtmp(2)%2B%E5%86%8D%E7%94%A8tmp%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0d2(tmp)%2B%E4%BC%98%E5%8C%96%E6%88%90%E7%9B%B4%E6%8E%A5%E6%9E%84%E9%80%A0%5CnDate%20d3%20%3D%20d1%3B%2F%2F%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%20%202%20%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22pl7UB%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u6dc04037" id="u6dc04037"><span data-lake-id="u4b0ac909" id="u4b0ac909" class="lake-fontsize-12" style="color: rgb(119,119,119)">c++11支持以下赋值操作</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%203%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20Date%5Cn%7B%5Cnpublic%3A%5Cn%2F%2Fexplicit%20Date(int%20year%2C%20int%20month%2C%20int%20day)%5Cn%5CtDate(int%20year%2C%20int%20month%2C%20int%20day)%5Cn%5Ct%5Cn%5Ct%5Ct%3A%20_year(year)%5Cn%5Ct%5Ct%2C%20_month(month)%5Cn%5Ct%5Ct%2C%20_day(day)%5Cn%5Ct%5Ct%7B%7D%5Cn%5Ct%5Cn%5Ctvoid%20Print()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20_year%20%3C%3C%20%5C%22-%5C%22%20%3C%3C%20_month%20%3C%3C%20%5C%22-%5C%22%20%3C%3C%20_day%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%5Cnprivate%3A%5Cn%5Ctint%20_year%3B%5Cn%5Ctint%20_month%3B%5Cn%5Ctint%20_day%3B%5Cn%7D%3B%5Cn%5Cn%5Cnint%20main()%20%5Cn%7B%5Cn%5CtDate%20d1%20%3D%20%7B%201%2C2%2C3%20%7D%3B%5Cn%5Ctd1.Print()%3B%5Cn%5Ctreturn%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%203%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22vYKya%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u653c51cb" id="u653c51cb"><span data-lake-id="u818775b6" id="u818775b6" class="lake-fontsize-12" style="color: rgb(119,119,119)">若不想完成该隐式类型转换，则在构造函数前加上explicit即可</span></p><h3 data-lake-id="jtVIS" id="jtVIS" collapsed="true"><span data-lake-id="u59c66bc4" id="u59c66bc4" style="color: rgb(51,51,51)">2. static成员</span></h3><p data-lake-id="uc12d1bc0" id="uc12d1bc0"><strong><span data-lake-id="u97a5ce6a" id="u97a5ce6a" class="lake-fontsize-12" style="color: rgb(51,51,51)">2.1 概念</span></strong></p><p data-lake-id="u944c7780" id="u944c7780" style="text-align: left"><span data-lake-id="uba8f8918" id="uba8f8918" class="lake-fontsize-12" style="color: rgb(119,119,119)">声明为</span><strong><span data-lake-id="u1358c327" id="u1358c327" class="lake-fontsize-12" style="color: rgb(119,119,119)">static的类成员</span></strong><span data-lake-id="uf11e9e54" id="uf11e9e54" class="lake-fontsize-12" style="color: rgb(119,119,119)">称为</span><strong><span data-lake-id="u2f6599e4" id="u2f6599e4" class="lake-fontsize-12" style="color: rgb(119,119,119)">类的静态成员</span></strong><span data-lake-id="u58db687f" id="u58db687f" class="lake-fontsize-12" style="color: rgb(119,119,119)">，用</span><strong><span data-lake-id="u797d54ef" id="u797d54ef" class="lake-fontsize-12" style="color: rgb(119,119,119)">static</span></strong><span data-lake-id="uc0a988bf" id="uc0a988bf" class="lake-fontsize-12" style="color: rgb(119,119,119)">修饰的</span><strong><span data-lake-id="u8b8f28ed" id="u8b8f28ed" class="lake-fontsize-12" style="color: rgb(119,119,119)">成员变量</span></strong><span data-lake-id="u8143b0ab" id="u8143b0ab" class="lake-fontsize-12" style="color: rgb(119,119,119)">，称之为</span><strong><span data-lake-id="u663e059a" id="u663e059a" class="lake-fontsize-12" style="color: rgb(119,119,119)">静态成员变量</span></strong><span data-lake-id="ua112d95d" id="ua112d95d" class="lake-fontsize-12" style="color: rgb(119,119,119)">；用</span><strong><span data-lake-id="ub5af76cc" id="ub5af76cc" class="lake-fontsize-12" style="color: rgb(119,119,119)">static修饰</span></strong><span data-lake-id="udb384c4a" id="udb384c4a" class="lake-fontsize-12" style="color: rgb(119,119,119)">的</span><strong><span data-lake-id="u128793ec" id="u128793ec" class="lake-fontsize-12" style="color: rgb(119,119,119)">成员函数</span></strong><span data-lake-id="ud7918df3" id="ud7918df3" class="lake-fontsize-12" style="color: rgb(119,119,119)">，称之为</span><strong><span data-lake-id="u25f2ad47" id="u25f2ad47" class="lake-fontsize-12" style="color: #DF2A3F">静态成员函数</span></strong><span data-lake-id="u5d077d0d" id="u5d077d0d" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span><strong><span data-lake-id="u842199b7" id="u842199b7" class="lake-fontsize-12" style="color: rgb(119,119,119)">静态的成员变量一定要在类外进行初始化</span></strong></p><p data-lake-id="uf7dbf892" id="uf7dbf892" style="text-align: left"><strong><span data-lake-id="u1eb97133" id="u1eb97133" class="lake-fontsize-12" style="color: rgb(119,119,119)">面试题：实现一个类，计算中程序中创建出了多少个类对象。</span></strong></p><p data-lake-id="uc2bd78c8" id="uc2bd78c8" style="text-align: left"><span data-lake-id="u0c35ca6e" id="u0c35ca6e" class="lake-fontsize-12" style="color: rgb(119,119,119)">设计出一个类A，可以计算这个类总共产生了多少个对象</span></p><details data-lake-id="u780433ed" id="u780433ed" open="true" class="lake-collapse"><summary data-lake-id="u44244e32" id="u44244e32" class="lake-summary"><span data-lake-id="ub66af94b" id="ub66af94b" class="lake-fontsize-12">example 5</span></summary><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%204%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20A%5Cn%7B%5Cnpublic%3A%5Cn%5CtA()%5Cn%5Ct%7B%5Cn%5Ct%5Ct%2B%2Bn%3B%5Cn%5Ct%7D%5Cn%5Cn%5CtA(const%20A%26%20a)%5Cn%5Ct%7B%5Cn%5Ct%5Ct%2B%2Bn%3B%5Cn%5Ct%7D%5Cnint%20GetN()%5Cn%7B%5Cn%20%20%20%20return%20n%3B%2F%2F%E8%BF%94%E5%9B%9E%E7%9A%84%E6%98%AFn%E7%9A%84%E6%8B%B7%E8%B4%9D%5Cn%7D%5Cnprivate%3A%5Cn%20%20%20%20static%20int%20n%3B%20%2F%2F%E4%BF%9D%E6%8A%A4n%E9%98%B2%E6%AD%A2%E7%AF%A1%E6%94%B9%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%E5%A3%B0%E6%98%8E%20%E4%B8%8D%E6%98%AF%E5%B1%9E%E4%BA%8E%E6%9F%90%E4%B8%AA%E5%AF%B9%E8%B1%A1%E4%B8%AD%EF%BC%8C%E6%98%AF%E5%B1%9E%E4%BA%8E%E7%B1%BB%E7%9A%84%E6%89%80%E6%9C%89%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%B1%9E%E4%BA%8E%E8%BF%99%E4%B8%AA%E7%B1%BB%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fn%E4%B8%8D%E5%9C%A8%E5%AF%B9%E8%B1%A1%E4%B8%AD%EF%BC%8Cn%E5%9C%A8%E9%9D%99%E6%80%81%E5%8C%BA%5Cn%7D%3B%5Cn%5Cnint%20A%3A%3An%20%3D%200%3B%20%2F%2F%E5%AE%9A%E4%B9%89%EF%BC%88%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%89%5Cn%5CnA%20f1(A%20a)%5Cn%7B%5Cn%5Ctreturn%20a%3B%5Cn%7D%5Cn%5Cnint%20main()%20%5Cn%7B%5Cn%5CtA%20a1%3B%20%20%2F%2F1%E4%B8%AA%5Cn%5CtA%20a2%3B%20%20%2F%2F1%E4%B8%AA%5Cn%5Cn%5Ctf1(a1)%3B%20%2F%2F2%E4%B8%AA%20%20a1%20-%3E%20a%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E4%B8%80%E4%B8%AA%E4%B8%B4%E6%97%B6%E5%AF%B9%E8%B1%A1a%20%5Cn%5Ct%5Ct%5Ct%2F%2F%E8%BF%94%E5%9B%9E%E5%80%BC%E9%80%9A%E8%BF%87%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%88%9B%E5%BB%BA%E4%B8%B4%E6%97%B6%E5%AF%B9%E8%B1%A1%EF%BC%88%E7%AC%AC2%E6%AC%A1%E6%8B%B7%E8%B4%9D%EF%BC%89%5Cn%5Ctf1(a2)%3B%20%2F%2F2%E4%B8%AA%5Cn%5Cn%5Ctcout%20%3C%3C%20a1.GetN()%20%3C%3C%20endl%3B%2F%2F%E5%9C%A8%E7%B1%BB%E4%B8%AD%E5%88%9B%E5%BB%BA%E6%8E%A5%E5%8F%A3%E8%AE%BF%E9%97%AEprivate%5Cn%5Ctreturn%200%3B%5Cn%7D%5Cn%5Cn%5Cn%5Cn%2F%2Fa1%EF%BC%88%E5%A4%96%E9%83%A8%E5%AF%B9%E8%B1%A1%EF%BC%89%20%5Cn%20%20%20%20%20%E2%86%93%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%EF%BC%88%E4%BC%A0%E5%8F%82%EF%BC%89%5Cn%2F%2F%E5%BD%A2%E5%8F%82a%EF%BC%88%E5%87%BD%E6%95%B0%E5%86%85%E5%AF%B9%E8%B1%A1%EF%BC%89%20%5Cn%20%20%20%20%20%E2%86%93%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%EF%BC%88%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%89%5Cn%2F%2F%E4%B8%B4%E6%97%B6%E5%AF%B9%E8%B1%A1%EF%BC%88%E8%BF%94%E5%9B%9E%E5%80%BC%EF%BC%89%E2%86%92%20%E6%9C%AA%E4%BD%BF%E7%94%A8%EF%BC%8C%E7%AB%8B%E5%8D%B3%E9%94%80%E6%AF%81%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%204%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22YCY1P%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="989d218e" id="989d218e"><strong><span data-lake-id="uc88dbec0" id="uc88dbec0">为什么需要这次拷贝？</span></strong></h3><ol list="uc764b94d"><li fid="udb803143" data-lake-id="u6a366e97" id="u6a366e97"><strong><span data-lake-id="uee9e21b2" id="uee9e21b2" class="lake-fontsize-12">语义要求</span></strong><span data-lake-id="u8522c2b5" id="u8522c2b5" class="lake-fontsize-12">：<br /></span><span data-lake-id="u733abd1f" id="u733abd1f" class="lake-fontsize-12">C++ 标准规定，传值返回必须保证返回的对象独立于函数内的局部变量（形参</span><span data-lake-id="u7a89d3d2" id="u7a89d3d2" class="lake-fontsize-12"> </span><code data-lake-id="u19646d26" id="u19646d26"><strong><span data-lake-id="u089fd3a2" id="u089fd3a2" class="lake-fontsize-12">a</span></strong></code><span data-lake-id="u31714c80" id="u31714c80" class="lake-fontsize-12"> </span><span data-lake-id="u46596049" id="u46596049" class="lake-fontsize-12">会在函数结束时销毁，不能直接返回它本身）。</span></li><li fid="udb803143" data-lake-id="ubd747a9b" id="ubd747a9b"><strong><span data-lake-id="u97b8ece7" id="u97b8ece7" class="lake-fontsize-12">生命周期分离</span></strong><span data-lake-id="u3ac1b960" id="u3ac1b960" class="lake-fontsize-12">：</span></li></ol><ul list="udef67adb" data-lake-indent="1"><li fid="u0b8cd0cf" data-lake-id="u847422c5" id="u847422c5"><span data-lake-id="ube9118e2" id="ube9118e2" class="lake-fontsize-12">形参</span><span data-lake-id="u19576e6c" id="u19576e6c" class="lake-fontsize-12"> </span><code data-lake-id="u4ddadb40" id="u4ddadb40"><strong><span data-lake-id="uef55afaf" id="uef55afaf" class="lake-fontsize-12">a</span></strong></code><span data-lake-id="ub46bae62" id="ub46bae62" class="lake-fontsize-12"> </span><span data-lake-id="u007efc9e" id="u007efc9e" class="lake-fontsize-12">的生命周期仅在</span><span data-lake-id="u5b6f26a2" id="u5b6f26a2" class="lake-fontsize-12"> </span><code data-lake-id="u0c190bba" id="u0c190bba"><strong><span data-lake-id="u820dc8e6" id="u820dc8e6" class="lake-fontsize-12">f1</span></strong></code><span data-lake-id="u4c3b5f76" id="u4c3b5f76" class="lake-fontsize-12"> </span><span data-lake-id="u47009619" id="u47009619" class="lake-fontsize-12">函数内。</span></li><li fid="u0b8cd0cf" data-lake-id="u8815a8b8" id="u8815a8b8"><span data-lake-id="ucbcca61c" id="ucbcca61c" class="lake-fontsize-12">返回值需要存在到函数调用表达式结束（如赋值给其他变量或销毁）。</span></li></ul><p data-lake-id="u4c3b2d6a" id="u4c3b2d6a"><span data-lake-id="u6c3070aa" id="u6c3070aa">若将</span><strong><span data-lake-id="udf29c52e" id="udf29c52e">A f1(A a)</span></strong><span data-lake-id="uaf9c5678" id="uaf9c5678">改为</span><strong><span data-lake-id="u5f6f09b8" id="u5f6f09b8" style="color: #DF2A3F">A f1(A&amp; a)</span></strong><span data-lake-id="u3e0ac7d0" id="u3e0ac7d0">，则共4个 因为引用不算拷贝构造</span></p><p data-lake-id="u3fc01e08" id="u3fc01e08"><span data-lake-id="u38fecc27" id="u38fecc27">若将</span><strong><span data-lake-id="uc5d3d422" id="uc5d3d422">A f1(A&amp; a)</span></strong><span data-lake-id="ud1f03cbc" id="ud1f03cbc">改为</span><strong><span data-lake-id="u23746769" id="u23746769" style="color: #DF2A3F">A&amp; f1(A&amp; a)</span></strong><span data-lake-id="u455ce2d2" id="u455ce2d2">，则共2个 因为引用不算拷贝构造</span></p></details><p data-lake-id="u734a3430" id="u734a3430"><strong><span data-lake-id="ucfbe7fc3" id="ucfbe7fc3" class="lake-fontsize-12" style="color: rgb(51,51,51)">2.2 特性</span></strong></p><p data-lake-id="ued4f4b3d" id="ued4f4b3d" style="text-align: left"><span data-lake-id="u5cbb2150" id="u5cbb2150" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><strong><span data-lake-id="ud822485b" id="ud822485b" class="lake-fontsize-12" style="color: rgb(119,119,119)">静态成员</span></strong><span data-lake-id="uaae0d0f0" id="uaae0d0f0" class="lake-fontsize-12" style="color: rgb(119,119,119)">为所有</span><strong><span data-lake-id="u4b340c88" id="u4b340c88" class="lake-fontsize-12" style="color: rgb(119,119,119)">类对象所共享</span></strong><span data-lake-id="u5fb13b9e" id="u5fb13b9e" class="lake-fontsize-12" style="color: rgb(119,119,119)">，不属于某个具体的实例</span></p><p data-lake-id="uc305a907" id="uc305a907" style="text-align: left"><span data-lake-id="ubc74f4ae" id="ubc74f4ae" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><strong><span data-lake-id="ue798c55d" id="ue798c55d" class="lake-fontsize-12" style="color: rgb(119,119,119)">静态成员变量</span></strong><span data-lake-id="udcfa754f" id="udcfa754f" class="lake-fontsize-12" style="color: rgb(119,119,119)">必须在</span><strong><span data-lake-id="u1711c539" id="u1711c539" class="lake-fontsize-12" style="color: rgb(119,119,119)">类外定义</span></strong><span data-lake-id="u12bb2633" id="u12bb2633" class="lake-fontsize-12" style="color: rgb(119,119,119)">，定义时不添加</span><span data-lake-id="ue8b2b6fe" id="ue8b2b6fe" class="lake-fontsize-12" style="color: rgb(119,119,119)">static</span><span data-lake-id="uc94c47ce" id="uc94c47ce" class="lake-fontsize-12" style="color: rgb(119,119,119)">关键字</span></p><p data-lake-id="u8e19a3df" id="u8e19a3df" style="text-align: left"><span data-lake-id="u37c3cb11" id="u37c3cb11" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><span data-lake-id="u4359f768" id="u4359f768" class="lake-fontsize-12" style="color: rgb(119,119,119)">类静态成员即可用类名</span><span data-lake-id="u4787d5e4" id="u4787d5e4" class="lake-fontsize-12" style="color: rgb(119,119,119)">::</span><span data-lake-id="u44606f09" id="u44606f09" class="lake-fontsize-12" style="color: rgb(119,119,119)">静态成员或者对象</span><span data-lake-id="uf2192db1" id="uf2192db1" class="lake-fontsize-12" style="color: rgb(119,119,119)">.</span><span data-lake-id="u69e5f242" id="u69e5f242" class="lake-fontsize-12" style="color: rgb(119,119,119)">静态成员来访问</span></p><p data-lake-id="u086ceea4" id="u086ceea4" style="text-align: left"><span data-lake-id="u4eaf460e" id="u4eaf460e" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. </span><span data-lake-id="u3c6fd36f" id="u3c6fd36f" class="lake-fontsize-12" style="color: #DF2A3F">静态成员函数</span><strong><span data-lake-id="u57b2286d" id="u57b2286d" class="lake-fontsize-12" style="color: #DF2A3F">没有</span></strong><span data-lake-id="uf9431890" id="uf9431890" class="lake-fontsize-12" style="color: #DF2A3F">隐藏的</span><strong><span data-lake-id="u3300da95" id="u3300da95" class="lake-fontsize-12" style="color: #DF2A3F">this指针</span></strong><span data-lake-id="u1367328b" id="u1367328b" class="lake-fontsize-12" style="color: #DF2A3F">，不能访问任何非静态成员</span></p><p data-lake-id="u04dcf3db" id="u04dcf3db" style="text-align: left"><span data-lake-id="u16f2fa1d" id="u16f2fa1d" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. 静态成员和类的普通成员一样，也有public、 protected、 private3种访问级别，也可以具有返回值</span></p><p data-lake-id="u517b1194" id="u517b1194" style="text-align: left"><span data-lake-id="ud2f845f9" id="ud2f845f9" class="lake-fontsize-12" style="color: rgb(119,119,119)">【问题】</span></p><p data-lake-id="u1bf7ae0e" id="u1bf7ae0e" style="text-align: left"><span data-lake-id="u67553342" id="u67553342" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><span data-lake-id="u6018cf9a" id="u6018cf9a" class="lake-fontsize-12" style="color: rgb(119,119,119)">静态成员函数可以调用非静态成员函数吗？</span></p><p data-lake-id="u450dcdd8" id="u450dcdd8" style="text-align: left"><span data-lake-id="u88bd58ae" id="u88bd58ae" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 非静态成员函数可以调用类的静态成员函数吗？</span></p><details data-lake-id="u8b0781b4" id="u8b0781b4" open="true" class="lake-collapse"><summary data-lake-id="u7fc02156" id="u7fc02156" class="lake-summary"><span data-lake-id="u1b26cb95" id="u1b26cb95" class="lake-fontsize-12">explain</span></summary><p data-lake-id="u391b73ea" id="u391b73ea"><span data-lake-id="u8fac3bff" id="u8fac3bff" class="lake-fontsize-12">1.×</span></p><p data-lake-id="uf066fb71" id="uf066fb71"><span data-lake-id="ube0a0c73" id="ube0a0c73" class="lake-fontsize-12">例：void 调用 static void时，由于void有this指针，因此可以访问static void</span></p><p data-lake-id="ud61451fd" id="ud61451fd"><span data-lake-id="u23b027a7" id="u23b027a7" class="lake-fontsize-12">2.√</span></p><p data-lake-id="u102a2020" id="u102a2020"><span data-lake-id="u5c0dcea5" id="u5c0dcea5" class="lake-fontsize-12">例：static void 调用 void时，由于static void无this指针，因此无法访问void</span></p><p data-lake-id="u8c24a595" id="u8c24a595"><span data-lake-id="ufbae7e6a" id="ufbae7e6a" class="lake-fontsize-12">类域是指包裹类里面的成员</span></p><p data-lake-id="u8d738dd2" id="u8d738dd2"><span data-lake-id="u3bcbdd7b" id="u3bcbdd7b" class="lake-fontsize-12">突破类域是指访问类里面的成员</span></p><p data-lake-id="u2ab4295a" id="u2ab4295a"><strong><span data-lake-id="u10e83f52" id="u10e83f52" class="lake-fontsize-12" style="color: #DF2A3F">//类里面是一个整体都这类域中都这类域中，类里面不受访问限定符限制</span></strong></p></details><p data-lake-id="u4a692ec8" id="u4a692ec8" style="text-align: left"><span data-lake-id="u980fbd35" id="u980fbd35" class="lake-fontsize-12" style="color: rgb(119,119,119)">突破类域+访问限定符就可以访问 （如：d1.f4(); 或 Date::f4()）</span></p><details data-lake-id="ue19d48c5" id="ue19d48c5" open="true" class="lake-collapse"><summary data-lake-id="u8a5f4a3b" id="u8a5f4a3b" class="lake-summary"><strong><span data-lake-id="ud1b49864" id="ud1b49864" class="lake-fontsize-12">question</span></strong></summary><p data-lake-id="uc63c45e4" id="uc63c45e4"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F7a0da8fc483247ff8800059e12d7caf1%3FtpId%3D13%26tqId%3D11200%26tPage%3D3%26rp%3D3%26ru%3D%2Fta%2Fcoding-interviews%26qru%3D%2Fta%2Fcoding-interviews%2Fquestion-ranking%22%2C%22text%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F7a0da8fc483247ff8800059e12d7caf1%3FtpId%3D13%26tqId%3D11200%26tPage%3D3%26rp%3D3%26ru%3D%2Fta%2Fcoding-interviews%26qru%3D%2Fta%2Fcoding-interviews%2Fquestion-ranking%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Ffe%2Ffile%2Fimages%2Fnowpick%2Fweb%2Fwww-favicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Fimages%2Flogo_87_87.png%22%2C%22title%22%3A%22%E6%B1%821%2B2%2B3%2B...%2Bn_%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8_%E7%89%9B%E5%AE%A2%E7%BD%91%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22%E6%B1%821%2B2%2B3%2B...%2Bn%EF%BC%8C%E8%A6%81%E6%B1%82%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E4%B9%98%E9%99%A4%E6%B3%95%E3%80%81for%E3%80%81while%E3%80%81if%E3%80%81else%E3%80%81swit%E3%80%82%E9%A2%98%E7%9B%AE%E6%9D%A5%E8%87%AA%E3%80%90%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8%E3%80%91%22%2C%22url%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F7a0da8fc483247ff8800059e12d7caf1%3FtpId%3D13%26tqId%3D11200%26tPage%3D3%26rp%3D3%26ru%3D%2Fta%2Fcoding-interviews%26qru%3D%2Fta%2Fcoding-interviews%2Fquestion-ranking%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Dq5mz%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E5%89%91%E6%8C%87offer%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Sum%7B%5Cnpublic%3A%5CnSum()%7B%5Cn%20%20%20%20_sum%20%2B%3D%20_i%3B%5Cn%20%20%20%20%2B%2B_i%3B%5Cn%7D%5Cnstatic%20int%20GetSum()%7B%5Cn%20%20%20%20return%20_sum%3B%5Cn%7D%5Cnstatic%20void%20Init()%7B%5Cn%20%20%20%20_i%20%3D%201%3B%5Cn%20%20%20%20_sum%20%3D%200%3B%5Cn%7D%5Cnprivate%3A%5Cnstatic%20int%20_i%3B%5Cnstatic%20int%20_sum%3B%5Cn%7D%3B%5Cn%5Cnint%20Sum%3A%3A_i%20%3D%201%3B%5Cnint%20Sum%3A%3A_sum%20%3D%200%3B%5Cn%5Cnclass%20Solution%20%7B%5Cnpublic%3A%5Cn%20%20%20%20int%20Sum_Solution(int%20n)%20%7B%5Cn%20%20%20%20%20%20%20%20Sum%3A%3AInit()%3B%5Cn%20%20%20%20%20%20%20%20Sum%20a%5Bn%5D%3B%5Cn%20%20%20%20%20%20%20%20return%20Sum%3A%3AGetSum()%3B%5Cn%20%20%20%20%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E5%89%91%E6%8C%87offer%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22IToMy%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uad91a90a" id="uad91a90a" style="text-align: left"><span data-lake-id="u1693b76f" id="u1693b76f" class="lake-fontsize-12">此题，利用静态变量的性质、静态函数与构造函数，完成累加的命令</span></p></details><h3 data-lake-id="Wiwxq" id="Wiwxq" collapsed="true"><span data-lake-id="u61349a96" id="u61349a96" style="color: rgb(51,51,51)">3.C++11 的成员初始化新玩法。</span></h3><p data-lake-id="u6bf24df7" id="u6bf24df7" style="text-align: left"><span data-lake-id="ud932f0b8" id="ud932f0b8" class="lake-fontsize-12" style="color: rgb(119,119,119)">C++11支持非静态成员变量在声明时进行初始化赋值，  </span><strong><span data-lake-id="ubff1595f" id="ubff1595f" class="lake-fontsize-12" style="color: rgb(119,119,119)">但是要注意这里不是初始化，这里是给声明的成员变量</span></strong><strong><span data-lake-id="ua497d91f" id="ua497d91f" class="lake-fontsize-12" style="color: #DF2A3F">缺省值</span></strong><span data-lake-id="ua05e4410" id="ua05e4410" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><h3 data-lake-id="cbPiK" id="cbPiK"><span data-lake-id="u3c247b1d" id="u3c247b1d" style="color: rgb(51,51,51)">4. 友元</span></h3><p data-lake-id="uef7a7dce" id="uef7a7dce" style="text-align: left"><span data-lake-id="u164dff9a" id="u164dff9a" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元分为：</span><span data-lake-id="u84888184" id="u84888184" class="lake-fontsize-12" style="color: rgb(119,119,119)">  </span><strong><span data-lake-id="u29c1ee74" id="u29c1ee74" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元函数</span></strong><span data-lake-id="u5f5e949c" id="u5f5e949c" class="lake-fontsize-12" style="color: rgb(119,119,119)">和</span><strong><span data-lake-id="u674fcf6b" id="u674fcf6b" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元类</span></strong></p><p data-lake-id="uba8b87a5" id="uba8b87a5" style="text-align: left"><span data-lake-id="u00c578bb" id="u00c578bb" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元提供了一种突破封装的方式，有时提供了便利。但是友元会增加耦合度，破坏了封装，所以友元不宜多用。</span></p><p data-lake-id="ue4853ee0" id="ue4853ee0" style="text-align: left"><strong><span data-lake-id="u94d3be38" id="u94d3be38" class="lake-fontsize-12" style="color: rgb(51,51,51)">4.1 </span></strong><strong><span data-lake-id="u0b04047c" id="u0b04047c" class="lake-fontsize-12" style="color: rgb(51,51,51)">友元函数</span></strong></p><p data-lake-id="udafbc21a" id="udafbc21a" style="text-align: left"><span data-lake-id="u90b7077c" id="u90b7077c" class="lake-fontsize-12" style="color: rgb(119,119,119)">问题：现在我们尝试去重载operator&lt;&lt;，然后发现我们没办法将operator&lt;&lt;重载成成员函数。</span><strong><span data-lake-id="u3c29449e" id="u3c29449e" class="lake-fontsize-12" style="color: rgb(119,119,119)">因为cout的输出流对象和隐含的this指针在抢占第一个参数的位置</span></strong><span data-lake-id="u6523c6c6" id="u6523c6c6" class="lake-fontsize-12" style="color: rgb(119,119,119)">。this指针默认是第一个参数也就是左操作数了。但是 实际使用中cout需要是第一个形参对象，才能正常使用。所以我们要将operator&lt;&lt;重载成全局函数。但是这  样的话，又会导致类外没办法访问成员，那么这里就需要友元来解决。  operator&gt;&gt;同理。</span></p><p data-lake-id="u901bbccb" id="u901bbccb" style="text-align: left"><span data-lake-id="u5df9fa10" id="u5df9fa10" class="lake-fontsize-12" style="color: rgb(119,119,119)">cout -&gt; ostream类型</span></p><p data-lake-id="ud5b0fa5b" id="ud5b0fa5b" style="text-align: left"><span data-lake-id="u278f2072" id="u278f2072" class="lake-fontsize-12" style="color: rgb(119,119,119)">cin	-&gt;  istream类型</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20Date%5Cn%7B%5Cnpublic%3A%5Cn%5Ctvoid%20Print()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20_year%20%3C%3C%20%5C%22-%5C%22%20%3C%3C%20_month%20%3C%3C%20%5C%22-%5C%22%20%3C%3C%20_day%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctvoid%20operator%3C%3C(ostream%26%20out)%2F%2F%E4%B8%BA%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E7%9A%84%E8%AF%9D%EF%BC%8C%E5%8D%B3%E4%B8%BA%E5%8F%B3%E6%93%8D%E4%BD%9C%E6%95%B0%E3%80%82%E5%B7%A6%E6%93%8D%E4%BD%9C%E6%95%B0%E9%BB%98%E8%AE%A4%E4%B8%BAthis%5Cn%5Ct%7B%5Cn%5Ct%5Ctout%20%3C%3C%20_year%20%3C%3C%20%5C%22%2F%5C%22%20%3C%3C%20_month%20%3C%3C%20%5C%22%2F%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cnprivate%3A%5Cn%5Ctint%20_year%20%3D%200%3B%5Cn%5Ctint%20_month%20%3D%201%3B%5Cn%5Ctint%20_day%20%3D%201%3B%5Cn%7D%3B%5Cnint%20main()%5Cn%7B%5Cn%5CtDate%20d1%3B%5Cn%5Ctd1.Print()%3B%5Cn%5Ct%2F%2Fd1.operator%3C%3C(cout)%3B%5Cn%5Ctd1%20%3C%3C%20cout%3B%20%2F%2F%E6%AD%A4%E6%97%B6%E7%9A%84%E4%BB%A3%E7%A0%81%E5%8F%AF%E8%AF%BB%E6%80%A7%E4%B8%8D%E5%BC%BA%EF%BC%8C%E5%9B%A0%E4%B8%BA%E8%A2%AB%E8%A7%84%E5%AE%9A%E4%BA%86this%E6%8C%87%E9%92%88%E4%B8%BA%E5%B7%A6%E6%93%8D%E4%BD%9C%E6%95%B0%EF%BC%8C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fd1%E5%9B%A0%E6%AD%A4%E5%8F%AA%E8%83%BD%E5%9C%A8%E5%B7%A6%E4%BE%A7%5Cn%5Ctreturn%200%3B%5Cn%7D%5Cn%5Cn%5Cn%5Cn%5Cn%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20Date%5Cn%7B%5Cn%5Ctfriend%20void%20operator%3C%3C%20(ostream%20%26%20out%2C%20const%20Date%20%26%20d)%3B%5Cnpublic%3A%5Cn%5Ct%5Cn%5Ctvoid%20Print()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20_year%20%3C%3C%20%5C%22-%5C%22%20%3C%3C%20_month%20%3C%3C%20%5C%22-%5C%22%20%3C%3C%20_day%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%5Cnprivate%3A%5Cn%5Ctint%20_year%20%3D%200%3B%5Cn%5Ctint%20_month%20%3D%201%3B%5Cn%5Ctint%20_day%20%3D%201%3B%5Cn%7D%3B%5Cn%5Cnostream%26%20operator%3C%3C(ostream%26%20out%2Cconst%20Date%26%20d)%2F%2F%E5%9C%A8%E7%B1%BB%E5%A4%96%E9%9D%A2%E4%B9%8B%E5%90%8E%EF%BC%8C%E9%82%A3%E4%B9%88%E9%BB%98%E8%AE%A4%E7%9A%84this%E5%88%99%E6%B2%A1%E6%9C%89%E4%BA%86%5Cn%7B%5Cn%5Ctout%20%3C%3C%20d._year%20%3C%3C%20%5C%22%2F%5C%22%20%3C%3C%20d._month%20%3C%3C%20%5C%22%2F%5C%22%20%3C%3C%20d._day%20%3C%3C%20endl%3B%5Cn%20%20%20%20return%20out%3B%2F%2F%E4%B8%BA%E4%BA%86%E8%BF%9E%E7%BB%AD%E8%BE%93%E5%87%BA%EF%BC%8C%E5%88%99%E9%9C%80%E8%A6%81%E8%BF%94%E5%9B%9E%E5%80%BC%5Cn%7D%5Cn%5Cnint%20main()%5Cn%7B%5Cn%5CtDate%20d1%3B%5Cn%20%20%20%20Date%20d2%3B%5Cn%5Ctd1.Print()%3B%5Cn%5Ct%2F%2Fd1.operator%3C%3C(cout)%3B%5Cn%5Ctcout%20%3C%3C%20d1%20%3C%3C%20d2%3B%5Cn%5Ctreturn%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22__widthMode%22%3A%22normal%22%2C%22id%22%3A%22ElDIR%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22widthMode%22%3A%22normal%22%7D" hindent="2em"></card><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%3C%3C%20%E3%80%81%3E%3E%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22ostream%26%20operator%3C%3C(ostream%26%20out%2C%20const%20Date%26%20d)%2F%2F%E5%9C%A8%E7%B1%BB%E5%A4%96%E9%9D%A2%E4%B9%8B%E5%90%8E%EF%BC%8C%E9%82%A3%E4%B9%88%E9%BB%98%E8%AE%A4%E7%9A%84this%E5%88%99%E6%B2%A1%E6%9C%89%E4%BA%86%5Cn%7B%5Cn%5Ctout%20%3C%3C%20d._year%20%3C%3C%20%5C%22%2F%5C%22%20%3C%3C%20d._month%20%3C%3C%20%5C%22%2F%5C%22%20%3C%3C%20d._day%20%3C%3C%20endl%3B%5Cn%5Ctreturn%20out%3B%2F%2F%E4%B8%BA%E4%BA%86%E8%BF%9E%E7%BB%AD%E8%BE%93%E5%87%BA%EF%BC%8C%E5%88%99%E9%9C%80%E8%A6%81%E8%BF%94%E5%9B%9E%E5%80%BC%5Cn%7D%5Cn%5Cnistream%26%20operator%3E%3E(istream%26%20in%2C%20Date%26%20d)%2F%2F%E6%B3%A8%E6%84%8F%E6%AD%A4%E5%A4%84%E4%B8%8D%E8%83%BD%E7%94%A8const%EF%BC%8C%E5%90%A6%E5%88%99%E6%97%A0%E6%B3%95%E4%BF%AE%E6%94%B9%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20%20%7C-%3E%E5%8A%A0%E5%BC%95%E7%94%A8%E6%98%AF%E4%B8%BA%E4%BA%86%E8%83%BD%E5%A4%9F%E4%BF%AE%E6%94%B9%E5%AE%9E%E4%BE%8B%E5%8C%96%E4%B8%AD%E7%9A%84%E5%AF%B9%E8%B1%A1%EF%BC%8C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%E5%90%A6%E5%88%99%E5%8F%AA%E6%98%AF%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E4%BA%86%E4%B8%80%E4%B8%AA%E4%B8%B4%E6%97%B6%E5%AF%B9%E8%B1%A1d%5Cn%7B%5Cn%5Ctin%20%3E%3E%20d._year%20%3E%3E%20d._month%20%3E%3E%20d._day%3B%5Cn%5Ctreturn%20in%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%3C%3C%20%E3%80%81%3E%3E%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22xKprZ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="hr" value="data:%7B%22id%22%3A%22ru7rj%22%7D" hindent="2em"></card><p data-lake-id="ub4c4d2f2" id="ub4c4d2f2"><strong><span data-lake-id="u06bbcead" id="u06bbcead" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元函数</span></strong><span data-lake-id="uaf13e2ce" id="uaf13e2ce" class="lake-fontsize-12" style="color: rgb(119,119,119)">可以</span><strong><span data-lake-id="uf51e5063" id="uf51e5063" class="lake-fontsize-12" style="color: rgb(119,119,119)">直接访问</span></strong><span data-lake-id="ud09a939e" id="ud09a939e" class="lake-fontsize-12" style="color: rgb(119,119,119)">类的</span><strong><span data-lake-id="u01027e47" id="u01027e47" class="lake-fontsize-12" style="color: rgb(119,119,119)">私有</span></strong><span data-lake-id="u437c5260" id="u437c5260" class="lake-fontsize-12" style="color: rgb(119,119,119)">成员，它是</span><strong><span data-lake-id="ub7d919fb" id="ub7d919fb" class="lake-fontsize-12" style="color: rgb(119,119,119)">定义在类外部</span></strong><span data-lake-id="uc93f1f3c" id="uc93f1f3c" class="lake-fontsize-12" style="color: rgb(119,119,119)">的</span><strong><span data-lake-id="ub84b8fab" id="ub84b8fab" class="lake-fontsize-12" style="color: rgb(119,119,119)">普通函数</span></strong><span data-lake-id="u7236f2bd" id="u7236f2bd" class="lake-fontsize-12" style="color: rgb(119,119,119)">，不属于任何类，但需要在类的内部声 </span></p><p data-lake-id="u9261961f" id="u9261961f"><span data-lake-id="u2be981ca" id="u2be981ca" class="lake-fontsize-12" style="color: rgb(119,119,119)">明，声明时需要加</span><strong><span data-lake-id="u26fea910" id="u26fea910" class="lake-fontsize-12" style="color: rgb(119,119,119)">friend</span></strong><span data-lake-id="u296ee421" id="u296ee421" class="lake-fontsize-12" style="color: rgb(119,119,119)">关键字。</span></p><p data-lake-id="u25bbf780" id="u25bbf780"><strong><span data-lake-id="ua06b572b" id="ua06b572b" class="lake-fontsize-12" style="color: rgb(119,119,119)">说明</span></strong><strong><span data-lake-id="u8880255a" id="u8880255a" class="lake-fontsize-12" style="color: rgb(119,119,119)">: </span></strong></p><ul list="u09f5b239"><li fid="u724c4385" data-lake-id="uf10cba7b" id="uf10cba7b"><strong><span data-lake-id="u986cdd1f" id="u986cdd1f" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元函数</span></strong><span data-lake-id="u75f714f8" id="u75f714f8" class="lake-fontsize-12" style="color: rgb(119,119,119)">可访问类的私有和保护成员，但</span><strong><span data-lake-id="u0c42d415" id="u0c42d415" class="lake-fontsize-12" style="color: rgb(119,119,119)">不是类的成员函数</span></strong></li><li fid="u724c4385" data-lake-id="u3571f1ce" id="u3571f1ce"><span data-lake-id="uf9653b49" id="uf9653b49" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元函数</span><strong><span data-lake-id="ue2b9bccd" id="ue2b9bccd" class="lake-fontsize-12" style="color: rgb(119,119,119)">不能用</span></strong><strong><span data-lake-id="u363d1085" id="u363d1085" class="lake-fontsize-12" style="color: rgb(119,119,119)">const</span></strong><strong><span data-lake-id="u7818748b" id="u7818748b" class="lake-fontsize-12" style="color: rgb(119,119,119)">修饰 </span></strong></li><li fid="u724c4385" data-lake-id="u5abdced8" id="u5abdced8"><strong><span data-lake-id="u7719a1c7" id="u7719a1c7" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元函数</span></strong><span data-lake-id="ufb6cd47d" id="ufb6cd47d" class="lake-fontsize-12" style="color: rgb(119,119,119)">可以在类定义的任何地方声明，</span><strong><span data-lake-id="ub1997120" id="ub1997120" class="lake-fontsize-12" style="color: rgb(119,119,119)">不受类访问限定符限制 </span></strong></li><li fid="u724c4385" data-lake-id="u6aae94c7" id="u6aae94c7"><span data-lake-id="uad254b4e" id="uad254b4e" class="lake-fontsize-12" style="color: rgb(119,119,119)">一个函数可以是多个类的友元函数 </span></li><li fid="u724c4385" data-lake-id="ucad37a3b" id="ucad37a3b"><span data-lake-id="u03338dc2" id="u03338dc2" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元函数的调用与普通函数的调用和原理相同</span></li></ul><card type="block" name="hr" value="data:%7B%22id%22%3A%22fzXLz%22%7D"></card><p data-lake-id="ue1bf05ea" id="ue1bf05ea" style="text-align: left"><strong><span data-lake-id="u7c8bf62a" id="u7c8bf62a" class="lake-fontsize-12" style="color: rgb(51,51,51)">4.2 </span></strong><strong><span data-lake-id="ufa1d6a9b" id="ufa1d6a9b" class="lake-fontsize-12" style="color: rgb(51,51,51)">友元类</span></strong></p><p data-lake-id="uac3c4b61" id="uac3c4b61" style="text-align: left"><span data-lake-id="u83ec71e8" id="u83ec71e8" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元类的所有成员函数都可以是另一个类的友元函数，都可以访问另一个类中的非公有成员。</span></p><ul list="u8fcef38d"><li fid="u20988f89" data-lake-id="u9a4cfc62" id="u9a4cfc62" style="text-align: left"><span data-lake-id="uf5ac8196" id="uf5ac8196" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元关系是单向的，不具有交换性。</span></li></ul><p data-lake-id="u99f20717" id="u99f20717" style="text-align: left"><span data-lake-id="ude526566" id="ude526566" class="lake-fontsize-12" style="color: rgb(119,119,119)">比如上述</span><span data-lake-id="ud688bf28" id="ud688bf28" class="lake-fontsize-12" style="color: rgb(119,119,119)">Time</span><span data-lake-id="u68dab5d1" id="u68dab5d1" class="lake-fontsize-12" style="color: rgb(119,119,119)">类和</span><span data-lake-id="ub24c2961" id="ub24c2961" class="lake-fontsize-12" style="color: rgb(119,119,119)">Date</span><span data-lake-id="uc04e301a" id="uc04e301a" class="lake-fontsize-12" style="color: rgb(119,119,119)">类，在</span><span data-lake-id="udf8761e4" id="udf8761e4" class="lake-fontsize-12" style="color: rgb(119,119,119)">Time</span><span data-lake-id="ua04600c0" id="ua04600c0" class="lake-fontsize-12" style="color: rgb(119,119,119)">类中声明</span><span data-lake-id="uddd0e366" id="uddd0e366" class="lake-fontsize-12" style="color: rgb(119,119,119)">Date</span><span data-lake-id="udc310a67" id="udc310a67" class="lake-fontsize-12" style="color: rgb(119,119,119)">类为其友元类，那么可以在</span><span data-lake-id="uc4bb86bc" id="uc4bb86bc" class="lake-fontsize-12" style="color: rgb(119,119,119)">Date</span><span data-lake-id="u7dc8a018" id="u7dc8a018" class="lake-fontsize-12" style="color: rgb(119,119,119)">类</span><span data-lake-id="u473a2fe8" id="u473a2fe8" class="lake-fontsize-12" style="color: rgb(119,119,119)">中直接访问</span><span data-lake-id="u6f8ffd32" id="u6f8ffd32" class="lake-fontsize-12" style="color: rgb(119,119,119)">Time</span></p><p data-lake-id="u54107845" id="u54107845" style="text-align: left"><span data-lake-id="ub28a56d3" id="ub28a56d3" class="lake-fontsize-12" style="color: rgb(119,119,119)">类的私有成员变量，但想在</span><span data-lake-id="u482e9549" id="u482e9549" class="lake-fontsize-12" style="color: rgb(119,119,119)">Time</span><span data-lake-id="u63dd48e6" id="u63dd48e6" class="lake-fontsize-12" style="color: rgb(119,119,119)">类中访问</span><span data-lake-id="u9e9ab893" id="u9e9ab893" class="lake-fontsize-12" style="color: rgb(119,119,119)">Date</span><span data-lake-id="u605e869c" id="u605e869c" class="lake-fontsize-12" style="color: rgb(119,119,119)">类中私有的成员变量则不行。</span></p><ul list="u06f1a655"><li fid="u3567b767" data-lake-id="uaf1e27d9" id="uaf1e27d9" style="text-align: left"><span data-lake-id="u28885c27" id="u28885c27" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元关系不能传递</span></li></ul><p data-lake-id="uf4e789f1" id="uf4e789f1" style="text-align: left"><span data-lake-id="u95f94cb5" id="u95f94cb5" class="lake-fontsize-12" style="color: rgb(119,119,119)">如果</span><span data-lake-id="ue2ca32bd" id="ue2ca32bd" class="lake-fontsize-12" style="color: rgb(119,119,119)">B</span><span data-lake-id="u7f4ff23d" id="u7f4ff23d" class="lake-fontsize-12" style="color: rgb(119,119,119)">是</span><span data-lake-id="uc0b587f1" id="uc0b587f1" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="u9eec94c4" id="u9eec94c4" class="lake-fontsize-12" style="color: rgb(119,119,119)">的友元，</span><span data-lake-id="uf53bfdb4" id="uf53bfdb4" class="lake-fontsize-12" style="color: rgb(119,119,119)">  </span><span data-lake-id="u305d2510" id="u305d2510" class="lake-fontsize-12" style="color: rgb(119,119,119)">C</span><span data-lake-id="ucb8cf52b" id="ucb8cf52b" class="lake-fontsize-12" style="color: rgb(119,119,119)">是</span><span data-lake-id="u027280c2" id="u027280c2" class="lake-fontsize-12" style="color: rgb(119,119,119)">B</span><span data-lake-id="u905edb31" id="u905edb31" class="lake-fontsize-12" style="color: rgb(119,119,119)">的友元，则不能说明</span><span data-lake-id="ude16b43a" id="ude16b43a" class="lake-fontsize-12" style="color: rgb(119,119,119)">C</span><span data-lake-id="u4c50b7b3" id="u4c50b7b3" class="lake-fontsize-12" style="color: rgb(119,119,119)">时</span><span data-lake-id="u5c32487a" id="u5c32487a" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="u3f9dc48a" id="u3f9dc48a" class="lake-fontsize-12" style="color: rgb(119,119,119)">的友元。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Time%5Cn%7B%5Cn%5Ctfriend%20class%20Date%3B%20%2F%2F%20%E5%A3%B0%E6%98%8E%E6%97%A5%E6%9C%9F%E7%B1%BB%E4%B8%BA%E6%97%B6%E9%97%B4%E7%B1%BB%E7%9A%84%E5%8F%8B%E5%85%83%E7%B1%BB%EF%BC%8C%E5%88%99%E5%9C%A8%E6%97%A5%E6%9C%9F%E7%B1%BB%E4%B8%AD%E5%B0%B1%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AETime%E7%B1%BB%E4%B8%AD%E7%9A%84%E7%A7%81%E6%9C%89%E6%88%90%5Cn%5Ct%2F%2F%E5%91%98%E5%8F%98%E9%87%8F%5Cnpublic%3A%5Cn%5CtTime(int%20hour%20%3D%200%2C%20int%20minute%20%3D%200%2C%20int%20second%20%3D%200)%5Cn%5Ct%5Ct%3A%20_hour(hour)%5Cn%5Ct%5Ct%2C%20_minute(minute)%5Cn%5Ct%5Ct%2C%20_second(second)%5Cn%5Ct%7B%5Cn%5Ct%7D%5Cn%5Cnprivate%3A%5Cn%5Ctint%20_hour%3B%5Cn%5Ctint%20_minute%3B%5Cn%5Ctint%20_second%3B%5Cn%7D%3B%5Cn%5Cn%5Cnclass%20Date%5Cn%7B%5Cnpublic%3A%5Cn%5CtDate(int%20year%20%3D%201900%2C%20int%20month%20%3D%201%2C%20int%20day%20%3D%201)%5Cn%5Ct%5Ct%3A%20_year(year)%5Cn%5Ct%5Ct%2C%20_month(month)%5Cn%5Ct%5Ct%2C%20_day(day)%5Cn%5Ct%7B%5Cn%5Ct%7D%5Cn%5Cn%5Ctvoid%20SetTimeOfDate(int%20hour%2C%20int%20minute%2C%20int%20second)%5Cn%5Ct%7B%5Cn%5Ct%5Ct%2F%2F%20%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%E6%97%B6%E9%97%B4%E7%B1%BB%E7%A7%81%E6%9C%89%E7%9A%84%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%5Cn%5Ct%5Ct_t._hour%20%3D%20hour%3B%5Cn%5Ct%5Ct_t._minute%20%3D%20minute%3B%5Cn%5Ct%5Ct_t._second%20%3D%20second%3B%5Cn%5Ct%7D%5Cn%5Cnprivate%3A%5Cn%5Ctint%20_year%3B%5Cn%5Ctint%20_month%3B%5Cn%5Ctint%20_day%3B%5Cn%5CtTime%20_t%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22A2Wfd%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="hr" value="data:%7B%22id%22%3A%22Umiu7%22%7D"></card><h3 data-lake-id="yBpGQ" id="yBpGQ"><span data-lake-id="u9a5c7282" id="u9a5c7282" style="color: rgb(51,51,51)">5.内部类 </span></h3><p data-lake-id="ub0672bad" id="ub0672bad"><strong><span data-lake-id="ufff39ade" id="ufff39ade" class="lake-fontsize-12" style="color: rgb(51,51,51)">5.1</span></strong><strong><span data-lake-id="u7097305f" id="u7097305f" class="lake-fontsize-12" style="color: rgb(51,51,51)">概念及特性 </span></strong></p><p data-lake-id="uf35c2895" id="uf35c2895"><span data-lake-id="ue475990e" id="ue475990e" class="lake-fontsize-12" style="color: rgb(119,119,119)">概念：如果一个类定义在另一个类的内部，这个内部类就叫做内部类。注意此时这个内部类是一个独立的 </span></p><p data-lake-id="u33ad2244" id="u33ad2244"><span data-lake-id="u77c0213d" id="u77c0213d" class="lake-fontsize-12" style="color: rgb(119,119,119)">类，它不属于外部类，更不能通过外部类的对象去调用内部类。外部类对内部类没有任何优越的访问权限。 </span></p><p data-lake-id="u95be971a" id="u95be971a"><span data-lake-id="uc399f705" id="uc399f705" class="lake-fontsize-12" style="color: rgb(119,119,119)">注意：内部类就是外部类的友元类。注意友元类的定义，内部类可以通过外部类的对象参数来访问外部类中 </span></p><p data-lake-id="u62e01b43" id="u62e01b43"><span data-lake-id="u12c1d2c2" id="u12c1d2c2" class="lake-fontsize-12" style="color: rgb(119,119,119)">的所有成员。但是外部类不是内部类的友元</span></p><p data-lake-id="ufd833caa" id="ufd833caa"><span data-lake-id="u7ecb0c15" id="u7ecb0c15" class="lake-fontsize-12" style="color: rgb(119,119,119)">特性： </span></p><ul list="u5f1da7b5"><li fid="u29bbccfb" data-lake-id="u43f2fc67" id="u43f2fc67"><span data-lake-id="u66293921" id="u66293921" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. 内部类可以定义在外部类的public、protected、private都是可以的。 </span></li><li fid="u29bbccfb" data-lake-id="u827dd3f4" id="u827dd3f4"><span data-lake-id="ua57091d7" id="ua57091d7" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><span data-lake-id="ued63c8ea" id="ued63c8ea" class="lake-fontsize-12" style="color: rgb(119,119,119)">注意内部类可以直接访问外部类中的</span><span data-lake-id="u6703c482" id="u6703c482" class="lake-fontsize-12" style="color: rgb(119,119,119)">static</span><span data-lake-id="u5401496d" id="u5401496d" class="lake-fontsize-12" style="color: rgb(119,119,119)">、枚举成员，不需要外部类的对象</span><span data-lake-id="ucf1a88be" id="ucf1a88be" class="lake-fontsize-12" style="color: rgb(119,119,119)">/</span><span data-lake-id="u49f3c54d" id="u49f3c54d" class="lake-fontsize-12" style="color: rgb(119,119,119)">类名。 </span></li><li fid="u29bbccfb" data-lake-id="u08944f41" id="u08944f41"><span data-lake-id="u70ae0fa7" id="u70ae0fa7" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. sizeof(外部类)=外部类，和内部类没有任何关系</span></li></ul><card type="block" name="hr" value="data:%7B%22id%22%3A%22LqSfR%22%7D"></card><h3 data-lake-id="gnw17" id="gnw17" collapsed="true"><strong><span data-lake-id="u249ee02d" id="u249ee02d" class="lake-fontsize-12" style="color: rgb(51,51,51)">6.练习题 </span></strong></h3><p data-lake-id="u91087ca3" id="u91087ca3"><span data-lake-id="uad3dec3f" id="uad3dec3f" class="lake-fontsize-12" style="color: rgb(119,119,119)">1.</span><span data-lake-id="u2eee0f7f" id="u2eee0f7f" class="lake-fontsize-12" style="color: rgb(119,119,119)">求</span><span data-lake-id="ua0e34642" id="ua0e34642" class="lake-fontsize-12" style="color: rgb(119,119,119)">1+2+3+...+n</span><span data-lake-id="uca37b547" id="uca37b547" class="lake-fontsize-12" style="color: rgb(119,119,119)">，要求不能使用乘除法、</span><span data-lake-id="u113a47ea" id="u113a47ea" class="lake-fontsize-12" style="color: rgb(119,119,119)">for</span><span data-lake-id="ub4425d07" id="ub4425d07" class="lake-fontsize-12" style="color: rgb(119,119,119)">、</span><span data-lake-id="u69ee14c0" id="u69ee14c0" class="lake-fontsize-12" style="color: rgb(119,119,119)">while</span><span data-lake-id="u58db238b" id="u58db238b" class="lake-fontsize-12" style="color: rgb(119,119,119)">、</span><span data-lake-id="u5046803f" id="u5046803f" class="lake-fontsize-12" style="color: rgb(119,119,119)">if</span><span data-lake-id="u5e5c25e8" id="u5e5c25e8" class="lake-fontsize-12" style="color: rgb(119,119,119)">、</span><span data-lake-id="u205b9189" id="u205b9189" class="lake-fontsize-12" style="color: rgb(119,119,119)">else</span><span data-lake-id="uc42dd2e8" id="uc42dd2e8" class="lake-fontsize-12" style="color: rgb(119,119,119)">、</span><span data-lake-id="ua9385b67" id="ua9385b67" class="lake-fontsize-12" style="color: rgb(119,119,119)">switch</span><span data-lake-id="u37b7425a" id="u37b7425a" class="lake-fontsize-12" style="color: rgb(119,119,119)">、</span><span data-lake-id="uaa9a6b80" id="uaa9a6b80" class="lake-fontsize-12" style="color: rgb(119,119,119)">case</span><span data-lake-id="u47b8bcad" id="u47b8bcad" class="lake-fontsize-12" style="color: rgb(119,119,119)">等关键字及条件判断语句（</span><span data-lake-id="u0a2fc200" id="u0a2fc200" class="lake-fontsize-12" style="color: rgb(119,119,119)">A? </span></p><p data-lake-id="u94d41eb4" id="u94d41eb4"><span data-lake-id="u04c76b65" id="u04c76b65" class="lake-fontsize-12" style="color: rgb(119,119,119)">B:C</span><span data-lake-id="ue72b0eb4" id="ue72b0eb4" class="lake-fontsize-12" style="color: rgb(65,131,196)">OJ链接</span><span data-lake-id="u9917fe8d" id="u9917fe8d" class="lake-fontsize-12" style="color: rgb(119,119,119)">(课堂讲解) </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F7a0da8fc483247ff8800059e12d7caf1%3FtpId%3D13%26tqId%3D11200%26tPage%3D3%26rp%3D3%26ru%3D%2Fta%2Fcoding-interviews%26qru%3D%2Fta%2Fcoding-interviews%2Fquestion-ranking%22%2C%22text%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F7a0da8fc483247ff8800059e12d7caf1%3FtpId%3D13%26tqId%3D11200%26tPage%3D3%26rp%3D3%26ru%3D%2Fta%2Fcoding-interviews%26qru%3D%2Fta%2Fcoding-interviews%2Fquestion-ranking%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Ffe%2Ffile%2Fimages%2Fnowpick%2Fweb%2Fwww-favicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Fimages%2Flogo_87_87.png%22%2C%22title%22%3A%22%E6%B1%821%2B2%2B3%2B...%2Bn_%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8_%E7%89%9B%E5%AE%A2%E7%BD%91%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22%E6%B1%821%2B2%2B3%2B...%2Bn%EF%BC%8C%E8%A6%81%E6%B1%82%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E4%B9%98%E9%99%A4%E6%B3%95%E3%80%81for%E3%80%81while%E3%80%81if%E3%80%81else%E3%80%81swit%E3%80%82%E9%A2%98%E7%9B%AE%E6%9D%A5%E8%87%AA%E3%80%90%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8%E3%80%91%22%2C%22url%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F7a0da8fc483247ff8800059e12d7caf1%3FtpId%3D13%26tqId%3D11200%26tPage%3D3%26rp%3D3%26ru%3D%2Fta%2Fcoding-interviews%26qru%3D%2Fta%2Fcoding-interviews%2Fquestion-ranking%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22aWDfZ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E5%8C%BF%E5%90%8D%E5%AF%B9%E8%B1%A1%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Solution%5Cn%7B%5Cnpublic%3A%5Cn%5Ctint%20Sum_Solution(int%20n)%20%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Sum_Solution()%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%5Ctreturn%20n%3B%5Cn%5Ct%7D%5Cn%7D%3B%5Cn%5Cnint%20main()%5Cn%7B%5Cn%5CtSolution%20s1%3B%5Cn%5Cts1.Sum_Solution(10)%3B%20%2F%2F%E8%AF%A5%E5%AF%B9%E8%B1%A1%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9C%A8main%E5%87%BD%E6%95%B0%E4%B8%AD%EF%BC%8C%5Cn%5Cn%5CtSolution().Sum_Solution(10)%3B%2F%2F%E5%8C%BF%E5%90%8D%E5%AF%B9%E8%B1%A1%20%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%8F%AA%E5%9C%A8%E8%BF%99%E4%B8%80%E8%A1%8C%EF%BC%8C%E4%B8%94%E5%88%AB%E4%BA%BA%E4%B8%8D%E9%9C%80%E8%A6%81%5Cn%5Cn%5Ctreturn%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E5%8C%BF%E5%90%8D%E5%AF%B9%E8%B1%A1%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22iFN6w%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u2ae08260" id="u2ae08260"><span data-lake-id="u1c2dea70" id="u1c2dea70" class="lake-fontsize-12" style="color: rgb(119,119,119)">2.计算日期到天数的转换 </span><span data-lake-id="uefa6d63f" id="uefa6d63f" class="lake-fontsize-12" style="color: rgb(65,131,196)">OJ链接</span><span data-lake-id="uf3489d9b" id="uf3489d9b" class="lake-fontsize-12" style="color: rgb(119,119,119)">(课堂讲解) </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F769d45d455fe40b385ba32f97e7bcded%3FtpId%3D37%26%26tqId%3D21296%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhuawei%2Fquestion-ranking%22%2C%22text%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F769d45d455fe40b385ba32f97e7bcded%3FtpId%3D37%26%26tqId%3D21296%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhuawei%2Fquestion-ranking%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Ffe%2Ffile%2Fimages%2Fnowpick%2Fweb%2Fwww-favicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Fimages%2Flogo_87_87.png%22%2C%22title%22%3A%22%E8%AE%A1%E7%AE%97%E6%97%A5%E6%9C%9F%E5%88%B0%E5%A4%A9%E6%95%B0%E8%BD%AC%E6%8D%A2_%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8_%E7%89%9B%E5%AE%A2%E7%BD%91%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22%E6%AF%8F%E4%B8%80%E5%B9%B4%E4%B8%AD%E9%83%BD%E6%9C%89%20%E4%B8%AA%E6%9C%88%E4%BB%BD%E3%80%82%E5%85%B6%E4%B8%AD%EF%BC%8C%20%E6%9C%88%E6%AF%8F%E4%B8%AA%E6%9C%88%E6%9C%89%20%E5%A4%A9%EF%BC%9B%20%E6%9C%88%E6%AF%8F%E4%B8%AA%E6%9C%88%E6%9C%89%20%E5%A4%A9%EF%BC%9B%E8%80%8C%E5%AF%B9%E4%BA%8E%20%E6%9C%88%EF%BC%8C%E9%97%B0%E5%B9%B4%E6%97%B6%E3%80%82%E9%A2%98%E7%9B%AE%E6%9D%A5%E8%87%AA%E3%80%90%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8%E3%80%91%22%2C%22url%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F769d45d455fe40b385ba32f97e7bcded%3FtpId%3D37%26%26tqId%3D21296%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhuawei%2Fquestion-ranking%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Kj7S5%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><p data-lake-id="u69198705" id="u69198705"><span data-lake-id="uc346d435" id="uc346d435" class="lake-fontsize-12" style="color: rgb(119,119,119)">3.日期差值</span><span data-lake-id="u7738cb38" id="u7738cb38" class="lake-fontsize-12" style="color: rgb(65,131,196)">OJ链接</span><span data-lake-id="u2a1fc7ee" id="u2a1fc7ee" class="lake-fontsize-12" style="color: rgb(119,119,119)">(课后作业) </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Fccb7383c76fc48d2bbc27a2a6319631c%3FtpId%3D62%26%26tqId%3D29468%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fsju-kaoyan%2Fquestion-ranking%22%2C%22text%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Fccb7383c76fc48d2bbc27a2a6319631c%3FtpId%3D62%26%26tqId%3D29468%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fsju-kaoyan%2Fquestion-ranking%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Ffe%2Ffile%2Fimages%2Fnowpick%2Fweb%2Fwww-favicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Fimages%2Flogo_87_87.png%22%2C%22title%22%3A%22%E6%97%A5%E6%9C%9F%E5%B7%AE%E5%80%BC_%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8_%E7%89%9B%E5%AE%A2%E7%BD%91%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22%E6%9C%89%E4%B8%A4%E4%B8%AA%E6%97%A5%E6%9C%9F%EF%BC%8C%E6%B1%82%E4%B8%A4%E4%B8%AA%E6%97%A5%E6%9C%9F%E4%B9%8B%E9%97%B4%E7%9A%84%E5%A4%A9%E6%95%B0%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%B8%A4%E4%B8%AA%E6%97%A5%E6%9C%9F%E6%98%AF%E8%BF%9E%E7%BB%AD%E7%9A%84%E6%88%91%E4%BB%AC%E8%A7%84%E5%AE%9A%E4%BB%96%E4%BB%AC%E4%B9%8B%E9%97%B4%E7%9A%84%E5%A4%A9%E6%95%B0%E4%B8%BA%E4%B8%A4%E5%A4%A9%E3%80%82%E9%A2%98%E7%9B%AE%E6%9D%A5%E8%87%AA%E3%80%90%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8%E3%80%91%22%2C%22url%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Fccb7383c76fc48d2bbc27a2a6319631c%3FtpId%3D62%26%26tqId%3D29468%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fsju-kaoyan%2Fquestion-ranking%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22lg2u2%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><p data-lake-id="u1ecfde53" id="u1ecfde53"><span data-lake-id="u172765e1" id="u172765e1" class="lake-fontsize-12" style="color: rgb(119,119,119)">4.打印日期</span><span data-lake-id="u99084588" id="u99084588" class="lake-fontsize-12" style="color: rgb(65,131,196)">OJ链接</span><span data-lake-id="u5e1bfddf" id="u5e1bfddf" class="lake-fontsize-12" style="color: rgb(119,119,119)">(课后作业) </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Fb1f7a77416194fd3abd63737cdfcf82b%3FtpId%3D69%26%26tqId%3D29669%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhust-kaoyan%2Fquestion-ranking%22%2C%22text%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Fb1f7a77416194fd3abd63737cdfcf82b%3FtpId%3D69%26%26tqId%3D29669%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhust-kaoyan%2Fquestion-ranking%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Ffe%2Ffile%2Fimages%2Fnowpick%2Fweb%2Fwww-favicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Fimages%2Flogo_87_87.png%22%2C%22title%22%3A%22%E6%89%93%E5%8D%B0%E6%97%A5%E6%9C%9F_%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8_%E7%89%9B%E5%AE%A2%E7%BD%91%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22%E7%BB%99%E5%87%BA%E5%B9%B4%E5%88%86m%E5%92%8C%E4%B8%80%E5%B9%B4%E4%B8%AD%E7%9A%84%E7%AC%ACn%E5%A4%A9%EF%BC%8C%E7%AE%97%E5%87%BA%E7%AC%ACn%E5%A4%A9%E6%98%AF%E5%87%A0%E6%9C%88%E5%87%A0%E5%8F%B7%E3%80%82%E3%80%82%E9%A2%98%E7%9B%AE%E6%9D%A5%E8%87%AA%E3%80%90%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8%E3%80%91%22%2C%22url%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Fb1f7a77416194fd3abd63737cdfcf82b%3FtpId%3D69%26%26tqId%3D29669%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhust-kaoyan%2Fquestion-ranking%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22NCZgh%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><p data-lake-id="ufd33c290" id="ufd33c290"><span data-lake-id="u94bf4cbb" id="u94bf4cbb" class="lake-fontsize-12" style="color: rgb(119,119,119)">5.累加天数</span><span data-lake-id="ua1d3bfb0" id="ua1d3bfb0" class="lake-fontsize-12" style="color: rgb(65,131,196)">OJ链接</span><span data-lake-id="udd92a3ef" id="udd92a3ef" class="lake-fontsize-12" style="color: rgb(119,119,119)">(课后作业)</span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Feebb2983b7bf40408a1360efb33f9e5d%3FtpId%3D40%26%26tqId%3D31013%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fkaoyan%2Fquestion-ranking%22%2C%22text%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Feebb2983b7bf40408a1360efb33f9e5d%3FtpId%3D40%26%26tqId%3D31013%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fkaoyan%2Fquestion-ranking%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Ffe%2Ffile%2Fimages%2Fnowpick%2Fweb%2Fwww-favicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Fimages%2Flogo_87_87.png%22%2C%22title%22%3A%22%E6%97%A5%E6%9C%9F%E7%B4%AF%E5%8A%A0_%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8_%E7%89%9B%E5%AE%A2%E7%BD%91%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F%E8%83%BD%E8%AE%A1%E7%AE%97%E4%B8%80%E4%B8%AA%E6%97%A5%E6%9C%9F%E5%8A%A0%E4%B8%8A%E8%8B%A5%E5%B9%B2%E5%A4%A9%E5%90%8E%E6%98%AF%E4%BB%80%E4%B9%88%E6%97%A5%E6%9C%9F%E3%80%82%E3%80%82%E9%A2%98%E7%9B%AE%E6%9D%A5%E8%87%AA%E3%80%90%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8%E3%80%91%22%2C%22url%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Feebb2983b7bf40408a1360efb33f9e5d%3FtpId%3D40%26%26tqId%3D31013%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fkaoyan%2Fquestion-ranking%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22M8DPW%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><h3 data-lake-id="HM9CA" id="HM9CA"><span data-lake-id="u3871dac0" id="u3871dac0" style="color: rgb(51,51,51)">7. 再次理解封装 </span></h3><p data-lake-id="u2f14314c" id="u2f14314c"><span data-lake-id="u82efaa7b" id="u82efaa7b" class="lake-fontsize-12" style="color: rgb(119,119,119)">C++</span><span data-lake-id="ua8d37e7b" id="ua8d37e7b" class="lake-fontsize-12" style="color: rgb(119,119,119)">是基于面向对象的程序，面向对象有三大特性即：封装、继承、多态。 </span></p><p data-lake-id="u8351a9d5" id="u8351a9d5"><span data-lake-id="u9ca3d6c6" id="u9ca3d6c6" class="lake-fontsize-12" style="color: rgb(119,119,119)">C++通过类，将一个对象的属性与行为结合在一起，使其更符合人们对于一件事物的认知，将属于该对象的所有东西打包在一起；通过访问限定符选择性的将其部分功能开放出来与其他对象进行交互，而对于对象内 部的一些实现细节，外部用户不需要知道，知道了有些情况下也没用，反而增加了使用或者维护的难度，让整个事情复杂化。 </span></p><p data-lake-id="u1a63d1ae" id="u1a63d1ae"><span data-lake-id="u421c835b" id="u421c835b" class="lake-fontsize-12" style="color: rgb(119,119,119)">下面</span><strong><span data-lake-id="ubfa39149" id="ubfa39149" class="lake-fontsize-12" style="color: rgb(119,119,119)">举个例子</span></strong><span data-lake-id="ud26dd56c" id="ud26dd56c" class="lake-fontsize-12" style="color: rgb(119,119,119)">来让大家更好的理解封装性带来的好处,eg:乘火车</span></p><p data-lake-id="u6e13b4cf" id="u6e13b4cf" style="text-align: left"><span data-lake-id="u19b86c1b" id="u19b86c1b" class="lake-fontsize-12" style="color: rgb(119,119,119)">我们来看下</span><strong><span data-lake-id="u6b5ec820" id="u6b5ec820" class="lake-fontsize-12" style="color: rgb(119,119,119)">火车站</span></strong><span data-lake-id="u1e357e00" id="u1e357e00" class="lake-fontsize-12" style="color: rgb(119,119,119)">： </span></p><p data-lake-id="uadb3b6ad" id="uadb3b6ad"><span data-lake-id="u7b926a73" id="u7b926a73" class="lake-fontsize-12" style="color: rgb(119,119,119)">售票系统：负责售票</span><span data-lake-id="u44399c5c" id="u44399c5c" class="lake-fontsize-12" style="color: rgb(119,119,119)">----</span><span data-lake-id="u2052b9e6" id="u2052b9e6" class="lake-fontsize-12" style="color: rgb(119,119,119)">用户凭票进入，对号入座 </span></p><p data-lake-id="u5236a64f" id="u5236a64f"><span data-lake-id="ufa41c4b6" id="ufa41c4b6" class="lake-fontsize-12" style="color: rgb(119,119,119)">工作人员：售票、咨询、安检、保全、卫生等 </span></p><p data-lake-id="uc16c7fa4" id="uc16c7fa4"><span data-lake-id="u17754902" id="u17754902" class="lake-fontsize-12" style="color: rgb(119,119,119)">火车：带用户到目的地</span></p><p data-lake-id="uecc3cce5" id="uecc3cce5"><span data-lake-id="u6806679a" id="u6806679a" class="lake-fontsize-12" style="color: rgb(119,119,119)">火车站中所有工作人员配合起来，才能让大家坐车有条不紊的进行，不需要知道火车的构造，票务系统是如 </span></p><p data-lake-id="ub0077fbb" id="ub0077fbb"><span data-lake-id="u5be4bc3c" id="u5be4bc3c" class="lake-fontsize-12" style="color: rgb(119,119,119)">何操作的，只要能正常方便的应用即可。</span></p><p data-lake-id="ud1f67f40" id="ud1f67f40"><span data-lake-id="ufcb4b150" id="ufcb4b150" class="lake-fontsize-12" style="color: rgb(119,119,119)">想想下，如果是没有任何管理的开放性站台呢？火车站没有围墙，站内火车管理调度也是随意，乘车也没有规矩</span></p><p data-lake-id="u4def2db0" id="u4def2db0"><strong><span data-lake-id="u17c107f1" id="u17c107f1" class="lake-fontsize-14">08内存管理0：58：41作业讲解 ----1：22：20</span></strong></p><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248252867-2cec2a9d-26ca-4508-be57-97b5dccbdda6.pdf%22%2C%22name%22%3A%22Lesson04---%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1(%E4%B8%8B%E7%AF%87).pdf%22%2C%22size%22%3A1089648%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u9304f745-a1ec-447a-b457-40a3b86a175%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22qBeh2%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h2 data-lake-id="QIns4" id="QIns4" collapsed="true"><span data-lake-id="u34435324" id="u34435324">Lesson---内存管理</span></h2><h3 data-lake-id="AL515" id="AL515" collapsed="true"><span data-lake-id="u1dffd1d8" id="u1dffd1d8" style="color: rgb(51,51,51)">1. C/C++内存分布</span></h3><p data-lake-id="ue00228c6" id="ue00228c6"><span data-lake-id="uce922b06" id="uce922b06" class="lake-fontsize-12">先看段代码</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22int%20globalVar%20%3D%201%3B%5Cnstatic%20int%20staticGlobalVar%20%3D%201%3B%5Cnvoid%20Test()%5Cn%7B%5Cn%20static%20int%20staticVar%20%3D%201%3B%5Cn%20int%20localVar%20%3D%201%3B%5Cn%20%5Cn%20int%20num1%5B10%5D%20%3D%20%7B1%2C%202%2C%203%2C%204%7D%3B%5Cn%20char%20char2%5B%5D%20%3D%20%5C%22abcd%5C%22%3B%5Cn%20char*%20pChar3%20%3D%20%5C%22abcd%5C%22%3B%5Cn%20int*%20ptr1%20%3D%20(int*)malloc(sizeof%20(int)*4)%3B%5Cn%20int*%20ptr2%20%3D%20(int*)calloc(4%2C%20sizeof(int))%3B%5Cn%20int*%20ptr3%20%3D%20(int*)realloc(ptr2%2C%20sizeof(int)*4)%3B%5Cn%20free%20(ptr1)%3B%5Cn%20free%20(ptr3)%3B%5Cn%7D%5Cn%5Cn1.%20%E9%80%89%E6%8B%A9%E9%A2%98%EF%BC%9A%5Cn%20%E9%80%89%E9%A1%B9%3A%20A.%E6%A0%88%20B.%E5%A0%86%20C.%E6%95%B0%E6%8D%AE%E6%AE%B5%20D.%E4%BB%A3%E7%A0%81%E6%AE%B5%5Cn%20globalVar%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F____%20staticGlobalVar%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F____%5Cn%20staticVar%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F____%20localVar%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F____%5Cn%20num1%20%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F____%5Cn%20%5Cn%20char2%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F____%20*char2%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F___%5Cn%20pChar3%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F____%20*pChar3%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F____%5Cn%20ptr1%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F____%20*ptr1%E5%9C%A8%E5%93%AA%E9%87%8C%EF%BC%9F____%5Cn2.%20%E5%A1%AB%E7%A9%BA%E9%A2%98%EF%BC%9A%5Cn%20sizeof(num1)%20%3D%20____%3B%5Cnsizeof(char2)%20%3D%20____%3B%20strlen(char2)%20%3D%20____%3B%5Cn%20sizeof(pChar3)%20%3D%20____%3B%20strlen(pChar3)%20%3D%20____%3B%5Cn%20sizeof(ptr1)%20%3D%20____%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Gw7n2%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ua7d7f025" id="ua7d7f025"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1744283224587-67d4bdb4-737a-4933-a434-0d62dbafbbc3.png%22%2C%22taskId%22%3A%22u807ef732-af9d-4277-aba5-18a8f6939fa%22%2C%22clientId%22%3A%22u4bae6ca7-77dd-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.4285714285714%2C%22height%22%3A450%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A3418815%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A787%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22C%2FC%2B%E4%B8%AD%E7%A8%8B%E5%BA%8F%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%88%92%E5%88%86%20%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%20(%E7%94%A8%E6%88%B7%E4%BB%A3%E7%A0%81%E4%B8%8D%E8%83%BD%E8%AF%BB%E5%86%99)%20GLOBALVAR%20STATIC%20INT%20STATICGLOBALVAR1%20%E6%A0%88(%E5%90%91%E4%B8%8B%E5%A2%9E%E9%95%BF)%20VOID%20TEST%200%20STATIC%20INT%20STATICVAR%20INT%20LO%20CALVAR%20%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84%E6%AE%B5%20INT%20NUM1%5B10%5D%20(1%2C2%2C3%2C4)%3A%20(%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84%2C%E5%8A%A8%E6%80%81%E5%BA%93%2C%E5%8C%BF%E5%90%8D%E6%98%A0%E5%B0%84)%20CHAR%20CHAR2%201%20ABCD%20CHAR%20*%20PCHAR3%20ABCD%5C%22%20INT%20PTR1%20(INT*)MALLOC(SIZEOF(INT)%20(INT)%3B%20(INT*)CALLOC(4%2CSIZED%20INT%20PTR2%20(INT*)REALLOC(PTR2%2CSIZECT(INT)4).%20INT%20PTR3%20%E5%A0%86%E5%90%91%E4%B8%8A%E5%A2%9E%E9%95%BF)%20FREE(PTR1%20)%3A%20FREE(PTR3)%3B%20%E6%95%B0%E6%8D%AE%E6%AE%B5%20(%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%2C%E9%9D%99%E6%80%81%E6%95%B0%E6%8D%AE)%20%E4%BB%A3%E7%A0%81%E6%AE%B5%20(%E5%8F%AF%E6%89%A7%E8%A1%8C%E4%BB%A3%E7%A0%81%2F%E5%8F%AA%E8%AF%BB%E5%B8%B8%E9%87%8F)%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A760%2C%22y%22%3A9%2C%22width%22%3A276%2C%22height%22%3A25%2C%22text%22%3A%22C%2FC%2B%E4%B8%AD%E7%A8%8B%E5%BA%8F%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%88%92%E5%88%86%22%7D%2C%7B%22x%22%3A843%2C%22y%22%3A97%2C%22width%22%3A110%2C%22height%22%3A27%2C%22text%22%3A%22%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%22%7D%2C%7B%22x%22%3A816%2C%22y%22%3A127%2C%22width%22%3A162%2C%22height%22%3A19%2C%22text%22%3A%22(%E7%94%A8%E6%88%B7%E4%BB%A3%E7%A0%81%E4%B8%8D%E8%83%BD%E8%AF%BB%E5%86%99)%22%7D%2C%7B%22x%22%3A77%2C%22y%22%3A147%2C%22width%22%3A94%2C%22height%22%3A21%2C%22text%22%3A%22GLOBALVAR%22%7D%2C%7B%22x%22%3A51%2C%22y%22%3A178%2C%22width%22%3A269%2C%22height%22%3A25%2C%22text%22%3A%22STATIC%20INT%20STATICGLOBALVAR1%22%7D%2C%7B%22x%22%3A833%2C%22y%22%3A205%2C%22width%22%3A123%2C%22height%22%3A27%2C%22text%22%3A%22%E6%A0%88(%E5%90%91%E4%B8%8B%E5%A2%9E%E9%95%BF)%22%7D%2C%7B%22x%22%3A47%2C%22y%22%3A242%2C%22width%22%3A106%2C%22height%22%3A20%2C%22text%22%3A%22VOID%20TEST%200%22%7D%2C%7B%22x%22%3A85%2C%22y%22%3A304%2C%22width%22%3A163%2C%22height%22%3A21%2C%22text%22%3A%22STATIC%20INT%20STATICVAR%22%7D%2C%7B%22x%22%3A83%2C%22y%22%3A337%2C%22width%22%3A104%2C%22height%22%3A18%2C%22text%22%3A%22INT%20LO%20CALVAR%22%7D%2C%7B%22x%22%3A830%2C%22y%22%3A354%2C%22width%22%3A139%2C%22height%22%3A30%2C%22text%22%3A%22%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84%E6%AE%B5%22%7D%2C%7B%22x%22%3A85%2C%22y%22%3A367%2C%22width%22%3A120%2C%22height%22%3A21%2C%22text%22%3A%22INT%20NUM1%5B10%5D%22%7D%2C%7B%22x%22%3A234%2C%22y%22%3A368%2C%22width%22%3A100%2C%22height%22%3A22%2C%22text%22%3A%22(1%2C2%2C3%2C4)%3A%22%7D%2C%7B%22x%22%3A772%2C%22y%22%3A383%2C%22width%22%3A248%2C%22height%22%3A23%2C%22text%22%3A%22(%E6%96%87%E4%BB%B6%E6%98%A0%E5%B0%84%2C%E5%8A%A8%E6%80%81%E5%BA%93%2C%E5%8C%BF%E5%90%8D%E6%98%A0%E5%B0%84)%22%7D%2C%7B%22x%22%3A84%2C%22y%22%3A400%2C%22width%22%3A118%2C%22height%22%3A22%2C%22text%22%3A%22CHAR%20CHAR2%201%22%7D%2C%7B%22x%22%3A246%2C%22y%22%3A403%2C%22width%22%3A54%2C%22height%22%3A16%2C%22text%22%3A%22ABCD%22%7D%2C%7B%22x%22%3A84%2C%22y%22%3A430%2C%22width%22%3A129%2C%22height%22%3A22%2C%22text%22%3A%22CHAR%20*%20PCHAR3%22%7D%2C%7B%22x%22%3A242%2C%22y%22%3A433%2C%22width%22%3A63%2C%22height%22%3A19%2C%22text%22%3A%22ABCD%5C%22%22%7D%2C%7B%22x%22%3A84%2C%22y%22%3A464%2C%22width%22%3A82%2C%22height%22%3A18%2C%22text%22%3A%22INT%20PTR1%22%7D%2C%7B%22x%22%3A245%2C%22y%22%3A465%2C%22width%22%3A227%2C%22height%22%3A21%2C%22text%22%3A%22(INT*)MALLOC(SIZEOF(INT)%22%7D%2C%7B%22x%22%3A448%2C%22y%22%3A496%2C%22width%22%3A54%2C%22height%22%3A22%2C%22text%22%3A%22(INT)%3B%22%7D%2C%7B%22x%22%3A249%2C%22y%22%3A496%2C%22width%22%3A179%2C%22height%22%3A22%2C%22text%22%3A%22(INT*)CALLOC(4%2CSIZED%22%7D%2C%7B%22x%22%3A84%2C%22y%22%3A496%2C%22width%22%3A25%2C%22height%22%3A19%2C%22text%22%3A%22INT%22%7D%2C%7B%22x%22%3A122%2C%22y%22%3A497%2C%22width%22%3A47%2C%22height%22%3A20%2C%22text%22%3A%22PTR2%22%7D%2C%7B%22x%22%3A248%2C%22y%22%3A526%2C%22width%22%3A318%2C%22height%22%3A28%2C%22text%22%3A%22(INT*)REALLOC(PTR2%2CSIZECT(INT)4).%22%7D%2C%7B%22x%22%3A83%2C%22y%22%3A526%2C%22width%22%3A86%2C%22height%22%3A21%2C%22text%22%3A%22INT%20PTR3%22%7D%2C%7B%22x%22%3A831%2C%22y%22%3A539%2C%22width%22%3A127%2C%22height%22%3A30%2C%22text%22%3A%22%E5%A0%86%E5%90%91%E4%B8%8A%E5%A2%9E%E9%95%BF)%22%7D%2C%7B%22x%22%3A84%2C%22y%22%3A576%2C%22width%22%3A107%2C%22height%22%3A24%2C%22text%22%3A%22FREE(PTR1%20)%3A%22%7D%2C%7B%22x%22%3A84%2C%22y%22%3A610%2C%22width%22%3A105%2C%22height%22%3A20%2C%22text%22%3A%22FREE(PTR3)%3B%22%7D%2C%7B%22x%22%3A858%2C%22y%22%3A625%2C%22width%22%3A83%2C%22height%22%3A28%2C%22text%22%3A%22%E6%95%B0%E6%8D%AE%E6%AE%B5%22%7D%2C%7B%22x%22%3A807%2C%22y%22%3A657%2C%22width%22%3A182%2C%22height%22%3A20%2C%22text%22%3A%22(%E5%85%A8%E5%B1%80%E6%95%B0%E6%8D%AE%2C%E9%9D%99%E6%80%81%E6%95%B0%E6%8D%AE)%22%7D%2C%7B%22x%22%3A857%2C%22y%22%3A696%2C%22width%22%3A85%2C%22height%22%3A27%2C%22text%22%3A%22%E4%BB%A3%E7%A0%81%E6%AE%B5%22%7D%2C%7B%22x%22%3A801%2C%22y%22%3A726%2C%22width%22%3A193%2C%22height%22%3A20%2C%22text%22%3A%22(%E5%8F%AF%E6%89%A7%E8%A1%8C%E4%BB%A3%E7%A0%81%2F%E5%8F%AA%E8%AF%BB%E5%B8%B8%E9%87%8F)%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23eef5f0%22%2C%22id%22%3A%22uf98b70e5%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="ud7c98330" id="ud7c98330"><br></p><p data-lake-id="u3082e9cc" id="u3082e9cc"><br></p><p data-lake-id="ua609aeb7" id="ua609aeb7"><br></p><p data-lake-id="u38592196" id="u38592196"><br></p><p data-lake-id="ua76c9da6" id="ua76c9da6"><br></p><p data-lake-id="ua368411f" id="ua368411f"><br></p><p data-lake-id="u4a0906b3" id="u4a0906b3"><br></p><p data-lake-id="u42b34008" id="u42b34008"><br></p><p data-lake-id="u09ac61dc" id="u09ac61dc"><br></p><p data-lake-id="u907c876d" id="u907c876d"><br></p><p data-lake-id="u23a8a99a" id="u23a8a99a"><br></p><p data-lake-id="u606e2992" id="u606e2992"><br></p><p data-lake-id="uae61db64" id="uae61db64"><br></p><p data-lake-id="u891bed99" id="u891bed99"><br></p><p data-lake-id="ub9c144b2" id="ub9c144b2"><br></p><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248253087-12f196f3-88c0-4fc7-bbbb-fd7837c17f51.pdf%22%2C%22name%22%3A%22Lesson05---C%26C%2B%2B%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.pdf%22%2C%22size%22%3A593408%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u35fd11e8-98ca-48cf-a421-f113c71efab%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22aSDt7%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h2 data-lake-id="gqecF" id="gqecF" collapsed="true"><span data-lake-id="uaef1d21f" id="uaef1d21f">Lesson--模板初阶</span></h2><h3 data-lake-id="yL4jl" id="yL4jl"><span data-lake-id="u4794c2de" id="u4794c2de" style="color: rgb(51,51,51)">1. 泛型编程</span></h3><p data-lake-id="udceaacf7" id="udceaacf7"><span data-lake-id="uda78fb9e" id="uda78fb9e" class="lake-fontsize-12" style="color: rgb(119,119,119)">如何实现一个通用的交换函数呢？</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22void%20Swap(int%26%20left%2C%20int%26%20right)%5Cn%7B%5Cn%5Ctint%20temp%20%3D%20left%3B%5Cn%5Ctleft%20%3D%20right%3B%5Cn%5Ctright%20%3D%20temp%3B%5Cn%7D%5Cnvoid%20Swap(double%26%20left%2C%20double%26%20right)%5Cn%7B%5Cn%5Ctdouble%20temp%20%3D%20left%3B%5Cn%5Ctleft%20%3D%20right%3B%5Cn%5Ctright%20%3D%20temp%3B%5Cn%7D%5Cnvoid%20Swap(char%26%20left%2C%20char%26%20right)%5Cn%7B%5Cn%20char%20temp%20%3D%20left%3B%5Cn%20left%20%3D%20right%3B%5Cn%20right%20%3D%20temp%3B%5Cn%7D%5Cn......%2F%2F%E9%9C%80%E8%A6%81%E4%B8%80%E4%B8%AA%E9%80%9A%E7%94%A8%E7%9A%84%E6%A8%A1%E6%9D%BF%E7%BB%9F%E4%B8%80%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22jI8iT%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u41459b84" id="u41459b84"><span data-lake-id="uc790149b" id="uc790149b" class="lake-fontsize-12" style="color: rgb(119,119,119)">使用函数重载虽然可以实现，但是有一下几个不好的地方： </span></p><p data-lake-id="udc5b26b0" id="udc5b26b0"><span data-lake-id="u72f26002" id="u72f26002" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><span data-lake-id="ue8e736cc" id="ue8e736cc" class="lake-fontsize-12" style="color: rgb(119,119,119)">重载的函数仅仅只是类型不同，代码的复用率比较低，只要有新类型出现时，就需要增加对应的函数 </span></p><p data-lake-id="ue4ad51f3" id="ue4ad51f3"><span data-lake-id="u654d5a91" id="u654d5a91" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><span data-lake-id="uba1c795b" id="uba1c795b" class="lake-fontsize-12" style="color: rgb(119,119,119)">代码的可维护性比较低，一个出错可能所有的重载均出错 </span></p><p data-lake-id="u6f2cff59" id="u6f2cff59"><span data-lake-id="u3d913ff8" id="u3d913ff8" class="lake-fontsize-12" style="color: rgb(119,119,119)">因此我们需要</span><strong><span data-lake-id="u4b00fece" id="u4b00fece" class="lake-fontsize-12" style="color: rgb(119,119,119)">告诉编译器一个模子，让编译器根据不同的类型利用该模子来生成代码</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22template%20%3Cclass%20T%3E%5Cnvoid%20Swap(T%26%20x1%2C%20T%26%20x2)%5Cn%7B%5Cn%5CtT%20x%20%3D%20x1%3B%5Cn%5Ctx1%20%3D%20x2%3B%5Cn%5Ctx2%20%3D%20x%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22kEtJS%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="board" value="data:%7B%22diagramData%22%3A%7B%22head%22%3A%7B%22version%22%3A%222.0.0%22%2C%22theme%22%3A%7B%22name%22%3A%22default%22%7D%2C%22rough%22%3A%7B%22name%22%3A%22default%22%7D%7D%2C%22body%22%3A%5B%7B%22id%22%3A%22f60d1266-4409-4700-a599-758f55d4c94f%22%2C%22x%22%3A-496.71431732177734%2C%22y%22%3A163.017822265625%2C%22html%22%3A%22%E6%A8%A1%E6%9D%BF%E2%80%8B%22%2C%22type%22%3A%22mindmap%22%2C%22border%22%3A%7B%22fill%22%3A%22%23EFF0F0%22%7D%2C%22defaultContentStyle%22%3A%7B%22color%22%3A%22%23262626%22%7D%2C%22children%22%3A%5B%7B%22treeEdge%22%3A%7B%22stroke%22%3A%22%23A287E1%22%7D%2C%22defaultContentStyle%22%3A%7B%22color%22%3A%22%23262626%22%7D%2C%22id%22%3A%229989180b-2061-4e52-aedb-2e7aadf45d9f%22%2C%22children%22%3A%5B%5D%2C%22zIndex%22%3A1%2C%22html%22%3A%22%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E2%80%8B%22%7D%2C%7B%22treeEdge%22%3A%7B%22stroke%22%3A%22%236F81DB%22%7D%2C%22defaultContentStyle%22%3A%7B%22color%22%3A%22%23262626%22%7D%2C%22id%22%3A%2269d2f4b3-ac20-43c2-bd7c-97eba441623d%22%2C%22children%22%3A%5B%5D%2C%22zIndex%22%3A0%2C%22html%22%3A%22%E7%B1%BB%E6%A8%A1%E6%9D%BF%E2%80%8B%22%7D%5D%2C%22zIndex%22%3A2%7D%5D%7D%2C%22viewportOption%22%3A%22adapt%22%2C%22viewportSetting%22%3A%7B%22zoom%22%3A1%2C%22tlCanvasPoint%22%3A%5B-705.6429443359375%2C100.67407989501953%2C1%5D%2C%22width%22%3A764%2C%22height%22%3A159.6875%7D%2C%22search%22%3A%22%E6%A8%A1%E6%9D%BF%E2%80%8B%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E2%80%8B%E7%B1%BB%E6%A8%A1%E6%9D%BF%E2%80%8B%22%2C%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fjpeg%2F49819380%2F1744599085984-0cce52e2-6705-46f3-9b83-71f29477cfc6.jpeg%22%2C%22graphicsBBox%22%3A%7B%22x%22%3A-496.7143249511719%2C%22y%22%3A129.517822265625%2C%22width%22%3A205%2C%22height%22%3A82%7D%2C%22__height%22%3A141.6964111328125%2C%22id%22%3A%22KW8kZ%22%2C%22height%22%3A141.6964111328125%7D"></card><h3 data-lake-id="qqc48" id="qqc48" collapsed="true"><strong><span data-lake-id="u72e986ed" id="u72e986ed" class="lake-fontsize-12" style="color: rgb(51,51,51)">2. 函数模板</span></strong></h3><p data-lake-id="u5ab3c80a" id="u5ab3c80a"><strong><span data-lake-id="u4439a9c7" id="u4439a9c7" class="lake-fontsize-12" style="color: rgb(51,51,51)">2.1 函数模板概念 </span></strong></p><p data-lake-id="u83bda746" id="u83bda746"><strong><span data-lake-id="u53bf3d3b" id="u53bf3d3b" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数模板代表了一个函数家族，该函数模板与类型无关，在使用时被参数化，根据实参类型产生函数的特定 </span></strong></p><p data-lake-id="u167c5d7e" id="u167c5d7e"><strong><span data-lake-id="u943ca259" id="u943ca259" class="lake-fontsize-12" style="color: rgb(119,119,119)">类型版本。</span></strong></p><p data-lake-id="uee98d725" id="uee98d725"><strong><span data-lake-id="uefe8e19b" id="uefe8e19b" class="lake-fontsize-12" style="color: rgb(51,51,51)">2.2 函数模板格式</span></strong></p><p data-lake-id="u5b764270" id="u5b764270"><strong><span data-lake-id="ub2c792b3" id="ub2c792b3" class="lake-fontsize-12" style="color: rgb(119,119,119)">template&lt;typename T1, typename T2,......,typename Tn&gt; </span></strong></p><p data-lake-id="u54da30ee" id="u54da30ee"><strong><span data-lake-id="ubbb373ce" id="ubbb373ce" class="lake-fontsize-12" style="color: rgb(119,119,119)">返回值类型 函数名(参数列表){}</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22template%3Ctypename%20T%3E%20%20%2F%2F%20%E5%A3%B0%E6%98%8E%E6%A8%A1%E6%9D%BF%E5%8F%82%E6%95%B0%20T%EF%BC%8C%E8%A1%A8%E7%A4%BA%E4%BB%BB%E6%84%8F%E7%B1%BB%E5%9E%8B%5Cnvoid%20Swap(T%26%20left%2C%20T%26%20right)%20%20%2F%2F%20%E6%8E%A5%E6%94%B6%E4%B8%A4%E4%B8%AA%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%BC%95%E7%94%A8%E5%8F%82%E6%95%B0%5Cn%7B%5Cn%20%20%20%20T%20temp%20%3D%20left%3B%20%20%20%2F%2F%20%E4%B8%B4%E6%97%B6%E5%8F%98%E9%87%8F%E4%BF%9D%E5%AD%98%20left%20%E7%9A%84%E5%80%BC%5Cn%20%20%20%20left%20%3D%20right%3B%20%20%20%20%2F%2F%20%E5%B0%86%20right%20%E7%9A%84%E5%80%BC%E8%B5%8B%E7%BB%99%20left%5Cn%20%20%20%20right%20%3D%20temp%3B%20%20%20%20%2F%2F%20%E5%B0%86%E4%B8%B4%E6%97%B6%E5%80%BC%EF%BC%88%E5%8E%9F%20left%EF%BC%89%E8%B5%8B%E7%BB%99%20right%5Cn%7D%5Cn%2F%2Ftemplate%E6%A8%A1%E6%9D%BF%20typename%2Fclass%20T%E6%A8%A1%E6%9D%BF%E5%8F%82%E6%95%B0-%3E%E7%B1%BB%E5%9E%8B%5Cn%5Cneg%3A%5Cnint%20a%20%3D%201%2C%20b%20%3D%202%3B%5CnSwap(a%2C%20b)%3B%20%20%2F%2F%20left%2Fright%20%E5%BC%95%E7%94%A8%20int%20%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AF%B9%E8%B1%A1%20a%20%E5%92%8C%20b%5Cn%5Cnstd%3A%3Astring%20s1%20%3D%20%5C%22hello%5C%22%2C%20s2%20%3D%20%5C%22world%5C%22%3B%5CnSwap(s1%2C%20s2)%3B%20%20%2F%2F%20left%2Fright%20%E5%BC%95%E7%94%A8%20std%3A%3Astring%20%E7%B1%BB%E7%9A%84%E5%AF%B9%E8%B1%A1%20s1%20%E5%92%8C%20s2%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22AqrWL%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u50bf7bc1" id="u50bf7bc1"><strong><span data-lake-id="ucf145b33" id="ucf145b33" class="lake-fontsize-12" style="color: rgb(119,119,119)">注意：typename是</span></strong><span data-lake-id="u2373ca4c" id="u2373ca4c" class="lake-fontsize-12" style="color: rgb(119,119,119)">用来定义模板参数</span><strong><span data-lake-id="u289a977e" id="u289a977e" class="lake-fontsize-12" style="color: rgb(119,119,119)">关键字</span></strong><span data-lake-id="u95de79a7" id="u95de79a7" class="lake-fontsize-12" style="color: rgb(119,119,119)">，</span><strong><span data-lake-id="ud983cc96" id="ud983cc96" class="lake-fontsize-12" style="color: rgb(119,119,119)">也可以使用class(</span></strong><span data-lake-id="u793c550f" id="u793c550f" class="lake-fontsize-12" style="color: rgb(119,119,119)">切记：不能使用struct代替class)</span></p><details data-lake-id="u78a442de" id="u78a442de" open="true" class="lake-collapse"><summary data-lake-id="uf997c808" id="uf997c808" class="lake-summary"><strong><span data-lake-id="u0c82f241" id="u0c82f241" class="lake-fontsize-12" style="color: rgb(119,119,119)">思考：eg中调用的是否是同一个函数呢？</span></strong></summary><p data-lake-id="u6ce50867" id="u6ce50867"><span data-lake-id="u3058ea66" id="u3058ea66" class="lake-fontsize-12">不是同一个函数，模板对应生成的对应类型的函数（实例化）</span></p><p data-lake-id="u52758924" id="u52758924"><span data-lake-id="u2f93f92e" id="u2f93f92e" class="lake-fontsize-12">以下发生在预处理阶段</span></p><p data-lake-id="u99a5922a" id="u99a5922a"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1744782602057-64f6b033-f76a-409e-a7d8-5c7c44a49c93.png%22%2C%22taskId%22%3A%22uc58ec29d-b824-41d2-84b5-9808b33508a%22%2C%22clientId%22%3A%22ua8cb8fa8-6336-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.4285714285714%2C%22height%22%3A333%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A2532636%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A583%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22VOID%20SWAP(DOUBLE%26A%20DOUBLE%26B)%20DOUBLE%20TEMP%20A%3B%20INT%20MAIN()%20A%20B%3A%20B%20TEMP%3A%20DOUBLE%20D1%202.0%3A%20DOUBLE%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%BC%94%20DOUBLE%20D2%205.0%20TEMPLATE%3CTYPENAME%20T%3E%20SWAP(D1%2CD2)%3B%20VOID%20SWAP(INT%26A%2CINT%26B)%20VOID%20SWAP(T%26%20A.T%26B)%20INTIL10%3B%20INT%20TEMPA%3B%20INTI2-20%3B%20INT%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%BC%94%20T%20TEMP%20A%208%20%20B%3A%20A%20B%20%3A%20SWAP(I1.2)%20BTEMP%3A%20BTEMP%3A%20CHAR%20A%20'0%3B%3B%20CHARB-9*%20CHAR%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%BC%94%20SWAP(A%2CB)%3A%20D%20SWAP(CHAR%26%20A.CHAR%26B)%20VOID%20S%20RETURN%200%3B%20CHAR%20TEMP%20A%20BTEMP%3B%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A789%2C%22y%22%3A42%2C%22width%22%3A249%2C%22height%22%3A17%2C%22text%22%3A%22VOID%20SWAP(DOUBLE%26A%20DOUBLE%26B)%22%7D%2C%7B%22x%22%3A818%2C%22y%22%3A89%2C%22width%22%3A125%2C%22height%22%3A16%2C%22text%22%3A%22DOUBLE%20TEMP%20A%3B%22%7D%2C%7B%22x%22%3A33%2C%22y%22%3A107%2C%22width%22%3A83%2C%22height%22%3A18%2C%22text%22%3A%22INT%20MAIN()%22%7D%2C%7B%22x%22%3A818%2C%22y%22%3A114%2C%22width%22%3A42%2C%22height%22%3A15%2C%22text%22%3A%22A%20B%3A%22%7D%2C%7B%22x%22%3A818%2C%22y%22%3A139%2C%22width%22%3A71%2C%22height%22%3A16%2C%22text%22%3A%22B%20TEMP%3A%22%7D%2C%7B%22x%22%3A54%2C%22y%22%3A166%2C%22width%22%3A89%2C%22height%22%3A18%2C%22text%22%3A%22DOUBLE%20D1%22%7D%2C%7B%22x%22%3A169%2C%22y%22%3A167%2C%22width%22%3A31%2C%22height%22%3A16%2C%22text%22%3A%222.0%3A%22%7D%2C%7B%22x%22%3A601%2C%22y%22%3A113%2C%22width%22%3A140%2C%22height%22%3A86%2C%22text%22%3A%22DOUBLE%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%BC%94%22%7D%2C%7B%22x%22%3A53%2C%22y%22%3A195%2C%22width%22%3A95%2C%22height%22%3A19%2C%22text%22%3A%22DOUBLE%20D2%22%7D%2C%7B%22x%22%3A166%2C%22y%22%3A195%2C%22width%22%3A33%2C%22height%22%3A18%2C%22text%22%3A%225.0%22%7D%2C%7B%22x%22%3A371%2C%22y%22%3A214%2C%22width%22%3A170%2C%22height%22%3A19%2C%22text%22%3A%22TEMPLATE%3CTYPENAME%20T%3E%22%7D%2C%7B%22x%22%3A53%2C%22y%22%3A225%2C%22width%22%3A115%2C%22height%22%3A18%2C%22text%22%3A%22SWAP(D1%2CD2)%3B%22%7D%2C%7B%22x%22%3A789%2C%22y%22%3A227%2C%22width%22%3A182%2C%22height%22%3A19%2C%22text%22%3A%22VOID%20SWAP(INT%26A%2CINT%26B)%22%7D%2C%7B%22x%22%3A371%2C%22y%22%3A236%2C%22width%22%3A174%2C%22height%22%3A22%2C%22text%22%3A%22VOID%20SWAP(T%26%20A.T%26B)%22%7D%2C%7B%22x%22%3A52%2C%22y%22%3A255%2C%22width%22%3A95%2C%22height%22%3A17%2C%22text%22%3A%22INTIL10%3B%22%7D%2C%7B%22x%22%3A816%2C%22y%22%3A276%2C%22width%22%3A95%2C%22height%22%3A16%2C%22text%22%3A%22INT%20TEMPA%3B%22%7D%2C%7B%22x%22%3A52%2C%22y%22%3A284%2C%22width%22%3A98%2C%22height%22%3A18%2C%22text%22%3A%22INTI2-20%3B%22%7D%2C%7B%22x%22%3A613%2C%22y%22%3A286%2C%22width%22%3A109%2C%22height%22%3A20%2C%22text%22%3A%22INT%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%BC%94%22%7D%2C%7B%22x%22%3A402%2C%22y%22%3A287%2C%22width%22%3A87%2C%22height%22%3A17%2C%22text%22%3A%22T%20TEMP%20A%22%7D%2C%7B%22x%22%3A816%2C%22y%22%3A301%2C%22width%22%3A45%2C%22height%22%3A14%2C%22text%22%3A%228%20%20B%3A%22%7D%2C%7B%22x%22%3A399%2C%22y%22%3A312%2C%22width%22%3A43%2C%22height%22%3A15%2C%22text%22%3A%22A%20B%20%3A%22%7D%2C%7B%22x%22%3A52%2C%22y%22%3A314%2C%22width%22%3A98%2C%22height%22%3A20%2C%22text%22%3A%22SWAP(I1.2)%22%7D%2C%7B%22x%22%3A815%2C%22y%22%3A323%2C%22width%22%3A73%2C%22height%22%3A17%2C%22text%22%3A%22BTEMP%3A%22%7D%2C%7B%22x%22%3A399%2C%22y%22%3A337%2C%22width%22%3A72%2C%22height%22%3A16%2C%22text%22%3A%22BTEMP%3A%22%7D%2C%7B%22x%22%3A52%2C%22y%22%3A345%2C%22width%22%3A106%2C%22height%22%3A20%2C%22text%22%3A%22CHAR%20A%20'0%3B%3B%22%7D%2C%7B%22x%22%3A53%2C%22y%22%3A373%2C%22width%22%3A109%2C%22height%22%3A23%2C%22text%22%3A%22CHARB-9*%22%7D%2C%7B%22x%22%3A605%2C%22y%22%3A401%2C%22width%22%3A131%2C%22height%22%3A73%2C%22text%22%3A%22CHAR%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%BC%94%22%7D%2C%7B%22x%22%3A53%2C%22y%22%3A404%2C%22width%22%3A92%2C%22height%22%3A20%2C%22text%22%3A%22SWAP(A%2CB)%3A%22%7D%2C%7B%22x%22%3A819%2C%22y%22%3A414%2C%22width%22%3A185%2C%22height%22%3A18%2C%22text%22%3A%22D%20SWAP(CHAR%26%20A.CHAR%26B)%22%7D%2C%7B%22x%22%3A790%2C%22y%22%3A416%2C%22width%22%3A45%2C%22height%22%3A16%2C%22text%22%3A%22VOID%20S%22%7D%2C%7B%22x%22%3A53%2C%22y%22%3A436%2C%22width%22%3A76%2C%22height%22%3A17%2C%22text%22%3A%22RETURN%200%3B%22%7D%2C%7B%22x%22%3A819%2C%22y%22%3A465%2C%22width%22%3A107%2C%22height%22%3A14%2C%22text%22%3A%22CHAR%20TEMP%20A%22%7D%2C%7B%22x%22%3A818%2C%22y%22%3A512%2C%22width%22%3A71%2C%22height%22%3A16%2C%22text%22%3A%22BTEMP%3B%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23f9f9f5%22%2C%22id%22%3A%22u6229f975%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="uc57210f2" id="uc57210f2" style="padding-left: 12em"><strong><span data-lake-id="u0873f613" id="u0873f613">    模板的实例化</span></strong><span data-lake-id="uef8f950b" id="uef8f950b">（编译前已生成）</span></p><p data-lake-id="u92610228" id="u92610228"><strong><span data-lake-id="u084ca503" id="u084ca503" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数模板是一个蓝图，它本身并不是函数，是编译器用使用方式产生特定具体类型函数的模具。所以其实模板就是将本来应该我们做的重复的事情交给了编译器</span></strong></p></details><p data-lake-id="u5a59dfba" id="u5a59dfba"><strong><span data-lake-id="u6589d634" id="u6589d634" class="lake-fontsize-12" style="color: rgb(51,51,51)">2.4 函数模板的实例化</span></strong></p><p data-lake-id="ud56d52db" id="ud56d52db"><strong><span data-lake-id="uedb35cb9" id="uedb35cb9" class="lake-fontsize-12" style="color: rgb(119,119,119)">用不同类型的参数使用函数模板时</span></strong><span data-lake-id="u461d619d" id="u461d619d" class="lake-fontsize-12" style="color: rgb(119,119,119)">，称为函数模板的</span><strong><span data-lake-id="u36f1a6e9" id="u36f1a6e9" class="lake-fontsize-12" style="color: rgb(119,119,119)">实例化</span></strong><span data-lake-id="u6649817b" id="u6649817b" class="lake-fontsize-12" style="color: rgb(119,119,119)">。模板参数实例化分为：</span><strong><span data-lake-id="uc752259e" id="uc752259e" class="lake-fontsize-12" style="color: rgb(119,119,119)">隐式实例化和显式实例化</span></strong><span data-lake-id="u1b566455" id="u1b566455" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="ud6897635" id="ud6897635"><span data-lake-id="u1e27ada7" id="u1e27ada7" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><strong><span data-lake-id="u393c3732" id="u393c3732" class="lake-fontsize-12" style="color: rgb(119,119,119)">隐式实例化：让编译器根据实参推演模板参数的实际类型</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E9%9A%90%E5%BC%8F%E5%AE%9E%E4%BE%8B%E5%8C%96%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22template%3Cclass%20T%3E%5CnT%20Add(const%20T%26%20left%2C%20const%20T%26%20right)%5Cn%7B%5Cn%20return%20left%20%2B%20right%3B%5Cn%7D%5Cnint%20main()%5Cn%7B%5Cn%20int%20a1%20%3D%2010%2C%20a2%20%3D%2020%3B%5Cn%20double%20d1%20%3D%2010.0%2C%20d2%20%3D%2020.0%3B%5Cn%20Add(a1%2C%20a2)%3B%5Cn%20Add(d1%2C%20d2)%3B%5Cn%20%5Cn%20%2F*%5Cn%20%E8%AF%A5%E8%AF%AD%E5%8F%A5%E4%B8%8D%E8%83%BD%E9%80%9A%E8%BF%87%E7%BC%96%E8%AF%91%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%9C%A8%E7%BC%96%E8%AF%91%E6%9C%9F%E9%97%B4%EF%BC%8C%E5%BD%93%E7%BC%96%E8%AF%91%E5%99%A8%E7%9C%8B%E5%88%B0%E8%AF%A5%E5%AE%9E%E4%BE%8B%E5%8C%96%E6%97%B6%EF%BC%8C%E9%9C%80%E8%A6%81%E6%8E%A8%E6%BC%94%E5%85%B6%E5%AE%9E%E5%8F%82%E7%B1%BB%E5%9E%8B%5Cn%20%E9%80%9A%E8%BF%87%E5%AE%9E%E5%8F%82a1%E5%B0%86T%E6%8E%A8%E6%BC%94%E4%B8%BAint%EF%BC%8C%E9%80%9A%E8%BF%87%E5%AE%9E%E5%8F%82d1%E5%B0%86T%E6%8E%A8%E6%BC%94%E4%B8%BAdouble%E7%B1%BB%E5%9E%8B%EF%BC%8C%E4%BD%86%E6%A8%A1%E6%9D%BF%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%E4%B8%AD%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AAT%EF%BC%8C%5Cn%20%E7%BC%96%E8%AF%91%E5%99%A8%E6%97%A0%E6%B3%95%E7%A1%AE%E5%AE%9A%E6%AD%A4%E5%A4%84%E5%88%B0%E5%BA%95%E8%AF%A5%E5%B0%86T%E7%A1%AE%E5%AE%9A%E4%B8%BAint%20%E6%88%96%E8%80%85%20double%E7%B1%BB%E5%9E%8B%E8%80%8C%E6%8A%A5%E9%94%99%5Cn%20%E6%B3%A8%E6%84%8F%EF%BC%9A%E5%9C%A8%E6%A8%A1%E6%9D%BF%E4%B8%AD%EF%BC%8C%E7%BC%96%E8%AF%91%E5%99%A8%E4%B8%80%E8%88%AC%E4%B8%8D%E4%BC%9A%E8%BF%9B%E8%A1%8C%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%9B%A0%E4%B8%BA%E4%B8%80%E6%97%A6%E8%BD%AC%E5%8C%96%E5%87%BA%E9%97%AE%E9%A2%98%EF%BC%8C%E7%BC%96%E8%AF%91%E5%99%A8%E5%B0%B1%E9%9C%80%E8%A6%81%E8%83%8C%E9%BB%91%E9%94%85%5Cn%20Add(a1%2C%20d1)%3B%5Cn%20*%2F%5Cn%20%20%20%20%2F%2F%20%E6%AD%A4%E6%97%B6%E6%9C%89%E4%B8%A4%E7%A7%8D%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F%EF%BC%9A1.%20%E7%94%A8%E6%88%B7%E8%87%AA%E5%B7%B1%E6%9D%A5%E5%BC%BA%E5%88%B6%E8%BD%AC%E5%8C%96%202.%20%E4%BD%BF%E7%94%A8%E6%98%BE%E5%BC%8F%E5%AE%9E%E4%BE%8B%E5%8C%96%5Cn%20Add(a%2C%20(int)d)%3B%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E9%9A%90%E5%BC%8F%E5%AE%9E%E4%BE%8B%E5%8C%96%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22UL0Zs%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u7486911d" id="u7486911d"><span data-lake-id="u98960b25" id="u98960b25" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><strong><span data-lake-id="u8269847e" id="u8269847e" class="lake-fontsize-12" style="color: rgb(119,119,119)">显式实例化：在函数名后的&lt;&gt;中指定模板参数的实际类型</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E6%98%BE%E5%BC%8F%E5%AE%9E%E4%BE%8B%E5%8C%96%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22int%20main(void)%5Cn%7B%5Cn%20int%20a%20%3D%2010%3B%5Cn%20double%20b%20%3D%2020.0%3B%5Cn%20%5Cn%20%2F%2F%20%E6%98%BE%E5%BC%8F%E5%AE%9E%E4%BE%8B%E5%8C%96%5Cn%20Add%3Cint%3E(a%2C%20b)%3B%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E6%98%BE%E5%BC%8F%E5%AE%9E%E4%BE%8B%E5%8C%96%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22UDgMZ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uf010333b" id="uf010333b"><span data-lake-id="uc6f8b70e" id="uc6f8b70e" class="lake-fontsize-12" style="color: rgb(119,119,119)">如果类型不匹配，编译器会尝试进行隐式类型转换，如果无法转换成功编译器将会报错。</span></p><h3 data-lake-id="Cu0Qd" id="Cu0Qd" collapsed="true"><span data-lake-id="u503cf1ce" id="u503cf1ce">3.类模板</span></h3><p data-lake-id="ua994af45" id="ua994af45"><strong><span data-lake-id="u65ef55b1" id="u65ef55b1" class="lake-fontsize-12" style="color: rgb(51,51,51)">3.1 类模板的定义格式</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22template%3Cclass%20T1%2C%20class%20T2%2C%20...%2C%20class%20Tn%3E%5Cnclass%20%E7%B1%BB%E6%A8%A1%E6%9D%BF%E5%90%8D%5Cn%7B%5Cn%20%2F%2F%20%E7%B1%BB%E5%86%85%E6%88%90%E5%91%98%E5%AE%9A%E4%B9%89%5Cn%7D%3B%5Cn%5Cn%5Cn%2F%2F%20%E5%8A%A8%E6%80%81%E9%A1%BA%E5%BA%8F%E8%A1%A8%5Cn%2F%2F%20%E6%B3%A8%E6%84%8F%EF%BC%9AVector%E4%B8%8D%E6%98%AF%E5%85%B7%E4%BD%93%E7%9A%84%E7%B1%BB%EF%BC%8C%E6%98%AF%E7%BC%96%E8%AF%91%E5%99%A8%E6%A0%B9%E6%8D%AE%E8%A2%AB%E5%AE%9E%E4%BE%8B%E5%8C%96%E7%9A%84%E7%B1%BB%E5%9E%8B%E7%94%9F%E6%88%90%E5%85%B7%E4%BD%93%E7%B1%BB%E7%9A%84%E6%A8%A1%E5%85%B7%5Cntemplate%3Cclass%20T%3E%5Cnclass%20Vector%5Cn%7B%20%5Cnpublic%20%3A%5Cn%20Vector(size_t%20capacity%20%3D%2010)%5Cn%20%3A%20_pData(new%20T%5Bcapacity%5D)%5Cn%20%2C%20_size(0)%5Cn%20%2C%20_capacity(capacity)%5Cn%20%7B%7D%5Cn%20%5Cn%20%2F%2F%20%E4%BD%BF%E7%94%A8%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E6%BC%94%E7%A4%BA%EF%BC%9A%E5%9C%A8%E7%B1%BB%E4%B8%AD%E5%A3%B0%E6%98%8E%EF%BC%8C%E5%9C%A8%E7%B1%BB%E5%A4%96%E5%AE%9A%E4%B9%89%E3%80%82%5Cn%20~Vector()%3B%5Cn%20%5Cn%20void%20PushBack(const%20T%26%20data)%EF%BC%9B%5Cn%20void%20PopBack()%EF%BC%9B%5Cn%20%2F%2F%20...%5Cn%20%5Cn%20size_t%20Size()%20%7Breturn%20_size%3B%7D%5Cn%20%5Cn%20T%26%20operator%5B%5D(size_t%20pos)%5Cn%20%7B%5Cn%20assert(pos%20%3C%20_size)%3B%5Cn%20return%20_pData%5Bpos%5D%3B%5Cn%20%7D%5Cn%20%5Cnprivate%3A%5Cn%20T*%20_pData%3B%5Cn%20size_t%20_size%3B%5Cn%20size_t%20_capacity%3B%5Cn%7D%3B%5Cn%2F%2F%20%E6%B3%A8%E6%84%8F%EF%BC%9A%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%B8%AD%E5%87%BD%E6%95%B0%E6%94%BE%E5%9C%A8%E7%B1%BB%E5%A4%96%E8%BF%9B%E8%A1%8C%E5%AE%9A%E4%B9%89%E6%97%B6%EF%BC%8C%E9%9C%80%E8%A6%81%E5%8A%A0%E6%A8%A1%E6%9D%BF%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8%5Cntemplate%20%3Cclass%20T%3E%5CnVector%3CT%3E%3A%3A~Vector()%5Cn%7B%5Cn%20if(_pData)%5Cn%20delete%5B%5D%20_pData%3B%5Cn%20_size%20%3D%20_capacity%20%3D%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Hr4g5%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ub0d4292e" id="ub0d4292e"><strong><span data-lake-id="u591b296c" id="u591b296c" class="lake-fontsize-12" style="color: rgb(51,51,51)">3.2 类模板的实例化</span></strong></p><p data-lake-id="u8119c505" id="u8119c505"><span data-lake-id="u201bae3f" id="u201bae3f" class="lake-fontsize-12" style="color: rgb(119,119,119)">类模板实例化与函数模板实例化不同，</span><strong><span data-lake-id="ufd9276f4" id="ufd9276f4" class="lake-fontsize-12" style="color: rgb(119,119,119)">类模板实例化需要在类模板名字后跟&lt;&gt;，然后将实例化的类型放在&lt;&gt;中即可，类模板名字不是真正的类，而实例化的结果才是真正的类</span></strong><span data-lake-id="ua9100bf5" id="ua9100bf5" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20Vector%E7%B1%BB%E5%90%8D%EF%BC%8CVector%3Cint%3E%E6%89%8D%E6%98%AF%E7%B1%BB%E5%9E%8B%5CnVector%3Cint%3E%20s1%3B%5CnVector%3Cdouble%3E%20s2%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22nxyG9%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><details data-lake-id="u641fbeac" id="u641fbeac" open="true" class="lake-collapse"><summary data-lake-id="uf7c72b66" id="uf7c72b66" class="lake-summary"><span data-lake-id="u860350d0" id="u860350d0" class="lake-fontsize-12">example</span></summary><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%EF%BC%8C%E7%B1%BB%E6%A8%A1%E6%9D%BF%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cn%2F%2F%201.%20%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%5Cntemplate%20%3Ctypename%20T%3E%5Cnvoid%20print(T%20value)%20%7B%5Cn%20%20%20%20cout%20%3C%3C%20value%20%3C%3C%20endl%3B%5Cn%7D%5Cn%5Cn%2F%2F%202.%20%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E7%B1%BB%E6%A8%A1%E6%9D%BF%5Cntemplate%20%3Cclass%20T%3E%5Cnclass%20Holder%20%7B%5Cnpublic%3A%5Cn%20%20%20%20T%20value%3B%5Cn%20%20%20%20void%20show()%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20%5C%22Holding%3A%20%5C%22%20%3C%3C%20value%20%3C%3C%20endl%3B%5Cn%20%20%20%20%7D%5Cn%7D%3B%5Cn%5Cnint%20main()%20%7B%5Cn%20%20%20%20%2F%2F%20%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%5Cn%20%20%20%20print(10)%3B%20%20%20%20%20%20%20%2F%2F%20%E8%87%AA%E5%8A%A8%E6%8E%A8%E5%AF%BC%E4%B8%BAint%5Cn%20%20%20%20print(3.14)%3B%20%20%20%20%20%2F%2F%20%E8%87%AA%E5%8A%A8%E6%8E%A8%E5%AF%BC%E4%B8%BAdouble%5Cn%20%20%20%20print(%5C%22hello%5C%22)%3B%20%20%2F%2F%20%E8%87%AA%E5%8A%A8%E6%8E%A8%E5%AF%BC%E4%B8%BAconst%20char*%5Cn%20%20%20%20%5Cn%20%20%20%20%2F%2F%20%E4%BD%BF%E7%94%A8%E7%B1%BB%E6%A8%A1%E6%9D%BF%5Cn%20%20%20%20Holder%3Cint%3E%20h1%3B%5Cn%20%20%20%20h1.value%20%3D%20100%3B%5Cn%20%20%20%20h1.show()%3B%5Cn%20%20%20%20%5Cn%20%20%20%20Holder%3Cstring%3E%20h2%3B%5Cn%20%20%20%20h2.value%20%3D%20%5C%22world%5C%22%3B%5Cn%20%20%20%20h2.show()%3B%5Cn%20%20%20%20%5Cn%20%20%20%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%EF%BC%8C%E7%B1%BB%E6%A8%A1%E6%9D%BF%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22O8aA4%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="3b94dab2" id="3b94dab2"><span data-lake-id="u57434bed" id="u57434bed" style="color: #262626">1. 模板类定义部分</span></h3><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22template%20%3Cclass%20T%3E%20%20%2F%2F%20%E5%A3%B0%E6%98%8E%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E6%A8%A1%E6%9D%BF%E7%B1%BB%EF%BC%8CT%E6%98%AF%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%5Cnclass%20Holder%20%7B%20%20%20%20%20%20%2F%2F%20%E7%B1%BB%E5%90%8D%E4%B8%BAHolder%5Cnpublic%3A%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%85%AC%E6%9C%89%E6%88%90%E5%91%98%5CnT%20value%3B%20%20%20%20%20%20%20%20%2F%2F%20%E6%88%90%E5%91%98%E5%8F%98%E9%87%8Fvalue%EF%BC%8C%E7%B1%BB%E5%9E%8B%E4%B8%BAT%EF%BC%88%E6%A8%A1%E6%9D%BF%E5%8F%82%E6%95%B0%E5%86%B3%E5%AE%9A%E5%85%B7%E4%BD%93%E7%B1%BB%E5%9E%8B%EF%BC%89%5Cn%5Cnvoid%20show()%20%7B%20%20%20%2F%2F%20%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0show()%5Cn%20%20%20%20cout%20%3C%3C%20%5C%22Holding%3A%20%5C%22%20%3C%3C%20value%20%3C%3C%20endl%3B%20%2F%2F%20%E6%89%93%E5%8D%B0%E6%8C%81%E6%9C%89%E7%9A%84%E5%80%BC%5Cn%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22RnH89%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><ul list="ub73594ea"><li fid="u038b265c" data-lake-id="ua74c975d" id="ua74c975d"><code data-lake-id="u7572c5aa" id="u7572c5aa"><strong><span data-lake-id="ub78fa91d" id="ub78fa91d" class="lake-fontsize-12" style="color: #262626">template &lt;class T&gt;</span></strong></code><span data-lake-id="uceeed69d" id="uceeed69d" class="lake-fontsize-12" style="color: #262626">：这表示</span><code data-lake-id="uf54ccd66" id="uf54ccd66"><strong><span data-lake-id="ub62e2a7c" id="ub62e2a7c" class="lake-fontsize-12" style="color: #262626">Holder</span></strong></code><span data-lake-id="u729c00f2" id="u729c00f2" class="lake-fontsize-12" style="color: #262626">是一个模板类，</span><code data-lake-id="ucd743118" id="ucd743118"><strong><span data-lake-id="ufd23ad95" id="ufd23ad95" class="lake-fontsize-12" style="color: #262626">T</span></strong></code><span data-lake-id="ub410be51" id="ub410be51" class="lake-fontsize-12" style="color: #262626">是一个占位符类型（也可以用</span><code data-lake-id="u1fb4ee06" id="u1fb4ee06"><strong><span data-lake-id="ud3a65553" id="ud3a65553" class="lake-fontsize-12" style="color: #262626">typename</span></strong></code><span data-lake-id="u4fdf2592" id="u4fdf2592" class="lake-fontsize-12" style="color: #262626">代替</span><code data-lake-id="u2fc37458" id="u2fc37458"><strong><span data-lake-id="u1b79229a" id="u1b79229a" class="lake-fontsize-12" style="color: #262626">class</span></strong></code><span data-lake-id="uef371319" id="uef371319" class="lake-fontsize-12" style="color: #262626">）</span></li><li fid="u038b265c" data-lake-id="u51b82447" id="u51b82447"><code data-lake-id="u9a2e5641" id="u9a2e5641"><strong><span data-lake-id="u42e65184" id="u42e65184" class="lake-fontsize-12" style="color: #262626">T value</span></strong></code><span data-lake-id="uef044ed4" id="uef044ed4" class="lake-fontsize-12" style="color: #262626">：这个成员变量的类型将由模板实例化时决定</span></li><li fid="u038b265c" data-lake-id="u8b1a7447" id="u8b1a7447"><code data-lake-id="u86c647e6" id="u86c647e6"><strong><span data-lake-id="ue677a2e4" id="ue677a2e4" class="lake-fontsize-12" style="color: #262626">show()</span></strong></code><span data-lake-id="ua8640486" id="ua8640486" class="lake-fontsize-12" style="color: #262626">函数可以操作这个类型未知的</span><code data-lake-id="ue69732c7" id="ue69732c7"><strong><span data-lake-id="ua31b1e34" id="ua31b1e34" class="lake-fontsize-12" style="color: #262626">value</span></strong></code><span data-lake-id="u76cfe57c" id="u76cfe57c" class="lake-fontsize-12" style="color: #262626">，因为无论</span><code data-lake-id="u070910a0" id="u070910a0"><strong><span data-lake-id="u81e3ce1a" id="u81e3ce1a" class="lake-fontsize-12" style="color: #262626">T</span></strong></code><span data-lake-id="uf468d136" id="uf468d136" class="lake-fontsize-12" style="color: #262626">是什么类型，</span><code data-lake-id="u454811a1" id="u454811a1"><strong><span data-lake-id="u01fa6959" id="u01fa6959" class="lake-fontsize-12" style="color: #262626">cout</span></strong></code><span data-lake-id="ubc038703" id="ubc038703" class="lake-fontsize-12" style="color: #262626">都能输出</span></li></ul><h3 data-lake-id="74d977c4" id="74d977c4"><span data-lake-id="u2494866d" id="u2494866d" style="color: #262626">2. 模板实例化部分</span></h3><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22Holder%3Cint%3E%20h1%3B%20%20%20%20%2F%2F%20%E7%94%A8int%E7%B1%BB%E5%9E%8B%E5%AE%9E%E4%BE%8B%E5%8C%96%E6%A8%A1%E6%9D%BF%E7%B1%BB%5Cnh1.value%20%3D%20100%3B%20%20%20%20%2F%2F%20%E7%BB%99value%E8%B5%8B%E5%80%BC%EF%BC%88%E6%AD%A4%E6%97%B6value%E6%98%AFint%E7%B1%BB%E5%9E%8B%EF%BC%89%5Cnh1.show()%3B%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%B0%83%E7%94%A8show()%E6%96%B9%E6%B3%95%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22EIhPf%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><ul list="ua5a3ebd4"><li fid="uf42951a6" data-lake-id="u7dd40a43" id="u7dd40a43"><code data-lake-id="u259fec30" id="u259fec30"><strong><span data-lake-id="uf1a4fd52" id="uf1a4fd52" class="lake-fontsize-12" style="color: #262626">Holder&lt;int&gt;</span></strong></code><span data-lake-id="u0f02f647" id="u0f02f647" class="lake-fontsize-12" style="color: #262626">：告诉编译器&quot;请用int替换所有T，生成一个具体的类&quot;</span></li></ul><p data-lake-id="uf4dd0e6d" id="uf4dd0e6d"><span data-lake-id="u491b8001" id="u491b8001" class="lake-fontsize-12" style="color: #262626">编译器会生成如下等价代码：</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Holder_int%20%7B%20%20%2F%2F%20%E7%BC%96%E8%AF%91%E5%99%A8%E7%94%9F%E6%88%90%E7%9A%84%E7%89%88%E6%9C%AC%5Cnpublic%3A%5Cnint%20value%3B%20%20%20%20%20%2F%2F%20T%E8%A2%AB%E6%9B%BF%E6%8D%A2%E4%B8%BAint%5Cnvoid%20show()%20%7B%5Cn%20%20%20%20cout%20%3C%3C%20%5C%22Holding%3A%20%5C%22%20%3C%3C%20value%20%3C%3C%20endl%3B%5Cn%7D%5Cn%7D%3B%5CnHolder_int%20h1%3B%20%20%20%20%20%2F%2F%20%E4%BD%BF%E7%94%A8%E7%94%9F%E6%88%90%E7%9A%84%E7%B1%BB%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22T4DBS%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="68516d09" id="68516d09"><span data-lake-id="u848b974f" id="u848b974f" style="color: #262626">3. 类型替换过程</span></h3><p data-lake-id="u1ed3edb5" id="u1ed3edb5"><span data-lake-id="u21f93dbc" id="u21f93dbc" class="lake-fontsize-12" style="color: #262626">原始模板：</span></p><p data-lake-id="u0c3251b8" id="u0c3251b8"><span data-lake-id="uabf507e1" id="uabf507e1" class="lake-fontsize-10" style="color: #262626">T value -&gt; void show() { cout... }</span></p><p data-lake-id="ub4d0cc57" id="ub4d0cc57"><span data-lake-id="uda15f544" id="uda15f544" class="lake-fontsize-12" style="color: #262626">当用</span><code data-lake-id="ub0be2832" id="ub0be2832"><strong><span data-lake-id="u25d5f448" id="u25d5f448" class="lake-fontsize-12" style="color: #262626">int</span></strong></code><span data-lake-id="u27595d9d" id="u27595d9d" class="lake-fontsize-12" style="color: #262626">实例化时：</span></p><p data-lake-id="u4fb735ee" id="u4fb735ee"><span data-lake-id="uee61e6ba" id="uee61e6ba" class="lake-fontsize-10" style="color: #262626">int value -&gt; void show() { cout... }</span></p><p data-lake-id="u0ab4ec30" id="u0ab4ec30"><span data-lake-id="u756d56c8" id="u756d56c8" class="lake-fontsize-12" style="color: #262626">当用</span><code data-lake-id="u1cc45b2a" id="u1cc45b2a"><strong><span data-lake-id="u6541a914" id="u6541a914" class="lake-fontsize-12" style="color: #262626">string</span></strong></code><span data-lake-id="ubf30e54a" id="ubf30e54a" class="lake-fontsize-12" style="color: #262626">实例化时：</span></p><p data-lake-id="u07b669f7" id="u07b669f7"><span data-lake-id="ud0ccc436" id="ud0ccc436" class="lake-fontsize-10" style="color: #262626">string value -&gt; void show() { cout... }</span></p><h3 data-lake-id="5abd2740" id="5abd2740"><span data-lake-id="u6fc21520" id="u6fc21520" style="color: #262626">4. 关键特点</span></h3><ol list="uba524d41"><li fid="u1f095947" data-lake-id="u4fd673c7" id="u4fd673c7"><strong><span data-lake-id="uba786a61" id="uba786a61" class="lake-fontsize-12" style="color: #262626">延迟类型指定</span></strong><span data-lake-id="u10396d0c" id="u10396d0c" class="lake-fontsize-12" style="color: #262626">：写模板时不知道</span><code data-lake-id="u09a83a04" id="u09a83a04"><strong><span data-lake-id="ue3f80c9d" id="ue3f80c9d" class="lake-fontsize-12" style="color: #262626">value</span></strong></code><span data-lake-id="u48c703d4" id="u48c703d4" class="lake-fontsize-12" style="color: #262626">具体是什么类型</span></li><li fid="u1f095947" data-lake-id="u5ee5b1b1" id="u5ee5b1b1"><strong><span data-lake-id="uc5dd6b40" id="uc5dd6b40" class="lake-fontsize-12" style="color: #262626">编译时生成</span></strong><span data-lake-id="uaefbdbf1" id="uaefbdbf1" class="lake-fontsize-12" style="color: #262626">：当使用</span><code data-lake-id="uf8cde883" id="uf8cde883"><strong><span data-lake-id="u6e31e5ec" id="u6e31e5ec" class="lake-fontsize-12" style="color: #262626">Holder&lt;int&gt;</span></strong></code><span data-lake-id="uc655c324" id="uc655c324" class="lake-fontsize-12" style="color: #262626">时，编译器才会生成具体类</span></li><li fid="u1f095947" data-lake-id="u2cc0d1b1" id="u2cc0d1b1"><strong><span data-lake-id="u48825abd" id="u48825abd" class="lake-fontsize-12" style="color: #262626">类型安全</span></strong><span data-lake-id="u9736822b" id="u9736822b" class="lake-fontsize-12" style="color: #262626">：</span><code data-lake-id="u30151303" id="u30151303"><strong><span data-lake-id="u17a63a97" id="u17a63a97" class="lake-fontsize-12" style="color: #262626">h1.value = &quot;abc&quot;</span></strong></code><span data-lake-id="uf297ce1e" id="uf297ce1e" class="lake-fontsize-12" style="color: #262626">会报错，因为</span><code data-lake-id="u77c9c68c" id="u77c9c68c"><strong><span data-lake-id="u7efcd6a7" id="u7efcd6a7" class="lake-fontsize-12" style="color: #262626">h1</span></strong></code><span data-lake-id="u0a193674" id="u0a193674" class="lake-fontsize-12" style="color: #262626">已经确定为</span><code data-lake-id="ua69d1993" id="ua69d1993"><strong><span data-lake-id="u4571fce4" id="u4571fce4" class="lake-fontsize-12" style="color: #262626">int</span></strong></code><span data-lake-id="u536b5cdb" id="u536b5cdb" class="lake-fontsize-12" style="color: #262626">类型</span></li><li fid="u1f095947" data-lake-id="uc675a951" id="uc675a951"><strong><span data-lake-id="u9d2590c6" id="u9d2590c6" class="lake-fontsize-12" style="color: #262626">代码复用</span></strong><span data-lake-id="u5d8f1e65" id="u5d8f1e65" class="lake-fontsize-12" style="color: #262626">：同一套模板可以用于</span><code data-lake-id="uc6e821a2" id="uc6e821a2"><strong><span data-lake-id="u342170db" id="u342170db" class="lake-fontsize-12" style="color: #262626">int</span></strong></code><span data-lake-id="ua00a469b" id="ua00a469b" class="lake-fontsize-12" style="color: #262626">、</span><code data-lake-id="ub157a1a4" id="ub157a1a4"><strong><span data-lake-id="u08d3eb35" id="u08d3eb35" class="lake-fontsize-12" style="color: #262626">double</span></strong></code><span data-lake-id="u9afca0b6" id="u9afca0b6" class="lake-fontsize-12" style="color: #262626">、</span><code data-lake-id="uaed8bbf6" id="uaed8bbf6"><strong><span data-lake-id="uaa094412" id="uaa094412" class="lake-fontsize-12" style="color: #262626">string</span></strong></code><span data-lake-id="u17e18d11" id="u17e18d11" class="lake-fontsize-12" style="color: #262626">等各种类型</span></li></ol><h3 data-lake-id="ff918194" id="ff918194"><span data-lake-id="uf88f6398" id="uf88f6398" style="color: #262626">5. 使用流程</span></h3><ol list="u1b83f4d9"><li fid="ucdb86943" data-lake-id="u0ba79934" id="u0ba79934"><span data-lake-id="ufd34a1f4" id="ufd34a1f4" class="lake-fontsize-12" style="color: #262626">定义模板（写模板代码）</span></li><li fid="ucdb86943" data-lake-id="ua0f6992a" id="ua0f6992a"><span data-lake-id="u96fc026d" id="u96fc026d" class="lake-fontsize-12" style="color: #262626">实例化模板（如</span><code data-lake-id="u68c65ff7" id="u68c65ff7"><strong><span data-lake-id="ue06c01f0" id="ue06c01f0" class="lake-fontsize-12" style="color: #262626">Holder&lt;int&gt;</span></strong></code><span data-lake-id="u134ee4dd" id="u134ee4dd" class="lake-fontsize-12" style="color: #262626">）</span></li><li fid="ucdb86943" data-lake-id="u01b0fdd3" id="u01b0fdd3"><span data-lake-id="ue6755f78" id="ue6755f78" class="lake-fontsize-12" style="color: #262626">使用实例化后的类（像普通类一样操作）</span></li></ol></details><p data-lake-id="u7548e86e" id="u7548e86e"><br></p><h2 data-lake-id="tBaLg" id="tBaLg" collapsed="true"><span data-lake-id="u3c81829e" id="u3c81829e">Lesson--string   --11  02：45</span></h2><h3 data-lake-id="ue5ZM" id="ue5ZM" collapsed="true"><span data-lake-id="u555c636d" id="u555c636d">1.为什么要学习string类？</span></h3><h4 data-lake-id="glFGm" id="glFGm" collapsed="true"><span data-lake-id="u15805d34" id="u15805d34">1.1 C语言中的string的字符串</span></h4><p data-lake-id="ud26786ce" id="ud26786ce"><span data-lake-id="u20e45ce9" id="u20e45ce9" class="lake-fontsize-12" style="color: rgb(119,119,119)">C语言中，字符串是以'\0'结尾的一些字符的集合，为了操作方便，C标准库中提供了一些str系列的库函数，但是这些库函数与字符串是分离开的，不太符合OOP的思想，而且底层空间需要用户自己管理，稍不留神可能还会越界访问。</span></p><h4 data-lake-id="zz45v" id="zz45v" collapsed="true"><span data-lake-id="u2951091f" id="u2951091f">1.2 </span><strong><span data-lake-id="uef9400e0" id="uef9400e0" class="lake-fontsize-12" style="color: rgb(51,51,51)">两个面试题(暂不做讲解)</span></strong></h4><p data-lake-id="uece1d5df" id="uece1d5df"><span data-lake-id="ud5fd612a" id="ud5fd612a" class="lake-fontsize-12" style="color: rgb(65,131,196)">字符串转整形数字 </span></p><p data-lake-id="u24df2949" id="u24df2949"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fadd-strings%2Fdescription%2F%22%2C%22text%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fadd-strings%2Fdescription%2F%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%22415.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%8A%A0%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22415.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%8A%A0%20-%20%E7%BB%99%E5%AE%9A%E4%B8%A4%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BD%A2%E5%BC%8F%E7%9A%84%E9%9D%9E%E8%B4%9F%E6%95%B4%E6%95%B0%C2%A0num1%20%E5%92%8Cnum2%C2%A0%EF%BC%8C%E8%AE%A1%E7%AE%97%E5%AE%83%E4%BB%AC%E7%9A%84%E5%92%8C%E5%B9%B6%E5%90%8C%E6%A0%B7%E4%BB%A5%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BD%A2%E5%BC%8F%E8%BF%94%E5%9B%9E%E3%80%82%20%E4%BD%A0%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E4%BB%BB%E4%BD%95%E5%85%A7%E5%BB%BA%E7%9A%84%E7%94%A8%E4%BA%8E%E5%A4%84%E7%90%86%E5%A4%A7%E6%95%B4%E6%95%B0%E7%9A%84%E5%BA%93%EF%BC%88%E6%AF%94%E5%A6%82%20BigInteger%EF%BC%89%EF%BC%8C%C2%A0%E4%B9%9F%E4%B8%8D%E8%83%BD%E7%9B%B4%E6%8E%A5%E5%B0%86%E8%BE%93%E5%85%A5%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%95%B4%E6%95%B0%E5%BD%A2%E5%BC%8F%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anum1%20%3D%20%E2%80%9C11%E2%80%9D%2C%20num2%20%3D%20%E2%80%9C123%E2%80%B3%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9C134%E2%80%9D%20%E7%A4%BA%E4%BE%8B%202%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anum1%20%3D%20%E2%80%9C456%E2%80%B3%2C%20num2%20%3D%20%E2%80%9C77%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9C533%E2%80%B3%20%E7%A4%BA%E4%BE%8B%203%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anum1%20%3D%20%E2%80%9C0%E2%80%9D%2C%20num2%20%3D%20%E2%80%9C0%E2%80%B3%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9C0%E2%80%9D%20%E6%8F%90%E7%A4%BA%EF%BC%9A%20*%201%20%3C%3D%20num1.length%2C%20num2.length%20%3C%3D%20104%20*%20num1%20%E5%92%8Cnum2%20%E9%83%BD%E5%8F%AA%E5%8C%85%E5%90%AB%E6%95%B0%E5%AD%97%C2%A00-9%20*%20num1%20%E5%92%8Cnum2%20%E9%83%BD%E4%B8%8D%E5%8C%85%E5%90%AB%E4%BB%BB%E4%BD%95%E5%89%8D%E5%AF%BC%E9%9B%B6%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fadd-strings%2Fdescription%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Dy2WE%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(65,131,196)"></card></p><article data-lake-id="uc88537c2" id="uc88537c2" class="lake-columns"><article data-lake-id="ubc4fdf24" id="ubc4fdf24" class="lake-column-item" style="width: 50.000000%"><p data-lake-id="uc58b5c0a" id="uc58b5c0a"><span data-lake-id="ua6d2676a" id="ua6d2676a" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">415.字符串相加</span></p><p data-lake-id="u70504389" id="u70504389"><span data-lake-id="ua65bc97f" id="ua65bc97f" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">给定两个字符串形式的非负整数 </span><code data-lake-id="u4c32bbf9" id="u4c32bbf9"><span data-lake-id="ud148cf23" id="ud148cf23" class="lake-fontsize-11" style="color: rgba(38, 38, 38, 0.75); background-color: rgba(0, 10, 32, 0.03)">num1</span></code><span data-lake-id="u8b61e3b2" id="u8b61e3b2" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)"> 和</span><code data-lake-id="ue5baa7c2" id="ue5baa7c2"><span data-lake-id="ub7cf1f42" id="ub7cf1f42" class="lake-fontsize-11" style="color: rgba(38, 38, 38, 0.75); background-color: rgba(0, 10, 32, 0.03)">num2</span></code><span data-lake-id="uc8207a78" id="uc8207a78" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)"> ，计算它们的和并同样以字符串形式返回。</span></p><p data-lake-id="u68c515e8" id="u68c515e8"><span data-lake-id="ua47092d5" id="ua47092d5" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">你不能使用任何內建的用于处理大整数的库（比如</span><span data-lake-id="u6a48c5b6" id="u6a48c5b6" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)"> </span><code data-lake-id="u6969b3d0" id="u6969b3d0"><span data-lake-id="u1437acab" id="u1437acab" class="lake-fontsize-11" style="color: rgba(38, 38, 38, 0.75); background-color: rgba(0, 10, 32, 0.03)">BigInteger</span></code><span data-lake-id="u9515f763" id="u9515f763" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">）， 也不能直接将输入的字符串转换为整数形式。</span></p><p data-lake-id="u051aa991" id="u051aa991"><span data-lake-id="u4e484399" id="u4e484399" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">​</span><br></p><p data-lake-id="u13bc8281" id="u13bc8281"><strong><span data-lake-id="u47d40ba2" id="u47d40ba2" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">示例 1：</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E8%BE%93%E5%85%A5%EF%BC%9Anum1%20%3D%20%5C%2211%5C%22%2C%20num2%20%3D%20%5C%22123%5C%22%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%5C%22134%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Xf9KF%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uc4ae36f4" id="uc4ae36f4"><strong><span data-lake-id="ufe601955" id="ufe601955" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">示例 2：</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E8%BE%93%E5%85%A5%EF%BC%9Anum1%20%3D%20%5C%22456%5C%22%2C%20num2%20%3D%20%5C%2277%5C%22%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%5C%22533%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22MyqX5%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uda851f01" id="uda851f01"><strong><span data-lake-id="uc7ac748e" id="uc7ac748e" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">示例 3：</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E8%BE%93%E5%85%A5%EF%BC%9Anum1%20%3D%20%5C%220%5C%22%2C%20num2%20%3D%20%5C%220%5C%22%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%5C%220%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22u2JQe%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u1bf863e1" id="u1bf863e1"><span data-lake-id="ud3f2994e" id="ud3f2994e" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">​</span><br></p><p data-lake-id="u3f24a1ec" id="u3f24a1ec"><span data-lake-id="ue7ea8c4f" id="ue7ea8c4f" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">​</span><br></p><p data-lake-id="ua65a3253" id="ua65a3253"><strong><span data-lake-id="u28e36859" id="u28e36859" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">提示：</span></strong></p><ul list="u45df37ca"><li fid="u87616ae3" data-lake-id="u70971721" id="u70971721"><code data-lake-id="u415e2db5" id="u415e2db5"><span data-lake-id="uba288e90" id="uba288e90" class="lake-fontsize-11" style="color: rgba(38, 38, 38, 0.75); background-color: rgba(0, 10, 32, 0.03)">1 &lt;= num1.length, num2.length &lt;= 10</span><sup><span data-lake-id="uada8511d" id="uada8511d" class="lake-fontsize-9" style="color: rgba(38, 38, 38, 0.75); background-color: rgba(0, 10, 32, 0.03)">4</span></sup></code></li><li fid="u87616ae3" data-lake-id="uf6609786" id="uf6609786"><code data-lake-id="uc0a27f68" id="uc0a27f68"><span data-lake-id="u6841fd87" id="u6841fd87" class="lake-fontsize-11" style="color: rgba(38, 38, 38, 0.75); background-color: rgba(0, 10, 32, 0.03)">num1</span></code><span data-lake-id="u435484bc" id="u435484bc" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)"> </span><span data-lake-id="u996a0f54" id="u996a0f54" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">和</span><code data-lake-id="u8aecd60d" id="u8aecd60d"><span data-lake-id="u65bcfe61" id="u65bcfe61" class="lake-fontsize-11" style="color: rgba(38, 38, 38, 0.75); background-color: rgba(0, 10, 32, 0.03)">num2</span></code><span data-lake-id="ue011db6b" id="ue011db6b" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)"> </span><span data-lake-id="u59e59108" id="u59e59108" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)">都只包含数字 </span><code data-lake-id="uf82aba7a" id="uf82aba7a"><span data-lake-id="ufae4e06e" id="ufae4e06e" class="lake-fontsize-11" style="color: rgba(38, 38, 38, 0.75); background-color: rgba(0, 10, 32, 0.03)">0-9</span></code></li><li fid="u87616ae3" data-lake-id="u825493a1" id="u825493a1"><code data-lake-id="u3cdaab0c" id="u3cdaab0c"><span data-lake-id="u9e323a40" id="u9e323a40" class="lake-fontsize-11" style="color: rgba(38, 38, 38, 0.75); background-color: rgba(0, 10, 32, 0.03)">num1</span></code><span data-lake-id="u9bc56671" id="u9bc56671" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)"> 和</span><code data-lake-id="uc0c96c6f" id="uc0c96c6f"><span data-lake-id="u51572f1e" id="u51572f1e" class="lake-fontsize-11" style="color: rgba(38, 38, 38, 0.75); background-color: rgba(0, 10, 32, 0.03)">num2</span></code><span data-lake-id="u2edff99d" id="u2edff99d" class="lake-fontsize-11" style="color: rgb(38, 38, 38); background-color: rgb(240, 240, 240)"> 都不包含任何前导零</span></li></ul></article><article data-lake-id="u1eb78915" id="u1eb78915" class="lake-column-item" style="width: 50.000000%"><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Solution%20%7B%5Cnpublic%3A%5Cn%20%20%20%20string%20addStrings(string%20num1%2C%20string%20num2)%20%7B%5Cn%20%20%20%20%20%20%20%20%5Cn%20%20%20%20%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__height%22%3A634.21875%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22VgTXY%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22height%22%3A634.21875%7D"></card><p data-lake-id="uc3160b3b" id="uc3160b3b"><br></p></article></article><p data-lake-id="ufb294157" id="ufb294157"><span data-lake-id="u75ceb1f5" id="u75ceb1f5" class="lake-fontsize-12" style="color: rgb(119,119,119)">在OJ中，有关字符串的题目基本以string类的形式出现，而且在常规工作中，为了简单、方便、快捷，基本都使用string类，很少有人去使用C库中的字符串操作函数。</span></p><h3 data-lake-id="jCKos" id="jCKos" collapsed="true"><span data-lake-id="u80364a31" id="u80364a31" style="color: #262626">2.标准库中的string类</span></h3><h4 data-lake-id="n1Vaf" id="n1Vaf" collapsed="true"><span data-lake-id="u7618b166" id="u7618b166">2.1 string类（了解）</span></h4><p data-lake-id="uaa70e736" id="uaa70e736"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fcplusplus.com%2Freference%2Fstring%2Fstring%2F%3Fkw%3Dstring%22%2C%22text%22%3A%22https%3A%2F%2Fcplusplus.com%2Freference%2Fstring%2Fstring%2F%3Fkw%3Dstring%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fcplusplus.com%2Ffavicon.ico%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3Anull%2C%22url%22%3A%22https%3A%2F%2Fcplusplus.com%2Freference%2Fstring%2Fstring%2F%3Fkw%3Dstring%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%2C%22title%22%3A%22string%E7%B1%BB%E7%9A%84%E6%96%87%E6%A1%A3%E4%BB%8B%E7%BB%8D%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22oLCOx%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><p data-lake-id="u4607927b" id="u4607927b"><span data-lake-id="u401014a4" id="u401014a4" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><span data-lake-id="u7e4ab342" id="u7e4ab342" class="lake-fontsize-12" style="color: rgb(119,119,119)">字符串是表示字符序列的类 </span></p><p data-lake-id="u138b8d0d" id="u138b8d0d"><span data-lake-id="u83fc6cf7" id="u83fc6cf7" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 标准的字符串类提供了对此类对象的支持，其接口类似于标准字符容器的接口，但添加了专门用于操作单字节字符字符串的设计特性。 </span></p><p data-lake-id="ue4afd895" id="ue4afd895"><span data-lake-id="u4b6ce40f" id="u4b6ce40f" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. string类是使用char(即作为它的字符类型，使用它的默认char_traits和分配器类型(关于模板的更多信息，请参阅basic_string)。 </span></p><p data-lake-id="uee5056f2" id="uee5056f2"><span data-lake-id="ucea0de60" id="ucea0de60" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. string类是basic_string模板类的一个实例，它使用char来实例化basic_string模板类，并用char_traits和allocator作为basic_string的默认参数(根于更多的模板信息请参考basic_string)。 </span></p><p data-lake-id="u57963f53" id="u57963f53"><span data-lake-id="u8b4ca496" id="u8b4ca496" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. 注意，这个类独立于所使用的编码来处理字节:如果用来处理多字节或变长字符(如UTF-8)的序列，这个类的所有成员(如长度或大小)以及它的迭代器，将仍然按照字节(而不是实际编码的字符)来操作。 </span></p><p data-lake-id="uc588bd66" id="uc588bd66"><span data-lake-id="ua25782b3" id="ua25782b3" class="lake-fontsize-12" style="color: rgb(119,119,119)">总结： </span></p><p data-lake-id="u88f0ba76" id="u88f0ba76"><span data-lake-id="u016b559e" id="u016b559e" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. string</span><span data-lake-id="u98edc2e0" id="u98edc2e0" class="lake-fontsize-12" style="color: rgb(119,119,119)">是表示字符串的字符串类 </span></p><p data-lake-id="udd7bba7b" id="udd7bba7b"><span data-lake-id="udb122b68" id="udb122b68" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 该类的接口与常规容器的接口基本相同，再添加了一些专门用来操作string的常规操作。 </span></p><p data-lake-id="u2990f801" id="u2990f801"><span data-lake-id="u81965597" id="u81965597" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. string在底层实际是：basic_string模板类的别名，typedef basic_string&lt;char, char_traits, allocator&gt;string; </span></p><p data-lake-id="u4bc2be18" id="u4bc2be18"><span data-lake-id="u5397d28c" id="u5397d28c" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. 不能操作多字节或者变长字符的序列。</span></p><p data-lake-id="u3aa99b1d" id="u3aa99b1d"><span data-lake-id="u4656581c" id="u4656581c" class="lake-fontsize-12" style="color: rgb(119,119,119)">在</span><strong><span data-lake-id="u3fe45fff" id="u3fe45fff" class="lake-fontsize-12" style="color: rgb(119,119,119)">使用string类时，必须包含#include头文件以及using namespace std</span></strong><span data-lake-id="u1cad4d6d" id="u1cad4d6d" class="lake-fontsize-12" style="color: rgb(119,119,119)">;</span></p><h4 data-lake-id="bNO1a" id="bNO1a" collapsed="true"><span data-lake-id="u47dc1143" id="u47dc1143" style="color: #262626">2.2 string类的常用接口说明（注意下面只讲最常用的接口）</span></h4><h5 data-lake-id="y8UIa" id="y8UIa" collapsed="true"><span data-lake-id="u293a4581" id="u293a4581">1.string类对象的常见构造</span></h5><table data-lake-id="XPLmo" id="XPLmo" margin="true" class="lake-table" style="width: 870px"><colgroup><col width="423"><col width="447"></colgroup><tbody><tr data-lake-id="u6b6e1c7d" id="u6b6e1c7d"><td data-lake-id="ua9129da5" id="ua9129da5"><p data-lake-id="ub2d7d15c" id="ub2d7d15c" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/string/" target="_blank" data-lake-id="uecbbb1c0" id="uecbbb1c0"><span data-lake-id="uf3ebb1fb" id="uf3ebb1fb" class="lake-fontsize-12" style="color: rgb(0,0,0)">(constructor)</span></a><strong><span data-lake-id="ue137b1ed" id="ue137b1ed" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数名称</span></strong></p></td><td data-lake-id="u324a8ac3" id="u324a8ac3"><p data-lake-id="u2e17d9d2" id="u2e17d9d2" style="text-align: left"><strong><span data-lake-id="ue41e60a3" id="ue41e60a3" class="lake-fontsize-12" style="color: rgb(119,119,119)">功能说明</span></strong></p></td></tr><tr data-lake-id="u97aed106" id="u97aed106"><td data-lake-id="u70503c80" id="u70503c80"><p data-lake-id="u5d864c64" id="u5d864c64" style="text-align: left"><strong><span data-lake-id="ueab398cf" id="ueab398cf" class="lake-fontsize-12" style="color: #117CEE">string() </span></strong><span data-lake-id="u71d55f88" id="u71d55f88" class="lake-fontsize-12" style="color: #117CEE">（重点）</span></p></td><td data-lake-id="uacf16b5b" id="uacf16b5b"><p data-lake-id="u86e23600" id="u86e23600" style="text-align: left"><strong><span data-lake-id="u478672ae" id="u478672ae" class="lake-fontsize-12" style="color: rgb(119,119,119)">构造空的</span></strong><strong><span data-lake-id="u290f3e95" id="u290f3e95" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span></strong><strong><span data-lake-id="u6306c7b3" id="u6306c7b3" class="lake-fontsize-12" style="color: rgb(119,119,119)">类对象，即空字符串</span></strong></p></td></tr><tr data-lake-id="u863170df" id="u863170df"><td data-lake-id="u33713473" id="u33713473" style="background-color: rgb(248,248,248)"><p data-lake-id="u7af734b4" id="u7af734b4" style="text-align: left"><strong><span data-lake-id="u0df95a4b" id="u0df95a4b" class="lake-fontsize-12" style="color: #117CEE">string(const char* s) </span></strong><span data-lake-id="ua0f3661f" id="ua0f3661f" class="lake-fontsize-12" style="color: #117CEE">（重点）</span></p></td><td data-lake-id="u79382a79" id="u79382a79" style="background-color: rgb(248,248,248)"><p data-lake-id="u31885f69" id="u31885f69" style="text-align: left"><strong><span data-lake-id="u17fa6edd" id="u17fa6edd" class="lake-fontsize-12" style="color: rgb(119,119,119)">用</span></strong><strong><span data-lake-id="u06705414" id="u06705414" class="lake-fontsize-12" style="color: rgb(119,119,119)">C-</span></strong><strong><span data-lake-id="u08c05325" id="u08c05325" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span></strong><strong><span data-lake-id="udf778e7a" id="udf778e7a" class="lake-fontsize-12" style="color: rgb(119,119,119)">来构造</span></strong><strong><span data-lake-id="u903cb3a0" id="u903cb3a0" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span></strong><strong><span data-lake-id="u2ca9d4ca" id="u2ca9d4ca" class="lake-fontsize-12" style="color: rgb(119,119,119)">类对象</span></strong></p></td></tr><tr data-lake-id="ua351aaa1" id="ua351aaa1"><td data-lake-id="uadf8bbce" id="uadf8bbce"><p data-lake-id="ue11f8dbb" id="ue11f8dbb" style="text-align: left"><strong><span data-lake-id="ub321c847" id="ub321c847" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span></strong><strong><span data-lake-id="ua07177ed" id="ua07177ed" class="lake-fontsize-12" style="color: rgb(119,119,119)">(</span></strong><strong><span data-lake-id="uc9830809" id="uc9830809" class="lake-fontsize-12" style="color: rgb(119,119,119)">size</span></strong><strong><span data-lake-id="u40c0aff2" id="u40c0aff2" class="lake-fontsize-12" style="color: rgb(119,119,119)">_</span></strong><strong><span data-lake-id="u2f2aabd5" id="u2f2aabd5" class="lake-fontsize-12" style="color: rgb(119,119,119)">t</span></strong><strong><span data-lake-id="u8b00235e" id="u8b00235e" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span></strong><strong><span data-lake-id="ucfe29613" id="ucfe29613" class="lake-fontsize-12" style="color: rgb(119,119,119)">n</span></strong><strong><span data-lake-id="u0c0cecf5" id="u0c0cecf5" class="lake-fontsize-12" style="color: rgb(119,119,119)">, </span></strong><strong><span data-lake-id="ub772c809" id="ub772c809" class="lake-fontsize-12" style="color: rgb(119,119,119)">char</span></strong><strong><span data-lake-id="u5742417b" id="u5742417b" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span></strong><strong><span data-lake-id="u3df70cb5" id="u3df70cb5" class="lake-fontsize-12" style="color: rgb(119,119,119)">c</span></strong><strong><span data-lake-id="u6e38562b" id="u6e38562b" class="lake-fontsize-12" style="color: rgb(119,119,119)">)</span></strong></p></td><td data-lake-id="ua657e668" id="ua657e668"><p data-lake-id="u95681824" id="u95681824" style="text-align: left"><strong><span data-lake-id="u0d134c13" id="u0d134c13" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span></strong><strong><span data-lake-id="u9199889e" id="u9199889e" class="lake-fontsize-12" style="color: rgb(119,119,119)">类对象中包含</span></strong><strong><span data-lake-id="ucc2ad7f1" id="ucc2ad7f1" class="lake-fontsize-12" style="color: rgb(119,119,119)">n</span></strong><strong><span data-lake-id="uedb2d104" id="uedb2d104" class="lake-fontsize-12" style="color: rgb(119,119,119)">个字符</span></strong><strong><span data-lake-id="u9ad110b2" id="u9ad110b2" class="lake-fontsize-12" style="color: rgb(119,119,119)">c</span></strong></p></td></tr><tr data-lake-id="uadedbaad" id="uadedbaad"><td data-lake-id="u6d51cc28" id="u6d51cc28" style="background-color: rgb(248,248,248)"><p data-lake-id="u390467e8" id="u390467e8" style="text-align: left"><strong><span data-lake-id="uf56a0cb4" id="uf56a0cb4" class="lake-fontsize-12" style="color: #117CEE">string(const string&amp;s) </span></strong><span data-lake-id="u2fa355fa" id="u2fa355fa" class="lake-fontsize-12" style="color: #117CEE">（重点）</span></p></td><td data-lake-id="ua404cf51" id="ua404cf51" style="background-color: rgb(248,248,248)"><p data-lake-id="u03f193e2" id="u03f193e2" style="text-align: left"><strong><span data-lake-id="ucec2c62a" id="ucec2c62a" class="lake-fontsize-12" style="color: rgb(119,119,119)">拷贝构造函数</span></strong></p></td></tr></tbody></table><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22void%20Teststring()%5Cn%7B%5Cn%20%20%20%20string%20s1%3B%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%20%2F%2F%20%E6%9E%84%E9%80%A0%E7%A9%BA%E7%9A%84string%E7%B1%BB%E5%AF%B9%E8%B1%A1s1%5Cn%20%20%20%20string%20s2(%5C%22Hello%20World%5C%22)%3B%5Ct%5Ct%20%2F%2F%20%E7%94%A8C%E6%A0%BC%E5%BC%8F%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9E%84%E9%80%A0string%E7%B1%BB%E5%AF%B9%E8%B1%A1s2%5Cn%20%20%20%20string%20s3(s2)%3B%5Ct%5Ct%5Ct%5Ct%5Ct%20%2F%2F%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0s3%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22YzW08%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uf8998209" id="uf8998209"><br></p><h5 data-lake-id="Khrrc" id="Khrrc" collapsed="true"><span data-lake-id="uec375557" id="uec375557">2.string类对象的容量操作</span></h5><table data-lake-id="Dc5zT" id="Dc5zT" margin="true" class="lake-table" style="width: 750px"><colgroup><col width="375"><col width="375"></colgroup><tbody><tr data-lake-id="u669eec42" id="u669eec42"><td data-lake-id="u125b0602" id="u125b0602" style="background-color: rgb(248,248,248)"><p data-lake-id="u40639a3e" id="u40639a3e" style="text-align: left"><strong><span data-lake-id="udf05b245" id="udf05b245" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数名称</span></strong></p></td><td data-lake-id="uacb1f591" id="uacb1f591" style="background-color: rgb(248,248,248)"><p data-lake-id="u43773a3a" id="u43773a3a" style="text-align: left"><strong><span data-lake-id="u7cf543a4" id="u7cf543a4" class="lake-fontsize-12" style="color: rgb(119,119,119)">功能说明</span></strong></p></td></tr><tr data-lake-id="u97177a95" id="u97177a95"><td data-lake-id="u71196649" id="u71196649" style="background-color: rgb(248,248,248)"><p data-lake-id="u0e99c684" id="u0e99c684" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/size/" target="_blank" data-lake-id="u320a885f" id="u320a885f"><strong><span data-lake-id="ue9c73f35" id="ue9c73f35" class="lake-fontsize-12" style="color: #117CEE">size</span></strong></a><strong><span data-lake-id="u8887f442" id="u8887f442" class="lake-fontsize-12" style="color: #117CEE">（重点）</span></strong></p></td><td data-lake-id="u8a06d94b" id="u8a06d94b" style="background-color: rgb(248,248,248)"><p data-lake-id="ufd472c74" id="ufd472c74" style="text-align: left"><strong><span data-lake-id="u5644f030" id="u5644f030" class="lake-fontsize-12" style="color: rgb(119,119,119)">返回字符串有效字符长度</span></strong></p></td></tr><tr data-lake-id="u56abef83" id="u56abef83"><td data-lake-id="ud154cf1b" id="ud154cf1b" style="background-color: rgb(248,248,248)"><p data-lake-id="ub6edd1a7" id="ub6edd1a7" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/length/" target="_blank" data-lake-id="ua8e22a04" id="ua8e22a04"><span data-lake-id="u26fc35f1" id="u26fc35f1" class="lake-fontsize-12" style="color: rgb(0,0,0)">length</span></a></p></td><td data-lake-id="u13352d5f" id="u13352d5f" style="background-color: rgb(248,248,248)"><p data-lake-id="ud5778493" id="ud5778493" style="text-align: left"><strong><span data-lake-id="u5f42da08" id="u5f42da08" class="lake-fontsize-12" style="color: rgb(119,119,119)">返回字符串有效字符长度</span></strong></p></td></tr><tr data-lake-id="u3e6bb89c" id="u3e6bb89c"><td data-lake-id="u333d6b83" id="u333d6b83"><p data-lake-id="udf372804" id="udf372804" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/capacity/" target="_blank" data-lake-id="ua82d3968" id="ua82d3968"><span data-lake-id="u799d5d73" id="u799d5d73" class="lake-fontsize-12" style="color: rgb(0,0,0)">capacity</span></a></p></td><td data-lake-id="u21ffc10b" id="u21ffc10b"><p data-lake-id="u539533bb" id="u539533bb" style="text-align: left"><strong><span data-lake-id="uc0eebbfb" id="uc0eebbfb" class="lake-fontsize-12" style="color: rgb(119,119,119)">返回空间总大小</span></strong></p></td></tr><tr data-lake-id="u6bc9c23c" id="u6bc9c23c" style="height: 38px"><td data-lake-id="ub4f88249" id="ub4f88249" style="background-color: rgb(248,248,248)"><p data-lake-id="udd8e52c4" id="udd8e52c4" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/empty/" target="_blank" data-lake-id="uf92e6c95" id="uf92e6c95"><strong><span data-lake-id="u3e23b167" id="u3e23b167" class="lake-fontsize-12" style="color: #117CEE">empty</span></strong></a><strong><span data-lake-id="udc50dea7" id="udc50dea7" class="lake-fontsize-12" style="color: #117CEE"> （重点）</span></strong></p></td><td data-lake-id="ue09c41e4" id="ue09c41e4" style="background-color: rgb(248,248,248)"><p data-lake-id="u31ea1a15" id="u31ea1a15" style="text-align: left"><strong><span data-lake-id="u66f5f3ee" id="u66f5f3ee" class="lake-fontsize-12" style="color: rgb(119,119,119)">检测字符串释放为空串，是返回</span></strong><strong><span data-lake-id="u7d5d7952" id="u7d5d7952" class="lake-fontsize-12" style="color: rgb(119,119,119)">true</span></strong><strong><span data-lake-id="u20aef2fa" id="u20aef2fa" class="lake-fontsize-12" style="color: rgb(119,119,119)">，否则返回</span></strong><strong><span data-lake-id="u95dcec4e" id="u95dcec4e" class="lake-fontsize-12" style="color: rgb(119,119,119)">false</span></strong></p></td></tr><tr data-lake-id="u0e826b5b" id="u0e826b5b"><td data-lake-id="ub70f1f5d" id="ub70f1f5d"><p data-lake-id="u4decd0be" id="u4decd0be" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/clear/" target="_blank" data-lake-id="u0bea76c8" id="u0bea76c8"><strong><span data-lake-id="u8184a879" id="u8184a879" class="lake-fontsize-12" style="color: #117CEE">clear</span></strong></a><strong><span data-lake-id="u090d078e" id="u090d078e" class="lake-fontsize-12" style="color: #117CEE"> </span></strong><strong><span data-lake-id="ua277a627" id="ua277a627" class="lake-fontsize-12" style="color: #117CEE">（重点）</span></strong></p></td><td data-lake-id="uf928dcc3" id="uf928dcc3"><p data-lake-id="u14a46d74" id="u14a46d74" style="text-align: left"><strong><span data-lake-id="u43c5baa1" id="u43c5baa1" class="lake-fontsize-12" style="color: rgb(119,119,119)">清空有效字符</span></strong></p></td></tr><tr data-lake-id="u28a85512" id="u28a85512"><td data-lake-id="u495e5a95" id="u495e5a95" style="background-color: rgb(248,248,248)"><p data-lake-id="u5e5a766f" id="u5e5a766f" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/reserve/" target="_blank" data-lake-id="ue0266f2d" id="ue0266f2d"><strong><span data-lake-id="ud1eb29d1" id="ud1eb29d1" class="lake-fontsize-12" style="color: #117CEE">reserve</span></strong></a><strong><span data-lake-id="u26107658" id="u26107658" class="lake-fontsize-12" style="color: #117CEE"> </span></strong><strong><span data-lake-id="u555f668a" id="u555f668a" class="lake-fontsize-12" style="color: #117CEE">（重点）</span></strong></p></td><td data-lake-id="u4934e49a" id="u4934e49a" style="background-color: rgb(248,248,248)"><p data-lake-id="u22c39a09" id="u22c39a09" style="text-align: left"><strong><span data-lake-id="uf15feb98" id="uf15feb98" class="lake-fontsize-12" style="color: rgb(119,119,119)">为字符串预留空间</span></strong><strong><span data-lake-id="ub21134ca" id="ub21134ca" class="lake-fontsize-12" style="color: rgb(119,119,119)">*</span></strong><span data-lake-id="ud84f24b1" id="ud84f24b1" class="lake-fontsize-12" style="color: rgb(119,119,119)">*</span></p></td></tr><tr data-lake-id="u16a44eda" id="u16a44eda"><td data-lake-id="u1c1529c2" id="u1c1529c2"><p data-lake-id="u33fa0856" id="u33fa0856" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/resize/" target="_blank" data-lake-id="u0d08faaf" id="u0d08faaf"><strong><span data-lake-id="u3eaa6c53" id="u3eaa6c53" class="lake-fontsize-12" style="color: #117CEE">resize</span></strong></a><strong><span data-lake-id="ud1ca17a6" id="ud1ca17a6" class="lake-fontsize-12" style="color: #117CEE"> </span></strong><strong><span data-lake-id="u73ed842e" id="u73ed842e" class="lake-fontsize-12" style="color: #117CEE">（重点）</span></strong></p></td><td data-lake-id="u66431c9f" id="u66431c9f"><p data-lake-id="u942fd6a6" id="u942fd6a6" style="text-align: left"><strong><span data-lake-id="ub2e4cdca" id="ub2e4cdca" class="lake-fontsize-12" style="color: rgb(119,119,119)">将有效字符的个数该成n个，多出的空间用字符c填充</span></strong></p></td></tr></tbody></table><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20size%2Fclear%2Fresize%5Cnvoid%20Teststring1()%5Cn%7B%5Cn%20%20%20%20%2F%2F%20%E6%B3%A8%E6%84%8F%EF%BC%9Astring%E7%B1%BB%E5%AF%B9%E8%B1%A1%E6%94%AF%E6%8C%81%E7%9B%B4%E6%8E%A5%E7%94%A8cin%E5%92%8Ccout%E8%BF%9B%E8%A1%8C%E8%BE%93%E5%85%A5%E5%92%8C%E8%BE%93%E5%87%BA%5Cn%20%20%20%20string%20s(%5C%22hello%2C%20bit!!!%5C%22)%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.size()%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.length()%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.capacity()%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20s%20%3C%3C%20endl%3B%5Cn%5Cn%20%20%20%20%2F%2F%20%E5%B0%86s%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B8%85%E7%A9%BA%EF%BC%8C%E6%B3%A8%E6%84%8F%E6%B8%85%E7%A9%BA%E6%97%B6%E5%8F%AA%E6%98%AF%E5%B0%86size%E6%B8%850%EF%BC%8C%E4%B8%8D%E6%94%B9%E5%8F%98%E5%BA%95%E5%B1%82%E7%A9%BA%E9%97%B4%E7%9A%84%E5%A4%A7%E5%B0%8F%5Cn%20%20%20%20s.clear()%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.size()%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.capacity()%20%3C%3C%20endl%3B%5Cn%20%20%20%20%2F%2F%20%E5%B0%86s%E4%B8%AD%E6%9C%89%E6%95%88%E5%AD%97%E7%AC%A6%E4%B8%AA%E6%95%B0%E5%A2%9E%E5%8A%A0%E5%88%B010%E4%B8%AA%EF%BC%8C%E5%A4%9A%E5%87%BA%E4%BD%8D%E7%BD%AE%E7%94%A8'a'%E8%BF%9B%E8%A1%8C%E5%A1%AB%E5%85%85%5Cn%20%20%20%20%2F%2F%20%E2%80%9Caaaaaaaaaa%E2%80%9D%5Cn%20%20%20%20s.resize(10%2C%20'a')%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.size()%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.capacity()%20%3C%3C%20endl%3B%5Cn%20%20%20%20%2F%2F%20%E5%B0%86s%E4%B8%AD%E6%9C%89%E6%95%88%E5%AD%97%E7%AC%A6%E4%B8%AA%E6%95%B0%E5%A2%9E%E5%8A%A0%E5%88%B015%E4%B8%AA%EF%BC%8C%E5%A4%9A%E5%87%BA%E4%BD%8D%E7%BD%AE%E7%94%A8%E7%BC%BA%E7%9C%81%E5%80%BC'%5C%5C0'%E8%BF%9B%E8%A1%8C%E5%A1%AB%E5%85%85%5Cn%20%20%20%20%2F%2F%20%5C%22aaaaaaaaaa%5C%5C0%5C%5C0%5C%5C0%5C%5C0%5C%5C0%5C%22%5Cn%20%20%20%20%2F%2F%20%E6%B3%A8%E6%84%8F%E6%AD%A4%E6%97%B6s%E4%B8%AD%E6%9C%89%E6%95%88%E5%AD%97%E7%AC%A6%E4%B8%AA%E6%95%B0%E5%B7%B2%E7%BB%8F%E5%A2%9E%E5%8A%A0%E5%88%B015%E4%B8%AA%5Cn%20%20%20%20s.resize(15)%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.size()%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.capacity()%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20s%20%3C%3C%20endl%3B%5Cn%20%20%20%20%2F%2F%20%E5%B0%86s%E4%B8%AD%E6%9C%89%E6%95%88%E5%AD%97%E7%AC%A6%E4%B8%AA%E6%95%B0%E7%BC%A9%E5%B0%8F%E5%88%B05%E4%B8%AA%5Cn%20%20%20%20s.resize(5)%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.size()%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.capacity()%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20s%20%3C%3C%20endl%3B%5Cn%7D%5Cn%5Cn%5Cn%2F%2F%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%5Cn%3D%3D%3D%3D%5Cnvoid%20Teststring2()%5Cn%7B%5Cn%20%20%20%20string%20s%3B%5Cn%20%20%20%20%2F%2F%20%E6%B5%8B%E8%AF%95reserve%E6%98%AF%E5%90%A6%E4%BC%9A%E6%94%B9%E5%8F%98string%E4%B8%AD%E6%9C%89%E6%95%88%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0%5Cn%20%20%20%20s.reserve(100)%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.size()%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.capacity()%20%3C%3C%20endl%3B%5Cn%20%20%20%20%2F%2F%20%E6%B5%8B%E8%AF%95reserve%E5%8F%82%E6%95%B0%E5%B0%8F%E4%BA%8Estring%E7%9A%84%E5%BA%95%E5%B1%82%E7%A9%BA%E9%97%B4%E5%A4%A7%E5%B0%8F%E6%97%B6%EF%BC%8C%E6%98%AF%E5%90%A6%E4%BC%9A%E5%B0%86%E7%A9%BA%E9%97%B4%E7%BC%A9%E5%B0%8F%5Cn%20%20%20%20s.reserve(50)%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.size()%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20s.capacity()%20%3C%3C%20endl%3B%5Cn%7D%5Cn%2F%2F%20%E5%88%A9%E7%94%A8reserve%E6%8F%90%E9%AB%98%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%E7%9A%84%E6%95%88%E7%8E%87%EF%BC%8C%E9%81%BF%E5%85%8D%E5%A2%9E%E5%AE%B9%E5%B8%A6%E6%9D%A5%E7%9A%84%E5%BC%80%E9%94%80%5Cn%2F%2F%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%5Cn%3D%3D%3D%3D%5Cnvoid%20TestPushBack()%5Cn%7B%5Cn%20%20%20%20string%20s%3B%5Cn%20%20%20%20size_t%20sz%20%3D%20s.capacity()%3B%5Cn%20%20%20%20cout%20%3C%3C%20%5C%22making%20s%20grow%3A%5C%5Cn%5C%22%3B%5Cn%20%20%20%20for%20(int%20i%20%3D%200%3B%20i%20%3C%20100%3B%20%2B%2Bi)%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20s.push_back('c')%3B%5Cn%20%20%20%20%20%20%20%20if%20(sz%20!%3D%20s.capacity())%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20sz%20%3D%20s.capacity()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20cout%20%3C%3C%20%5C%22capacity%20changed%3A%20%5C%22%20%3C%3C%20sz%20%3C%3C%20'%5C%5Cn'%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%5Cnvoid%20TestPushBackReserve()%5Cn%7B%5Cn%20%20%20%20string%20s%3B%5Cn%20%20%20%20s.reserve(100)%3B%5Cn%20%20%20%20size_t%20sz%20%3D%20s.capacity()%3B%5Cn%5Cn%20%20%20%20cout%20%3C%3C%20%5C%22making%20s%20grow%3A%5C%5Cn%5C%22%3B%5Cn%20%20%20%20for%20(int%20i%20%3D%200%3B%20i%20%3C%20100%3B%20%2B%2Bi)%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20s.push_back('c')%3B%5Cn%20%20%20%20%20%20%20%20if%20(sz%20!%3D%20s.capacity())%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20sz%20%3D%20s.capacity()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20cout%20%3C%3C%20%5C%22capacity%20changed%3A%20%5C%22%20%3C%3C%20sz%20%3C%3C%20'%5C%5Cn'%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22HyobH%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u03c6d211" id="u03c6d211"><span data-lake-id="u2f967d5e" id="u2f967d5e" class="lake-fontsize-12" style="color: rgb(119,119,119)">注意： </span></p><p data-lake-id="u589d03ce" id="u589d03ce"><span data-lake-id="u7ce1502a" id="u7ce1502a" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. size()</span><span data-lake-id="ub3a886ab" id="ub3a886ab" class="lake-fontsize-12" style="color: rgb(119,119,119)">与</span><span data-lake-id="ub67d12e3" id="ub67d12e3" class="lake-fontsize-12" style="color: rgb(119,119,119)">length()</span><span data-lake-id="u48b7f538" id="u48b7f538" class="lake-fontsize-12" style="color: rgb(119,119,119)">方法底层实现原理完全相同，引入</span><span data-lake-id="u3c5e5d0a" id="u3c5e5d0a" class="lake-fontsize-12" style="color: rgb(119,119,119)">size()</span><span data-lake-id="u33570cdd" id="u33570cdd" class="lake-fontsize-12" style="color: rgb(119,119,119)">的原因是为了与其他容器的接口保持一 </span></p><p data-lake-id="uaf6a329b" id="uaf6a329b"><span data-lake-id="u3a9d2668" id="u3a9d2668" class="lake-fontsize-12" style="color: rgb(119,119,119)">致，一般情况下基本都是用</span><span data-lake-id="u5a6d2aba" id="u5a6d2aba" class="lake-fontsize-12" style="color: rgb(119,119,119)">size()</span><span data-lake-id="ued9227b7" id="ued9227b7" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><p data-lake-id="u3588a0a6" id="u3588a0a6"><span data-lake-id="u526e94c4" id="u526e94c4" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. clear()</span><span data-lake-id="u75a1ec77" id="u75a1ec77" class="lake-fontsize-12" style="color: rgb(119,119,119)">只是将</span><span data-lake-id="u4cadbaf8" id="u4cadbaf8" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span><span data-lake-id="u0938f4c1" id="u0938f4c1" class="lake-fontsize-12" style="color: rgb(119,119,119)">中有效字符清空，不改变底层空间大小。 </span></p><p data-lake-id="u5669d732" id="u5669d732"><span data-lake-id="ue284957d" id="ue284957d" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. resize(size_t n) 与 resize(size_t n, char c)都是将字符串中有效字符个数改变到n个，不同的是当字符个数增多时：resize(n)用0来填充多出的元素空间，resize(size_t n, char c)用字符c来填充多出的元素空间。注意：resize在改变元素个数时，如果是将元素个数增多，可能会改变底层容量的大 </span></p><p data-lake-id="udcd39955" id="udcd39955"><span data-lake-id="ue146e6df" id="ue146e6df" class="lake-fontsize-12" style="color: rgb(119,119,119)">小，如果是将元素个数减少，底层空间总大小不变。 </span></p><p data-lake-id="u81d74ce3" id="u81d74ce3"><span data-lake-id="u9c7bfd15" id="u9c7bfd15" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. reserve(size_t res_arg=0)</span><span data-lake-id="u028dcbb7" id="u028dcbb7" class="lake-fontsize-12" style="color: rgb(119,119,119)">：为</span><span data-lake-id="u88b82c31" id="u88b82c31" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span><span data-lake-id="u2a50c8b5" id="u2a50c8b5" class="lake-fontsize-12" style="color: rgb(119,119,119)">预留空间，不改变有效元素个数，当</span><span data-lake-id="ua137a15e" id="ua137a15e" class="lake-fontsize-12" style="color: rgb(119,119,119)">reserve</span><span data-lake-id="u30a781ca" id="u30a781ca" class="lake-fontsize-12" style="color: rgb(119,119,119)">的参数小于 </span></p><p data-lake-id="u138f100f" id="u138f100f"><span data-lake-id="uf18075a8" id="uf18075a8" class="lake-fontsize-12" style="color: rgb(119,119,119)">string的底层空间总大小时，reserver不会改变容量大小。</span></p><h5 data-lake-id="TVPTC" id="TVPTC" collapsed="true"><span data-lake-id="u992f1fcb" id="u992f1fcb" style="color: #262626">3. string类对象的访问及遍历操作</span></h5><table data-lake-id="ZjtVz" id="ZjtVz" margin="true" class="lake-table" style="width: 869px"><colgroup><col width="217"><col width="652"></colgroup><tbody><tr data-lake-id="uf3f42af5" id="uf3f42af5"><td data-lake-id="u2fd83c60" id="u2fd83c60"><p data-lake-id="ua1df5e81" id="ua1df5e81" style="text-align: left"><strong><span data-lake-id="u9e7dc407" id="u9e7dc407" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数名称</span></strong></p></td><td data-lake-id="u55fbdec4" id="u55fbdec4"><p data-lake-id="u1ba350b6" id="u1ba350b6" style="text-align: left"><strong><span data-lake-id="uc663e6ce" id="uc663e6ce" class="lake-fontsize-12" style="color: rgb(119,119,119)">功能说明</span></strong></p></td></tr><tr data-lake-id="ue000c5cb" id="ue000c5cb"><td data-lake-id="u57365982" id="u57365982"><p data-lake-id="u7554df84" id="u7554df84" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/operator%5B%5D/" target="_blank" data-lake-id="u210629d4" id="u210629d4"><strong><span data-lake-id="u5edef921" id="u5edef921" class="lake-fontsize-12" style="color: #117CEE">operator[]</span></strong></a><strong><span data-lake-id="u6c411797" id="u6c411797" class="lake-fontsize-12" style="color: #117CEE">  （重 点）</span></strong></p></td><td data-lake-id="uaaae1a88" id="uaaae1a88"><p data-lake-id="u70ae2aa0" id="u70ae2aa0" style="text-align: left"><strong><span data-lake-id="uac6bf421" id="uac6bf421" class="lake-fontsize-12" style="color: rgb(119,119,119)">返回</span></strong><strong><span data-lake-id="u5aaaa26e" id="u5aaaa26e" class="lake-fontsize-12" style="color: rgb(119,119,119)">pos</span></strong><strong><span data-lake-id="u810a9c22" id="u810a9c22" class="lake-fontsize-12" style="color: rgb(119,119,119)">位置的字符，</span></strong><strong><span data-lake-id="ud3d1abfa" id="ud3d1abfa" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span></strong><strong><span data-lake-id="u45508a20" id="u45508a20" class="lake-fontsize-12" style="color: rgb(119,119,119)">const</span></strong><strong><span data-lake-id="u1c21e838" id="u1c21e838" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span></strong><strong><span data-lake-id="u84a5bda1" id="u84a5bda1" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span></strong><strong><span data-lake-id="ufc17c035" id="ufc17c035" class="lake-fontsize-12" style="color: rgb(119,119,119)">类对象调用</span></strong></p></td></tr><tr data-lake-id="uf09038e7" id="uf09038e7"><td data-lake-id="u03f4d63c" id="u03f4d63c" style="background-color: rgb(248,248,248)"><p data-lake-id="u647ff5cb" id="u647ff5cb" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/begin/" target="_blank" data-lake-id="u2043de8d" id="u2043de8d"><span data-lake-id="ub8ba7222" id="ub8ba7222" class="lake-fontsize-12" style="color: rgb(0,0,0)">begin</span></a><span data-lake-id="u67679690" id="u67679690" class="lake-fontsize-12" style="color: rgb(119,119,119)">+</span><span data-lake-id="u25c06f1a" id="u25c06f1a" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><a href="http://www.cplusplus.com/reference/string/string/end/" target="_blank" data-lake-id="u099b9cfb" id="u099b9cfb"><span data-lake-id="ud5b87783" id="ud5b87783" class="lake-fontsize-12" style="color: rgb(0,0,0)">end</span></a></p></td><td data-lake-id="u19cf517b" id="u19cf517b" style="background-color: rgb(248,248,248)"><p data-lake-id="ufffa20f9" id="ufffa20f9" style="text-align: left"><strong><span data-lake-id="u24493ee5" id="u24493ee5" class="lake-fontsize-12" style="color: rgb(119,119,119)">begin</span></strong><strong><span data-lake-id="u72d1c35b" id="u72d1c35b" class="lake-fontsize-12" style="color: rgb(119,119,119)">获取一个字符的迭代器</span></strong><span data-lake-id="u190e310c" id="u190e310c" class="lake-fontsize-12" style="color: rgb(119,119,119)">+ </span><strong><span data-lake-id="u91dda56b" id="u91dda56b" class="lake-fontsize-12" style="color: rgb(119,119,119)">end</span></strong><strong><span data-lake-id="uea89d6fa" id="uea89d6fa" class="lake-fontsize-12" style="color: rgb(119,119,119)">获取最后一个字符</span></strong><strong><span data-lake-id="ud74b8a6b" id="ud74b8a6b" class="lake-fontsize-12" style="color: rgb(119,119,119)">下一个位置的迭</span></strong><strong><span data-lake-id="u85d837de" id="u85d837de" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span></strong><strong><span data-lake-id="u767ecf73" id="u767ecf73" class="lake-fontsize-12" style="color: rgb(119,119,119)">代器</span></strong></p></td></tr><tr data-lake-id="uf8e09c10" id="uf8e09c10"><td data-lake-id="ubc4133a6" id="ubc4133a6"><p data-lake-id="uba914c78" id="uba914c78" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/rbegin/" target="_blank" data-lake-id="u81802625" id="u81802625"><span data-lake-id="uee16fc35" id="uee16fc35" class="lake-fontsize-12" style="color: rgb(0,0,0)">rbegin</span></a><strong><span data-lake-id="ub591640d" id="ub591640d" class="lake-fontsize-12" style="color: rgb(65,131,196)"> </span></strong><span data-lake-id="uad2754ad" id="uad2754ad" class="lake-fontsize-12" style="color: rgb(119,119,119)">+ </span><a href="http://www.cplusplus.com/reference/string/string/rend/" target="_blank" data-lake-id="ube95d6a8" id="ube95d6a8"><span data-lake-id="u1c75f5b2" id="u1c75f5b2" class="lake-fontsize-12" style="color: rgb(0,0,0)">rend</span></a></p></td><td data-lake-id="u06078bff" id="u06078bff"><p data-lake-id="u954d10e0" id="u954d10e0" style="text-align: left"><strong><span data-lake-id="ueead01b1" id="ueead01b1" class="lake-fontsize-12" style="color: rgb(119,119,119)">begin</span></strong><strong><span data-lake-id="ue27cdd4c" id="ue27cdd4c" class="lake-fontsize-12" style="color: rgb(119,119,119)">获取一个字符的迭代器</span></strong><span data-lake-id="u844a864c" id="u844a864c" class="lake-fontsize-12" style="color: rgb(119,119,119)">+ </span><strong><span data-lake-id="ubd2832be" id="ubd2832be" class="lake-fontsize-12" style="color: rgb(119,119,119)">end</span></strong><strong><span data-lake-id="u1351274c" id="u1351274c" class="lake-fontsize-12" style="color: rgb(119,119,119)">获取最后一个字符</span></strong><strong><span data-lake-id="ue1ea0caf" id="ue1ea0caf" class="lake-fontsize-12" style="color: rgb(119,119,119)">下一个位置的迭</span></strong><strong><span data-lake-id="u113171f0" id="u113171f0" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span></strong><strong><span data-lake-id="u267898f3" id="u267898f3" class="lake-fontsize-12" style="color: rgb(119,119,119)">代器</span></strong></p></td></tr><tr data-lake-id="u7c373548" id="u7c373548"><td data-lake-id="u731e0daf" id="u731e0daf" style="background-color: rgb(248,248,248)"><p data-lake-id="u358ce76a" id="u358ce76a" style="text-align: left"><strong><span data-lake-id="u984ff014" id="u984ff014" class="lake-fontsize-12" style="color: rgb(119,119,119)">范围</span></strong><strong><span data-lake-id="uee7be618" id="uee7be618" class="lake-fontsize-12" style="color: rgb(119,119,119)">for</span></strong></p></td><td data-lake-id="u2ca87499" id="u2ca87499" style="background-color: rgb(248,248,248)"><p data-lake-id="u8a0f18b1" id="u8a0f18b1" style="text-align: left"><strong><span data-lake-id="ue62442f5" id="ue62442f5" class="lake-fontsize-12" style="color: rgb(119,119,119)">C++11</span></strong><strong><span data-lake-id="u667658e6" id="u667658e6" class="lake-fontsize-12" style="color: rgb(119,119,119)">支持更简洁的范围</span></strong><strong><span data-lake-id="uc336c828" id="uc336c828" class="lake-fontsize-12" style="color: rgb(119,119,119)">for</span></strong><strong><span data-lake-id="ua2321288" id="ua2321288" class="lake-fontsize-12" style="color: rgb(119,119,119)">的新遍历方式</span></strong></p></td></tr></tbody></table><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22void%20Teststring()%20%7B%5Cn%5Ctstring%20s1(%5C%22hello%20Bit%5C%22)%3B%5Cn%5Ctconst%20string%20s2(%5C%22Hello%20Bit%5C%22)%3B%5Cn%5Ctcout%20%3C%3C%20s1%20%3C%3C%20%5C%22%20%5C%22%20%3C%3C%20s2%20%3C%3C%20endl%3B%5Cn%5Ctcout%20%3C%3C%20s1%5B0%5D%20%3C%3C%20%5C%22%20%5C%22%20%3C%3C%20s2%5B0%5D%20%3C%3C%20endl%3B%5Cn%5Cn%5Cts1%5B0%5D%20%3D%20'H'%3B%5Cn%5Ctcout%20%3C%3C%20s1%20%3C%3C%20endl%3B%5Cn%5Ct%2F%2F%20s2%5B0%5D%20%3D%20'h'%3B%20%20%20%E4%BB%A3%E7%A0%81%E7%BC%96%E8%AF%91%E5%A4%B1%E8%B4%A5%EF%BC%8C%E5%9B%A0%E4%B8%BAconst%E7%B1%BB%E5%9E%8B%E5%AF%B9%E8%B1%A1%E4%B8%8D%E8%83%BD%E4%BF%AE%E6%94%B9%5Cn%7D%5Cn%5Cnvoid%20Teststring()%20%7B%5Cn%5Ctstring%20s(%5C%22hello%20Bit%5C%22)%3B%5Cn%5Ct%2F%2F%203%E7%A7%8D%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F%EF%BC%9A%5Cn%5Ct%2F%2F%20%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E4%BB%A5%E4%B8%8B%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%E9%99%A4%E4%BA%86%E9%81%8D%E5%8E%86string%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%BF%98%E5%8F%AF%E4%BB%A5%E9%81%8D%E5%8E%86%E6%98%AF%E4%BF%AE%E6%94%B9string%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%EF%BC%8C%20%2F%2F%20%E5%8F%A6%E5%A4%96%E4%BB%A5%E4%B8%8B%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F%E5%AF%B9%E4%BA%8Estring%E8%80%8C%E8%A8%80%EF%BC%8C%E7%AC%AC%E4%B8%80%E7%A7%8D%E4%BD%BF%E7%94%A8%E6%9C%80%E5%A4%9A%5Cn%5Ct%2F%2F%201.%20for%2Boperator%5B%5D%5Cn%5Ctfor%20(size_t%20i%20%3D%200%3B%20i%20%3C%20s.size()%3B%20%2B%2Bi)%5Cn%5Ct%5Ctcout%20%3C%3C%20s%5Bi%5D%20%3C%3C%20endl%3B%5Cn%5Ct%2F%2F%202.%E8%BF%AD%E4%BB%A3%E5%99%A8%5Cn%5Ctstring%3A%3Aiterator%20it%20%3D%20s.begin()%3B%5Cn%5Ctwhile%20(it%20!%3D%20s.end())%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20*it%20%3C%3C%20endl%3B%5Cn%5Ct%5Ct%2B%2Bit%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctstring%3A%3Areverse_iterator%20rit%20%3D%20s.rbegin()%3B%5Cn%5Ctwhile%20(rit%20!%3D%20s.rend())%5Cn%5Ct%5Ctcout%20%3C%3C%20*rit%20%3C%3C%20endl%3B%5Cn%5Ct%2F%2F%203.%E8%8C%83%E5%9B%B4for%5Cn%5Ctfor%20(auto%20ch%20%3A%20s)%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20cout%3C%3Cch%3C%3Cendl%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22mNbVm%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h5 data-lake-id="MNBIo" id="MNBIo" collapsed="true"><span data-lake-id="u5e82901a" id="u5e82901a">4.string类对象的修改操作</span></h5><table data-lake-id="vTIfP" id="vTIfP" margin="true" class="lake-table" style="width: 869px"><colgroup><col width="217"><col width="652"></colgroup><tbody><tr data-lake-id="u4ddcb363" id="u4ddcb363"><td data-lake-id="ub1f3c5cc" id="ub1f3c5cc"><p data-lake-id="u179bd84c" id="u179bd84c" style="text-align: left"><strong><span data-lake-id="u62afb84f" id="u62afb84f" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数名称</span></strong></p></td><td data-lake-id="ub563d745" id="ub563d745"><p data-lake-id="ue21ea194" id="ue21ea194" style="text-align: left"><strong><span data-lake-id="u03de8748" id="u03de8748" class="lake-fontsize-12" style="color: rgb(119,119,119)">功能说明</span></strong></p></td></tr><tr data-lake-id="u10a43109" id="u10a43109"><td data-lake-id="u53358264" id="u53358264"><p data-lake-id="u8cc194a0" id="u8cc194a0" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/push_back/" target="_blank" data-lake-id="uda6ce7e8" id="uda6ce7e8"><span data-lake-id="udfedfe1a" id="udfedfe1a" class="lake-fontsize-12" style="color: rgb(0,0,0)">push_back</span></a></p></td><td data-lake-id="u3d111d74" id="u3d111d74"><p data-lake-id="u5fdf1f65" id="u5fdf1f65" style="text-align: left"><strong><span data-lake-id="u499cab89" id="u499cab89" class="lake-fontsize-12" style="color: rgb(119,119,119)">在字符串后尾插字符</span></strong><strong><span data-lake-id="uaf712ed0" id="uaf712ed0" class="lake-fontsize-12" style="color: rgb(119,119,119)">c</span></strong></p></td></tr><tr data-lake-id="uf3972c1b" id="uf3972c1b"><td data-lake-id="u29ee41dc" id="u29ee41dc" style="background-color: rgb(248,248,248)"><p data-lake-id="ubef714cc" id="ubef714cc" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/append/" target="_blank" data-lake-id="u69d2fb85" id="u69d2fb85"><span data-lake-id="u17542804" id="u17542804" class="lake-fontsize-12" style="color: rgb(0,0,0)">append</span></a></p></td><td data-lake-id="u6b4768cc" id="u6b4768cc" style="background-color: rgb(248,248,248)"><p data-lake-id="u94d0e84e" id="u94d0e84e" style="text-align: left"><strong><span data-lake-id="u90b8d5c0" id="u90b8d5c0" class="lake-fontsize-12" style="color: rgb(119,119,119)">在字符串后追加一个字符串</span></strong></p></td></tr><tr data-lake-id="u3fc1aa6f" id="u3fc1aa6f"><td data-lake-id="uaae5050c" id="uaae5050c"><p data-lake-id="u98b073e7" id="u98b073e7" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/operator+=/" target="_blank" data-lake-id="uf04acbf0" id="uf04acbf0"><strong><span data-lake-id="u39da928a" id="u39da928a" class="lake-fontsize-12" style="color: rgb(0,0,0)">operator+=</span></strong></a><strong><span data-lake-id="u9f71fb5f" id="u9f71fb5f" class="lake-fontsize-12" style="color: rgb(65,131,196)"> </span></strong><strong><span data-lake-id="u68114d5c" id="u68114d5c" class="lake-fontsize-12" style="color: rgb(119,119,119)">(重点)</span></strong></p></td><td data-lake-id="ubb84d14d" id="ubb84d14d"><p data-lake-id="u4774a5fb" id="u4774a5fb" style="text-align: left"><strong><span data-lake-id="u552d1afb" id="u552d1afb" class="lake-fontsize-12" style="color: rgb(119,119,119)">在字符串后追加字符串</span></strong><strong><span data-lake-id="uac4dc39f" id="uac4dc39f" class="lake-fontsize-12" style="color: rgb(119,119,119)">str</span></strong></p></td></tr><tr data-lake-id="u8702759c" id="u8702759c"><td data-lake-id="u81aeaeac" id="u81aeaeac" style="background-color: rgb(248,248,248)"><p data-lake-id="uadec94e1" id="uadec94e1" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/c_str/" target="_blank" data-lake-id="uc9b75276" id="uc9b75276"><strong><span data-lake-id="ud2e1407d" id="ud2e1407d" class="lake-fontsize-12" style="color: rgb(0,0,0)">c_str</span></strong></a><strong><span data-lake-id="u9eeaa268" id="u9eeaa268" class="lake-fontsize-12" style="color: rgb(119,119,119)">(重点)</span></strong></p></td><td data-lake-id="u612eaf44" id="u612eaf44" style="background-color: rgb(248,248,248)"><p data-lake-id="uac52bc10" id="uac52bc10" style="text-align: left"><strong><span data-lake-id="u81d02a76" id="u81d02a76" class="lake-fontsize-12" style="color: rgb(119,119,119)">返回</span></strong><strong><span data-lake-id="u6bd5f7ca" id="u6bd5f7ca" class="lake-fontsize-12" style="color: rgb(119,119,119)">C</span></strong><strong><span data-lake-id="ua8e56111" id="ua8e56111" class="lake-fontsize-12" style="color: rgb(119,119,119)">格式字符串</span></strong></p></td></tr><tr data-lake-id="u38d607b9" id="u38d607b9"><td data-lake-id="ufc2ceec1" id="ufc2ceec1"><p data-lake-id="u35313477" id="u35313477" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/find/" target="_blank" data-lake-id="u67b1cf97" id="u67b1cf97"><strong><span data-lake-id="ubc485039" id="ubc485039" class="lake-fontsize-12" style="color: rgb(0,0,0)">ﬁnd</span></strong></a><strong><span data-lake-id="u8a84d67d" id="u8a84d67d" class="lake-fontsize-12" style="color: rgb(65,131,196)"> </span></strong><strong><span data-lake-id="u57fc5341" id="u57fc5341" class="lake-fontsize-12" style="color: rgb(119,119,119)">+ </span></strong><a href="http://www.cplusplus.com/reference/string/string/npos/" target="_blank" data-lake-id="u7a29458a" id="u7a29458a"><strong><span data-lake-id="ube78bb89" id="ube78bb89" class="lake-fontsize-12" style="color: rgb(0,0,0)">npos</span></strong></a><strong><span data-lake-id="ua582f306" id="ua582f306" class="lake-fontsize-12" style="color: rgb(119,119,119)">(重点)</span></strong></p></td><td data-lake-id="u9cd9dd02" id="u9cd9dd02"><p data-lake-id="u12df13b8" id="u12df13b8" style="text-align: left"><strong><span data-lake-id="ufa87ad14" id="ufa87ad14" class="lake-fontsize-12" style="color: rgb(119,119,119)">从字符串</span></strong><strong><span data-lake-id="u687e5e5a" id="u687e5e5a" class="lake-fontsize-12" style="color: rgb(119,119,119)">pos</span></strong><strong><span data-lake-id="uafb6964b" id="uafb6964b" class="lake-fontsize-12" style="color: rgb(119,119,119)">位置开始往后找字符</span></strong><strong><span data-lake-id="u12a60d88" id="u12a60d88" class="lake-fontsize-12" style="color: rgb(119,119,119)">c</span></strong><strong><span data-lake-id="u5f67750b" id="u5f67750b" class="lake-fontsize-12" style="color: rgb(119,119,119)">，返回该字符在字符串中的位置</span></strong></p></td></tr><tr data-lake-id="u7a60529d" id="u7a60529d"><td data-lake-id="u09880890" id="u09880890" style="background-color: rgb(248,248,248)"><p data-lake-id="u66a30084" id="u66a30084" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/rfind/" target="_blank" data-lake-id="u4cf3b207" id="u4cf3b207"><span data-lake-id="u68e96001" id="u68e96001" class="lake-fontsize-12" style="color: rgb(0,0,0)">rﬁnd</span></a></p></td><td data-lake-id="u072fe2fe" id="u072fe2fe" style="background-color: rgb(248,248,248)"><p data-lake-id="u67044a4a" id="u67044a4a" style="text-align: left"><strong><span data-lake-id="u1ccfee1c" id="u1ccfee1c" class="lake-fontsize-12" style="color: rgb(119,119,119)">从字符串</span></strong><strong><span data-lake-id="u57cd006f" id="u57cd006f" class="lake-fontsize-12" style="color: rgb(119,119,119)">pos</span></strong><strong><span data-lake-id="ueb453264" id="ueb453264" class="lake-fontsize-12" style="color: rgb(119,119,119)">位置开始往前找字符</span></strong><strong><span data-lake-id="u332df1f0" id="u332df1f0" class="lake-fontsize-12" style="color: rgb(119,119,119)">c</span></strong><strong><span data-lake-id="u557e3f69" id="u557e3f69" class="lake-fontsize-12" style="color: rgb(119,119,119)">，返回该字符在字符串中的位置</span></strong></p></td></tr><tr data-lake-id="ube1c6dc4" id="ube1c6dc4"><td data-lake-id="uef77ed2b" id="uef77ed2b"><p data-lake-id="ub13b5e14" id="ub13b5e14" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/substr/" target="_blank" data-lake-id="u53365733" id="u53365733"><span data-lake-id="u682edb76" id="u682edb76" class="lake-fontsize-12" style="color: rgb(0,0,0)">substr</span></a></p></td><td data-lake-id="u72a681a4" id="u72a681a4"><p data-lake-id="udd1f50dd" id="udd1f50dd" style="text-align: left"><strong><span data-lake-id="u9c99feb2" id="u9c99feb2" class="lake-fontsize-12" style="color: rgb(119,119,119)">在</span></strong><strong><span data-lake-id="ua43b0abc" id="ua43b0abc" class="lake-fontsize-12" style="color: rgb(119,119,119)">str</span></strong><strong><span data-lake-id="u58791e5b" id="u58791e5b" class="lake-fontsize-12" style="color: rgb(119,119,119)">中从</span></strong><strong><span data-lake-id="u0e0acf91" id="u0e0acf91" class="lake-fontsize-12" style="color: rgb(119,119,119)">pos</span></strong><strong><span data-lake-id="ub6c6381f" id="ub6c6381f" class="lake-fontsize-12" style="color: rgb(119,119,119)">位置开始，截取</span></strong><strong><span data-lake-id="ud732efe0" id="ud732efe0" class="lake-fontsize-12" style="color: rgb(119,119,119)">n</span></strong><strong><span data-lake-id="u48dcec5f" id="u48dcec5f" class="lake-fontsize-12" style="color: rgb(119,119,119)">个字符，然后将其返回</span></strong></p></td></tr></tbody></table><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22void%20Teststring()%5Cn%7B%5Cn%20string%20str%3B%5Cn%20str.push_back('%20')%3B%20%2F%2F%20%E5%9C%A8str%E5%90%8E%E6%8F%92%E5%85%A5%E7%A9%BA%E6%A0%BC%5Cn%20str.append(%5C%22hello%5C%22)%3B%20%2F%2F%20%E5%9C%A8str%E5%90%8E%E8%BF%BD%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%5C%22hello%5C%22%5Cn%20str%20%2B%3D%20'b'%3B%20%2F%2F%20%E5%9C%A8str%E5%90%8E%E8%BF%BD%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6'b'%20%5Cn%20str%20%2B%3D%20%5C%22it%5C%22%3B%20%2F%2F%20%E5%9C%A8str%E5%90%8E%E8%BF%BD%E5%8A%A0%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%5C%22it%5C%22%5Cn%20cout%3C%3Cstr%3C%3Cendl%3B%5Cn%20cout%3C%3Cstr.c_str()%3C%3Cendl%3B%20%2F%2F%20%E4%BB%A5C%E8%AF%AD%E8%A8%80%E7%9A%84%E6%96%B9%E5%BC%8F%E6%89%93%E5%8D%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%5Cn%20%5Cn%20%2F%2F%20%E8%8E%B7%E5%8F%96file%E7%9A%84%E5%90%8E%E7%BC%80%5Cn%20string%20file1(%5C%22string.cpp%5C%22)%3B%5Cn%20size_t%20pos%20%3D%20file.rfind('.')%3B%5Cn%20string%20suffix(file.substr(pos%2C%20file.size()-pos))%3B%5Cn%20cout%20%3C%3C%20suffix%20%3C%3C%20endl%3B%5Cn%20%5Cn%20%2F%2F%20npos%E6%98%AFstring%E9%87%8C%E9%9D%A2%E7%9A%84%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%5Cn%20%2F%2F%20static%20const%20size_t%20npos%20%3D%20-1%3B%5Cn%20%5Cn%20%2F%2F%20%E5%8F%96%E5%87%BAurl%E4%B8%AD%E7%9A%84%E5%9F%9F%E5%90%8D%5Cn%20string%20url(%5C%22http%3A%2F%2Fwww.cplusplus.com%2Freference%2Fstring%2Fstring%2Ffind%2F%5C%22)%3B%5Cn%20cout%20%3C%3C%20url%20%3C%3C%20endl%3B%5Cn%20size_t%20start%20%3D%20url.find(%5C%22%3A%2F%2F%5C%22)%3B%5Cn%20if%20(start%20%3D%3D%20string%3A%3Anpos)%5Cn%20%7B%5Cn%20cout%20%3C%3C%20%5C%22invalid%20url%5C%22%20%3C%3C%20endl%3B%5Cn%20return%3B%5Cn%20%7D%5Cn%20start%20%2B%3D%203%3B%5Cn%20size_t%20finish%20%3D%20url.find('%2F'%2C%20start)%3B%5Cn%20string%20address%20%3D%20url.substr(start%2C%20finish%20-%20start)%3B%5Cn%20%20%20%20cout%20%3C%3C%20address%20%3C%3C%20endl%3B%5Cn%20%5Cn%20%2F%2F%20%E5%88%A0%E9%99%A4url%E7%9A%84%E5%8D%8F%E8%AE%AE%E5%89%8D%E7%BC%80%5Cn%20pos%20%3D%20url.find(%5C%22%3A%2F%2F%5C%22)%3B%5Cn%20url.erase(0%2C%20pos%2B3)%3B%5Cn%20cout%3C%3Curl%3C%3Cendl%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22JmAXd%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u5f7df29f" id="u5f7df29f"><span data-lake-id="u4bf4f785" id="u4bf4f785" class="lake-fontsize-12" style="color: rgb(119,119,119)">注意： </span></p><p data-lake-id="uca2df04c" id="uca2df04c"><span data-lake-id="u497b144d" id="u497b144d" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><span data-lake-id="ufe8d15f3" id="ufe8d15f3" class="lake-fontsize-12" style="color: rgb(119,119,119)">在</span><span data-lake-id="u227f3788" id="u227f3788" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span><span data-lake-id="u8e417cb0" id="u8e417cb0" class="lake-fontsize-12" style="color: rgb(119,119,119)">尾部追加字符时，</span><span data-lake-id="uae590278" id="uae590278" class="lake-fontsize-12" style="color: rgb(119,119,119)">s.push_back(c) / s.append(1, c) / s += 'c'</span><span data-lake-id="ud878bb96" id="ud878bb96" class="lake-fontsize-12" style="color: rgb(119,119,119)">三种的实现方式差不多，一般 </span></p><p data-lake-id="u881d4edc" id="u881d4edc"><span data-lake-id="uab3d0ce7" id="uab3d0ce7" class="lake-fontsize-12" style="color: rgb(119,119,119)">情况下</span><span data-lake-id="ucb1ce50c" id="ucb1ce50c" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span><span data-lake-id="u841583e0" id="u841583e0" class="lake-fontsize-12" style="color: rgb(119,119,119)">类的</span><span data-lake-id="u94e7ea8e" id="u94e7ea8e" class="lake-fontsize-12" style="color: rgb(119,119,119)">+=</span><span data-lake-id="u5830e08b" id="u5830e08b" class="lake-fontsize-12" style="color: rgb(119,119,119)">操作用的比较多，</span><span data-lake-id="ub14ee12a" id="ub14ee12a" class="lake-fontsize-12" style="color: rgb(119,119,119)">+=</span><span data-lake-id="u4a8c2808" id="u4a8c2808" class="lake-fontsize-12" style="color: rgb(119,119,119)">操作不仅可以连接单个字符，还可以连接字符串。 </span></p><p data-lake-id="u3ae1f74f" id="u3ae1f74f"><span data-lake-id="ued3fdbb5" id="ued3fdbb5" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 对string操作时，如果能够大概预估到放多少字符，可以先通过reserve把空间预留好。</span></p><h5 data-lake-id="TJdgC" id="TJdgC" collapsed="true"><span data-lake-id="uee0e3fd9" id="uee0e3fd9">5. string类非成员函数</span></h5><table data-lake-id="gW2NQ" id="gW2NQ" margin="true" class="lake-table" style="width: 673px"><colgroup><col width="333"><col width="332"><col width="8"></colgroup><tbody><tr data-lake-id="u0b403106" id="u0b403106" style="height: 38px"><td data-lake-id="uf1e2fb98" id="uf1e2fb98"><p data-lake-id="uf7dc16e5" id="uf7dc16e5" style="text-align: left"><strong><span data-lake-id="ucfafe91b" id="ucfafe91b" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数</span></strong></p></td><td data-lake-id="ub931e22d" id="ub931e22d"><p data-lake-id="u84e1fb1a" id="u84e1fb1a" style="text-align: left"><strong><span data-lake-id="u2c7268d6" id="u2c7268d6" class="lake-fontsize-12" style="color: rgb(119,119,119)">功能说明</span></strong></p></td><td data-lake-id="u9ec7b4ed" id="u9ec7b4ed"></td></tr><tr data-lake-id="u6dc5e7c7" id="u6dc5e7c7"><td data-lake-id="u86fd2ab0" id="u86fd2ab0"><p data-lake-id="ud6fb1afc" id="ud6fb1afc" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/operator+/" target="_blank" data-lake-id="ud17b98cc" id="ud17b98cc"><span data-lake-id="u82147691" id="u82147691" class="lake-fontsize-12" style="color: rgb(0,0,0)">operator+</span></a></p></td><td data-lake-id="u10909ee7" id="u10909ee7"><p data-lake-id="u12f2fd0c" id="u12f2fd0c" style="text-align: left"><span data-lake-id="u83ac3985" id="u83ac3985" class="lake-fontsize-12" style="color: rgb(119,119,119)">尽量少用，因为传值返回，导致深拷贝效率低</span></p></td><td data-lake-id="u399665b5" id="u399665b5"></td></tr><tr data-lake-id="u0146a84f" id="u0146a84f"><td data-lake-id="ua81383ca" id="ua81383ca" style="background-color: rgb(248,248,248)"><p data-lake-id="uadcf741f" id="uadcf741f" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/operator%3E%3E/" target="_blank" data-lake-id="ubace7f1e" id="ubace7f1e"><span data-lake-id="ua2825f0e" id="ua2825f0e" class="lake-fontsize-12" style="color: rgb(0,0,0)">operator&gt;&gt;</span></a><strong><span data-lake-id="u964945bf" id="u964945bf" class="lake-fontsize-12" style="color: rgb(65,131,196)"> </span></strong><span data-lake-id="u3693c331" id="u3693c331" class="lake-fontsize-12" style="color: rgb(119,119,119)">（重点）</span></p></td><td data-lake-id="u3d0f4f2b" id="u3d0f4f2b" style="background-color: rgb(248,248,248)"><p data-lake-id="udfade515" id="udfade515" style="text-align: left"><span data-lake-id="u81817971" id="u81817971" class="lake-fontsize-12" style="color: rgb(119,119,119)">输入运算符重载</span></p></td><td data-lake-id="u39a9c298" id="u39a9c298"><p data-lake-id="u3bbd1b68" id="u3bbd1b68" style="text-align: left"><span data-lake-id="u2d577318" id="u2d577318" class="lake-fontsize-12" style="color: rgb(0,0,0)">​</span><br></p></td></tr><tr data-lake-id="u8fb7de2e" id="u8fb7de2e"><td data-lake-id="u039c8226" id="u039c8226"><p data-lake-id="u26cc07ed" id="u26cc07ed" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/operator%3C%3C/" target="_blank" data-lake-id="ufd5e85c8" id="ufd5e85c8"><span data-lake-id="u04a70d97" id="u04a70d97" class="lake-fontsize-12" style="color: rgb(0,0,0)">operator&lt;&lt;</span></a><strong><span data-lake-id="u79ef88c5" id="u79ef88c5" class="lake-fontsize-12" style="color: rgb(65,131,196)"> </span></strong><span data-lake-id="ufb5b8dc2" id="ufb5b8dc2" class="lake-fontsize-12" style="color: rgb(119,119,119)">（重点）</span></p></td><td data-lake-id="u6db65b4a" id="u6db65b4a"><p data-lake-id="u52252ab4" id="u52252ab4" style="text-align: left"><span data-lake-id="uf521f9a9" id="uf521f9a9" class="lake-fontsize-12" style="color: rgb(119,119,119)">输出运算符重载</span></p></td><td data-lake-id="ue9536de7" id="ue9536de7"><p data-lake-id="udaedeacc" id="udaedeacc" style="text-align: left"><span data-lake-id="uf7705a68" id="uf7705a68" class="lake-fontsize-12" style="color: rgb(0,0,0)">​</span><br></p></td></tr><tr data-lake-id="u069c136d" id="u069c136d"><td data-lake-id="u0108f091" id="u0108f091" style="background-color: rgb(248,248,248)"><p data-lake-id="u6132a577" id="u6132a577" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/getline/" target="_blank" data-lake-id="u92fb90f0" id="u92fb90f0"><span data-lake-id="u35fb1bf9" id="u35fb1bf9" class="lake-fontsize-12" style="color: rgb(0,0,0)">getline</span></a><strong><span data-lake-id="uf2e3fadf" id="uf2e3fadf" class="lake-fontsize-12" style="color: rgb(65,131,196)"> </span></strong><span data-lake-id="u14a5decf" id="u14a5decf" class="lake-fontsize-12" style="color: rgb(119,119,119)">（重点）</span></p></td><td data-lake-id="u60891aac" id="u60891aac" style="background-color: rgb(248,248,248)"><p data-lake-id="ub0725da1" id="ub0725da1" style="text-align: left"><span data-lake-id="ucce63fc8" id="ucce63fc8" class="lake-fontsize-12" style="color: rgb(119,119,119)">获取一行字符串</span></p></td><td data-lake-id="ue2ad3297" id="ue2ad3297"><p data-lake-id="ub391473c" id="ub391473c" style="text-align: left"><span data-lake-id="u8a87d35a" id="u8a87d35a" class="lake-fontsize-12" style="color: rgb(0,0,0)">​</span><br></p></td></tr><tr data-lake-id="u6eec8ccb" id="u6eec8ccb"><td data-lake-id="u5a706daf" id="u5a706daf"><p data-lake-id="uaa192458" id="uaa192458" style="text-align: left"><a href="http://www.cplusplus.com/reference/string/string/operators/" target="_blank" data-lake-id="ubea454f3" id="ubea454f3"><span data-lake-id="u78163385" id="u78163385" class="lake-fontsize-12" style="color: rgb(0,0,0)">relational operators</span></a><strong><span data-lake-id="ucdbae0e0" id="ucdbae0e0" class="lake-fontsize-12" style="color: rgb(65,131,196)"> </span></strong><span data-lake-id="ub4e0f13b" id="ub4e0f13b" class="lake-fontsize-12" style="color: rgb(119,119,119)">（重点）</span></p></td><td data-lake-id="u7b12a7ac" id="u7b12a7ac"><p data-lake-id="u775bf502" id="u775bf502" style="text-align: left"><span data-lake-id="ub64a81aa" id="ub64a81aa" class="lake-fontsize-12" style="color: rgb(119,119,119)">大小比较</span></p></td><td data-lake-id="u71a455b8" id="u71a455b8"></td></tr></tbody></table><p data-lake-id="u7f55d815" id="u7f55d815"><span data-lake-id="ufddae414" id="ufddae414" class="lake-fontsize-12" style="color: rgb(119,119,119)">上面的几个接口大家了解一下，下面的</span><span data-lake-id="uc198d17b" id="uc198d17b" class="lake-fontsize-12" style="color: rgb(119,119,119)">OJ</span><span data-lake-id="u2c8211e7" id="u2c8211e7" class="lake-fontsize-12" style="color: rgb(119,119,119)">题目中会有一些体现他们的使用。</span><span data-lake-id="u86f3c9db" id="u86f3c9db" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span><span data-lake-id="ubd0a1c8f" id="ubd0a1c8f" class="lake-fontsize-12" style="color: rgb(119,119,119)">类中还有一些其他的 </span></p><p data-lake-id="uce9392d8" id="uce9392d8"><span data-lake-id="u1c5bd0a0" id="u1c5bd0a0" class="lake-fontsize-12" style="color: rgb(119,119,119)">操作，这里不一一列举，大家在需要用到时不明白了查文档即可。</span></p><h5 data-lake-id="xbj0Z" id="xbj0Z" collapsed="true"><span data-lake-id="u3a23840d" id="u3a23840d" style="color: #262626">6. 牛刀小试</span></h5><p data-lake-id="ue34de0b4" id="ue34de0b4"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Freverse-only-letters%2Fsubmissions%2F%22%2C%22text%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Freverse-only-letters%2Fsubmissions%2F%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%22917.%20%E4%BB%85%E4%BB%85%E5%8F%8D%E8%BD%AC%E5%AD%97%E6%AF%8D%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22917.%20%E4%BB%85%E4%BB%85%E5%8F%8D%E8%BD%AC%E5%AD%97%E6%AF%8D%20-%20%E7%BB%99%E4%BD%A0%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%20s%20%EF%BC%8C%E6%A0%B9%E6%8D%AE%E4%B8%8B%E8%BF%B0%E8%A7%84%E5%88%99%E5%8F%8D%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%9A%20*%20%E6%89%80%E6%9C%89%E9%9D%9E%E8%8B%B1%E6%96%87%E5%AD%97%E6%AF%8D%E4%BF%9D%E7%95%99%E5%9C%A8%E5%8E%9F%E6%9C%89%E4%BD%8D%E7%BD%AE%E3%80%82%20*%20%E6%89%80%E6%9C%89%E8%8B%B1%E6%96%87%E5%AD%97%E6%AF%8D%EF%BC%88%E5%B0%8F%E5%86%99%E6%88%96%E5%A4%A7%E5%86%99%EF%BC%89%E4%BD%8D%E7%BD%AE%E5%8F%8D%E8%BD%AC%E3%80%82%20%E8%BF%94%E5%9B%9E%E5%8F%8D%E8%BD%AC%E5%90%8E%E7%9A%84%20s%20%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9As%20%3D%20%E2%80%9Cab-cd%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9Cdc-ba%E2%80%9D%20%E7%A4%BA%E4%BE%8B%202%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9As%20%3D%20%E2%80%9Ca-bC-dEf-ghIj%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9Cj-Ih-gfE-dCba%E2%80%9D%20%E7%A4%BA%E4%BE%8B%203%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9As%20%3D%20%E2%80%9CTest1ng-Leet%3Dcode-Q!%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9CQedo1ct-eeLg%3Dntse-T!%E2%80%9D%20%E6%8F%90%E7%A4%BA%20*%201%20%3C%3D%20s.length%20%3C%3D%20100%20*%20s%20%E4%BB%85%E7%94%B1%20ASCII%20%E5%80%BC%E5%9C%A8%E8%8C%83%E5%9B%B4%20%5B33%2C%20122%5D%20%E7%9A%84%E5%AD%97%E7%AC%A6%E7%BB%84%E6%88%90%20*%20s%20%E4%B8%8D%E5%90%AB%20%E2%80%98%5C%5C%E2%80%9D%E2%80%99%20%E6%88%96%20%E2%80%98%5C%5C%5C%5C%E2%80%99%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Freverse-only-letters%2Fsubmissions%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22HJeaj%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Solution%20%7B%5Cnpublic%3A%5Cn%20bool%20isLetter(char%20ch)%5Cn%20%7B%5Cn%20if(ch%20%3E%3D%20'a'%20%26%26%20ch%20%3C%3D%20'z')%5Cn%20return%20true%3B%5Cn%20if(ch%20%3E%3D%20'A'%20%26%26%20ch%20%3C%3D%20'Z')%5Cn%20return%20true%3B%5Cn%20return%20false%3B%5Cn%20%7D%5Cn%20string%20reverseOnlyLetters(string%20S)%20%7B%5Cn%20if(S.empty())%5Cn%20return%20S%3B%5Cn%20%5Cn%20size_t%20begin%20%3D%200%2C%20end%20%3D%20S.size()-1%3B%5Cn%20while(begin%20%3C%20end)%5Cn%20%7B%5Cn%20while(begin%20%3C%20end%20%26%26%20!isLetter(S%5Bbegin%5D))%5Cn%20%20%20%20%20%2B%2Bbegin%3B%5Cn%20%5Cn%20while(begin%20%3C%20end%20%26%26%20!isLetter(S%5Bend%5D))%5Cn%20--end%3B%5Cn%20swap(S%5Bbegin%5D%2C%20S%5Bend%5D)%3B%5Cn%20%2B%2Bbegin%3B%5Cn%20--end%3B%5Cn%20%7D%5Cn%20return%20S%3B%5Cn%20%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22r3RiX%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u95dcdb6d" id="u95dcdb6d"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Ffirst-unique-character-in-a-string%2Fdescription%2F%22%2C%22text%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Ffirst-unique-character-in-a-string%2Fdescription%2F%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%22387.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%94%AF%E4%B8%80%E5%AD%97%E7%AC%A6%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22387.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%94%AF%E4%B8%80%E5%AD%97%E7%AC%A6%20-%20%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%C2%A0s%C2%A0%EF%BC%8C%E6%89%BE%E5%88%B0%20%E5%AE%83%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E4%B8%8D%E9%87%8D%E5%A4%8D%E7%9A%84%E5%AD%97%E7%AC%A6%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%E5%AE%83%E7%9A%84%E7%B4%A2%E5%BC%95%20%E3%80%82%E5%A6%82%E6%9E%9C%E4%B8%8D%E5%AD%98%E5%9C%A8%EF%BC%8C%E5%88%99%E8%BF%94%E5%9B%9E%20-1%C2%A0%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%20%E8%BE%93%E5%85%A5%3A%20s%20%3D%20%E2%80%9Cleetcode%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%3A%200%20%E7%A4%BA%E4%BE%8B%202%3A%20%E8%BE%93%E5%85%A5%3A%20s%20%3D%20%E2%80%9Cloveleetcode%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%3A%202%20%E7%A4%BA%E4%BE%8B%203%3A%20%E8%BE%93%E5%85%A5%3A%20s%20%3D%20%E2%80%9Caabb%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%3A%20-1%20%E6%8F%90%E7%A4%BA%3A%20*%201%20%3C%3D%20s.length%20%3C%3D%20105%20*%20s%C2%A0%E5%8F%AA%E5%8C%85%E5%90%AB%E5%B0%8F%E5%86%99%E5%AD%97%E6%AF%8D%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Ffirst-unique-character-in-a-string%2Fdescription%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22EwKOJ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Solution%20%7B%5Cnpublic%3A%5Cn%20int%20firstUniqChar(string%20s)%20%7B%5Cn%20%5Cn%20%2F%2F%20%E7%BB%9F%E8%AE%A1%E6%AF%8F%E4%B8%AA%E5%AD%97%E7%AC%A6%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0%5Cn%20int%20count%5B256%5D%20%3D%20%7B0%7D%3B%5Cn%20int%20size%20%3D%20s.size()%3B%5Cn%20for(int%20i%20%3D%200%3B%20i%20%3C%20size%3B%20%2B%2Bi)%5Cn%20count%5Bs%5Bi%5D%5D%20%2B%3D%201%3B%5Cn%20%5Cn%20%2F%2F%20%E6%8C%89%E7%85%A7%E5%AD%97%E7%AC%A6%E6%AC%A1%E5%BA%8F%E4%BB%8E%E5%89%8D%E5%BE%80%E5%90%8E%E6%89%BE%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E5%AD%97%E7%AC%A6%5Cn%20for(int%20i%20%3D%200%3B%20i%20%3C%20size%3B%20%2B%2Bi)%5Cn%20if(1%20%3D%3D%20count%5Bs%5Bi%5D%5D)%5Cn%20return%20i%3B%5Cn%20%5Cn%20return%20-1%3B%5Cn%20%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22w7zfA%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uaf85de08" id="uaf85de08"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F8c949ea5f36f422594b306a2300315da%3FtpId%3D37%26%26tqId%3D21224%26rp%3D5%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhuawei%2Fquestion-ranking%22%2C%22text%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F8c949ea5f36f422594b306a2300315da%3FtpId%3D37%26%26tqId%3D21224%26rp%3D5%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhuawei%2Fquestion-ranking%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Ffe%2Ffile%2Fimages%2Fnowpick%2Fweb%2Fwww-favicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Fimages%2Flogo_87_87.png%22%2C%22title%22%3A%22%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%8D%95%E8%AF%8D%E7%9A%84%E9%95%BF%E5%BA%A6_%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8_%E7%89%9B%E5%AE%A2%E7%BD%91%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22%E5%AF%B9%E4%BA%8E%E7%BB%99%E5%AE%9A%E7%9A%84%E8%8B%A5%E5%B9%B2%E4%B8%AA%E5%8D%95%E8%AF%8D%E7%BB%84%E6%88%90%E7%9A%84%E5%8F%A5%E5%AD%90%EF%BC%8C%E6%AF%8F%E4%B8%AA%E5%8D%95%E8%AF%8D%E5%9D%87%E7%94%B1%E5%A4%A7%E5%B0%8F%E5%86%99%E5%AD%97%E6%AF%8D%E6%B7%B7%E5%90%88%E6%9E%84%E6%88%90%EF%BC%8C%E5%8D%95%E8%AF%8D%E9%97%B4%E4%BD%BF%E7%94%A8%E5%8D%95%E4%B8%AA%E7%A9%BA%E6%A0%BC%E5%88%86%E9%9A%94%E3%80%82%E8%BE%93%E3%80%82%E9%A2%98%E7%9B%AE%E6%9D%A5%E8%87%AA%E3%80%90%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8%E3%80%91%22%2C%22url%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F8c949ea5f36f422594b306a2300315da%3FtpId%3D37%26%26tqId%3D21224%26rp%3D5%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhuawei%2Fquestion-ranking%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22HzfxJ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%3Ciostream%3E%5Cn%23include%3Cstring%3E%5Cnusing%20namespace%20std%3B%5Cnint%20main()%5Cn%7B%5Cn%20string%20line%3B%5Cn%20%2F%2F%20%E4%B8%8D%E8%A6%81%E4%BD%BF%E7%94%A8cin%3E%3Eline%2C%E5%9B%A0%E4%B8%BA%E4%BC%9A%E5%AE%83%E9%81%87%E5%88%B0%E7%A9%BA%E6%A0%BC%E5%B0%B1%E7%BB%93%E6%9D%9F%E4%BA%86%5Cn%20%2F%2F%20while(cin%3E%3Eline)%5Cn%20while(getline(cin%2C%20line))%5Cn%20%7B%5Cn%20size_t%20pos%20%3D%20line.rfind('%20')%3B%5Cn%20cout%3C%3Cline.size()-pos-1%3C%3Cendl%3B%5Cn%20%7D%5Cn%20%20%20%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22gxkSc%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uca4c451e" id="uca4c451e"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fvalid-palindrome%2Fdescription%2F%22%2C%22text%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fvalid-palindrome%2Fdescription%2F%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%22125.%20%E9%AA%8C%E8%AF%81%E5%9B%9E%E6%96%87%E4%B8%B2%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22125.%20%E9%AA%8C%E8%AF%81%E5%9B%9E%E6%96%87%E4%B8%B2%20-%20%E5%A6%82%E6%9E%9C%E5%9C%A8%E5%B0%86%E6%89%80%E6%9C%89%E5%A4%A7%E5%86%99%E5%AD%97%E7%AC%A6%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%B0%8F%E5%86%99%E5%AD%97%E7%AC%A6%E3%80%81%E5%B9%B6%E7%A7%BB%E9%99%A4%E6%89%80%E6%9C%89%E9%9D%9E%E5%AD%97%E6%AF%8D%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6%E4%B9%8B%E5%90%8E%EF%BC%8C%E7%9F%AD%E8%AF%AD%E6%AD%A3%E7%9D%80%E8%AF%BB%E5%92%8C%E5%8F%8D%E7%9D%80%E8%AF%BB%E9%83%BD%E4%B8%80%E6%A0%B7%E3%80%82%E5%88%99%E5%8F%AF%E4%BB%A5%E8%AE%A4%E4%B8%BA%E8%AF%A5%E7%9F%AD%E8%AF%AD%E6%98%AF%E4%B8%80%E4%B8%AA%20%E5%9B%9E%E6%96%87%E4%B8%B2%20%E3%80%82%20%E5%AD%97%E6%AF%8D%E5%92%8C%E6%95%B0%E5%AD%97%E9%83%BD%E5%B1%9E%E4%BA%8E%E5%AD%97%E6%AF%8D%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6%E3%80%82%20%E7%BB%99%E4%BD%A0%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%20s%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%AE%83%E6%98%AF%20%E5%9B%9E%E6%96%87%E4%B8%B2%20%EF%BC%8C%E8%BF%94%E5%9B%9E%20true%20%EF%BC%9B%E5%90%A6%E5%88%99%EF%BC%8C%E8%BF%94%E5%9B%9E%20false%20%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%20%E8%BE%93%E5%85%A5%3A%20s%20%3D%20%E2%80%9CA%20man%2C%20a%20plan%2C%20a%20canal%3A%20Panama%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9Atrue%5Cn%E8%A7%A3%E9%87%8A%EF%BC%9A%E2%80%9Camanaplanacanalpanama%E2%80%9D%20%E6%98%AF%E5%9B%9E%E6%96%87%E4%B8%B2%E3%80%82%20%E7%A4%BA%E4%BE%8B%202%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9As%20%3D%20%E2%80%9Crace%20a%20car%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9Afalse%5Cn%E8%A7%A3%E9%87%8A%EF%BC%9A%E2%80%9Craceacar%E2%80%9D%20%E4%B8%8D%E6%98%AF%E5%9B%9E%E6%96%87%E4%B8%B2%E3%80%82%20%E7%A4%BA%E4%BE%8B%203%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9As%20%3D%20%E2%80%9D%20%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9Atrue%5Cn%E8%A7%A3%E9%87%8A%EF%BC%9A%E5%9C%A8%E7%A7%BB%E9%99%A4%E9%9D%9E%E5%AD%97%E6%AF%8D%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6%E4%B9%8B%E5%90%8E%EF%BC%8Cs%20%E6%98%AF%E4%B8%80%E4%B8%AA%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%20%E2%80%9D%E2%80%B3%20%E3%80%82%5Cn%E7%94%B1%E4%BA%8E%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AD%A3%E7%9D%80%E5%8F%8D%E7%9D%80%E8%AF%BB%E9%83%BD%E4%B8%80%E6%A0%B7%EF%BC%8C%E6%89%80%E4%BB%A5%E6%98%AF%E5%9B%9E%E6%96%87%E4%B8%B2%E3%80%82%20%E6%8F%90%E7%A4%BA%EF%BC%9A%20*%201%20%3C%3D%20s.length%20%3C%3D%202%20*%20105%20*%20s%20%E4%BB%85%E7%94%B1%E5%8F%AF%E6%89%93%E5%8D%B0%E7%9A%84%20ASCII%20%E5%AD%97%E7%AC%A6%E7%BB%84%E6%88%90%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fvalid-palindrome%2Fdescription%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22msSv6%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Solution%20%7B%5Cnpublic%3A%5Cn%20bool%20isLetterOrNumber(char%20ch)%5Cn%7B%5Cn%20return%20(ch%20%3E%3D%20'0'%20%26%26%20ch%20%3C%3D%20'9')%5Cn%20%7C%7C%20(ch%20%3E%3D%20'a'%20%26%26%20ch%20%3C%3D%20'z')%5Cn%20%7C%7C%20(ch%20%3E%3D%20'A'%20%26%26%20ch%20%3C%3D%20'Z')%3B%5Cn%20%7D%5Cn%20%5Cn%20bool%20isPalindrome(string%20s)%20%7B%5Cn%20%2F%2F%20%E5%85%88%E5%B0%8F%E5%86%99%E5%AD%97%E6%AF%8D%E8%BD%AC%E6%8D%A2%E6%88%90%E5%A4%A7%E5%86%99%EF%BC%8C%E5%86%8D%E8%BF%9B%E8%A1%8C%E5%88%A4%E6%96%AD%5Cn%20for(auto%26%20ch%20%3A%20s)%5Cn%20%7B%5Cn%20if(ch%20%3E%3D%20'a'%20%26%26%20ch%20%3C%3D%20'z')%5Cn%20ch%20-%3D%2032%3B%5Cn%20%7D%5Cn%20%5Cn%20int%20begin%20%3D%200%2C%20end%20%3D%20s.size()-1%3B%5Cn%20while(begin%20%3C%20end)%5Cn%20%7B%5Cn%20while(begin%20%3C%20end%20%26%26%20!isLetterOrNumber(s%5Bbegin%5D))%5Cn%20%2B%2Bbegin%3B%5Cn%20%5Cn%20while(begin%20%3C%20end%20%26%26%20!isLetterOrNumber(s%5Bend%5D))%5Cn%20--end%3B%5Cn%20%5Cn%20if(s%5Bbegin%5D%20!%3D%20s%5Bend%5D)%5Cn%20%7B%5Cn%20return%20false%3B%5Cn%20%7D%5Cn%20else%5Cn%20%7B%5Cn%20%5Cn%20%2B%2Bbegin%3B%5Cn%20--end%3B%5Cn%20%7D%5Cn%20%7D%5Cn%20%5Cn%20return%20true%3B%5Cn%20%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22OoF5A%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ufc6437f8" id="ufc6437f8"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fadd-strings%2Fdescription%2F%22%2C%22text%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fadd-strings%2Fdescription%2F%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%22415.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%8A%A0%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22415.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%8A%A0%20-%20%E7%BB%99%E5%AE%9A%E4%B8%A4%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BD%A2%E5%BC%8F%E7%9A%84%E9%9D%9E%E8%B4%9F%E6%95%B4%E6%95%B0%C2%A0num1%20%E5%92%8Cnum2%C2%A0%EF%BC%8C%E8%AE%A1%E7%AE%97%E5%AE%83%E4%BB%AC%E7%9A%84%E5%92%8C%E5%B9%B6%E5%90%8C%E6%A0%B7%E4%BB%A5%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BD%A2%E5%BC%8F%E8%BF%94%E5%9B%9E%E3%80%82%20%E4%BD%A0%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E4%BB%BB%E4%BD%95%E5%85%A7%E5%BB%BA%E7%9A%84%E7%94%A8%E4%BA%8E%E5%A4%84%E7%90%86%E5%A4%A7%E6%95%B4%E6%95%B0%E7%9A%84%E5%BA%93%EF%BC%88%E6%AF%94%E5%A6%82%20BigInteger%EF%BC%89%EF%BC%8C%C2%A0%E4%B9%9F%E4%B8%8D%E8%83%BD%E7%9B%B4%E6%8E%A5%E5%B0%86%E8%BE%93%E5%85%A5%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%95%B4%E6%95%B0%E5%BD%A2%E5%BC%8F%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anum1%20%3D%20%E2%80%9C11%E2%80%9D%2C%20num2%20%3D%20%E2%80%9C123%E2%80%B3%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9C134%E2%80%9D%20%E7%A4%BA%E4%BE%8B%202%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anum1%20%3D%20%E2%80%9C456%E2%80%B3%2C%20num2%20%3D%20%E2%80%9C77%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9C533%E2%80%B3%20%E7%A4%BA%E4%BE%8B%203%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anum1%20%3D%20%E2%80%9C0%E2%80%9D%2C%20num2%20%3D%20%E2%80%9C0%E2%80%B3%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9C0%E2%80%9D%20%E6%8F%90%E7%A4%BA%EF%BC%9A%20*%201%20%3C%3D%20num1.length%2C%20num2.length%20%3C%3D%20104%20*%20num1%20%E5%92%8Cnum2%20%E9%83%BD%E5%8F%AA%E5%8C%85%E5%90%AB%E6%95%B0%E5%AD%97%C2%A00-9%20*%20num1%20%E5%92%8Cnum2%20%E9%83%BD%E4%B8%8D%E5%8C%85%E5%90%AB%E4%BB%BB%E4%BD%95%E5%89%8D%E5%AF%BC%E9%9B%B6%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fadd-strings%2Fdescription%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22bCNGY%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Solution%20%7B%5Cnpublic%3A%5Cnstring%20addstrings(string%20num1%2C%20string%20num2)%20%5Cn%7B%5Cn%20%2F%2F%20%E4%BB%8E%E5%90%8E%E5%BE%80%E5%89%8D%E7%9B%B8%E5%8A%A0%EF%BC%8C%E7%9B%B8%E5%8A%A0%E7%9A%84%E7%BB%93%E6%9E%9C%E5%88%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8insert%E5%A4%B4%E6%8F%92%5Cn%20%2F%2F%20%E6%88%96%E8%80%85%2B%3D%E5%B0%BE%E6%8F%92%E4%BB%A5%E5%90%8E%E5%86%8Dreverse%E8%BF%87%E6%9D%A5%5Cn%20int%20end1%20%3D%20num1.size()-1%3B%5Cn%20int%20end2%20%3D%20num2.size()-1%3B%5Cn%20int%20value1%20%3D%200%2C%20value2%20%3D%200%2C%20next%20%3D%200%3B%5Cn%20string%20addret%3B%5Cn%20while(end1%20%3E%3D%200%20%7C%7C%20end2%20%3E%3D%200)%5Cn%20%7B%5Cn%20if(end1%20%3E%3D%200)%5Cn%20value1%20%3D%20num1%5Bend1--%5D-'0'%3B%5Cn%20else%5Cn%20value1%20%3D%200%3B%5Cn%20%5Cn%20if(end2%20%3E%3D%200)%5Cn%20value2%20%3D%20num2%5Bend2--%5D-'0'%3B%5Cn%20else%5Cn%20value2%20%3D%200%3B%5Cn%20%5Cn%20int%20valueret%20%3D%20value1%20%2B%20value2%20%2B%20next%3B%5Cn%20if(valueret%20%3E%209)%5Cn%20%7B%5Cn%20next%20%3D%201%3B%5Cn%20valueret%20-%3D%2010%3B%5Cn%20%7D%5Cn%20else%5Cn%20%7B%5Cn%20next%20%3D%200%3B%5Cn%20%7D%5Cn%20%5Cn%20%2F%2Faddret.insert(addret.begin()%2C%20valueret%2B'0')%3B%5Cn%20addret%20%2B%3D%20(valueret%2B'0')%3B%5Cn%20%7D%5Cn%20%5Cn%20if(next%20%3D%3D%201)%5Cn%20%7B%5Cn%20%2F%2Faddret.insert(addret.begin()%2C%20'1')%3B%5Cn%20addret%20%2B%3D%20'1'%3B%5Cn%20%7D%5Cn%20%5Cn%20reverse(addret.begin()%2C%20addret.end())%3B%5Cn%20return%20addret%3B%5Cn%20%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22duhBJ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ufc7cb08f" id="ufc7cb08f"><br></p><p data-lake-id="udc324c26" id="udc324c26"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Freverse-string-ii%2Fdescription%2F%22%2C%22text%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Freverse-string-ii%2Fdescription%2F%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%22541.%20%E5%8F%8D%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%20II%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22541.%20%E5%8F%8D%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%20II%20-%20%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%20s%20%E5%92%8C%E4%B8%80%E4%B8%AA%E6%95%B4%E6%95%B0%20k%EF%BC%8C%E4%BB%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BC%80%E5%A4%B4%E7%AE%97%E8%B5%B7%EF%BC%8C%E6%AF%8F%E8%AE%A1%E6%95%B0%E8%87%B3%202k%20%E4%B8%AA%E5%AD%97%E7%AC%A6%EF%BC%8C%E5%B0%B1%E5%8F%8D%E8%BD%AC%E8%BF%99%202k%20%E5%AD%97%E7%AC%A6%E4%B8%AD%E7%9A%84%E5%89%8D%20k%20%E4%B8%AA%E5%AD%97%E7%AC%A6%E3%80%82%20*%20%E5%A6%82%E6%9E%9C%E5%89%A9%E4%BD%99%E5%AD%97%E7%AC%A6%E5%B0%91%E4%BA%8E%20k%20%E4%B8%AA%EF%BC%8C%E5%88%99%E5%B0%86%E5%89%A9%E4%BD%99%E5%AD%97%E7%AC%A6%E5%85%A8%E9%83%A8%E5%8F%8D%E8%BD%AC%E3%80%82%20*%20%E5%A6%82%E6%9E%9C%E5%89%A9%E4%BD%99%E5%AD%97%E7%AC%A6%E5%B0%8F%E4%BA%8E%202k%20%E4%BD%86%E5%A4%A7%E4%BA%8E%E6%88%96%E7%AD%89%E4%BA%8E%20k%20%E4%B8%AA%EF%BC%8C%E5%88%99%E5%8F%8D%E8%BD%AC%E5%89%8D%20k%20%E4%B8%AA%E5%AD%97%E7%AC%A6%EF%BC%8C%E5%85%B6%E4%BD%99%E5%AD%97%E7%AC%A6%E4%BF%9D%E6%8C%81%E5%8E%9F%E6%A0%B7%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9As%20%3D%20%E2%80%9Cabcdefg%E2%80%9D%2C%20k%20%3D%202%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9Cbacdfeg%E2%80%9D%20%E7%A4%BA%E4%BE%8B%202%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9As%20%3D%20%E2%80%9Cabcd%E2%80%9D%2C%20k%20%3D%202%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9Cbacd%E2%80%9D%20%E6%8F%90%E7%A4%BA%EF%BC%9A%20*%201%20%3C%3D%20s.length%20%3C%3D%20104%20*%20s%20%E4%BB%85%E7%94%B1%E5%B0%8F%E5%86%99%E8%8B%B1%E6%96%87%E7%BB%84%E6%88%90%20*%201%20%3C%3D%20k%20%3C%3D%20104%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Freverse-string-ii%2Fdescription%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22VjMnC%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><p data-lake-id="u490010f0" id="u490010f0"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Freverse-words-in-a-string-iii%2Fdescription%2F%22%2C%22text%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Freverse-words-in-a-string-iii%2Fdescription%2F%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%22557.%20%E5%8F%8D%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E5%8D%95%E8%AF%8D%20III%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22557.%20%E5%8F%8D%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%9A%84%E5%8D%95%E8%AF%8D%20III%20-%20%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%C2%A0s%C2%A0%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E5%8F%8D%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E6%AF%8F%E4%B8%AA%E5%8D%95%E8%AF%8D%E7%9A%84%E5%AD%97%E7%AC%A6%E9%A1%BA%E5%BA%8F%EF%BC%8C%E5%90%8C%E6%97%B6%E4%BB%8D%E4%BF%9D%E7%95%99%E7%A9%BA%E6%A0%BC%E5%92%8C%E5%8D%95%E8%AF%8D%E7%9A%84%E5%88%9D%E5%A7%8B%E9%A1%BA%E5%BA%8F%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9As%20%3D%20%E2%80%9CLet%E2%80%99s%20take%20LeetCode%20contest%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9Cs%E2%80%99teL%20ekat%20edoCteeL%20tsetnoc%E2%80%9D%20%E7%A4%BA%E4%BE%8B%202%3A%20%E8%BE%93%E5%85%A5%EF%BC%9A%20s%20%3D%20%E2%80%9CMr%20Ding%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%E2%80%9CrM%20gniD%E2%80%9D%20%E6%8F%90%E7%A4%BA%EF%BC%9A%20*%201%20%3C%3D%20s.length%20%3C%3D%205%20*%20104%20*%20s%C2%A0%E5%8C%85%E5%90%AB%E5%8F%AF%E6%89%93%E5%8D%B0%E7%9A%84%20ASCII%20%E5%AD%97%E7%AC%A6%E3%80%82%20*%20s%C2%A0%E4%B8%8D%E5%8C%85%E5%90%AB%E4%BB%BB%E4%BD%95%E5%BC%80%E5%A4%B4%E6%88%96%E7%BB%93%E5%B0%BE%E7%A9%BA%E6%A0%BC%E3%80%82%20*%20s%C2%A0%E9%87%8C%20%E8%87%B3%E5%B0%91%20%E6%9C%89%E4%B8%80%E4%B8%AA%E8%AF%8D%E3%80%82%20*%20s%C2%A0%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E5%8D%95%E8%AF%8D%E9%83%BD%E7%94%A8%E4%B8%80%E4%B8%AA%E7%A9%BA%E6%A0%BC%E9%9A%94%E5%BC%80%E3%80%82%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Freverse-words-in-a-string-iii%2Fdescription%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22dTEjr%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><p data-lake-id="u89744a19" id="u89744a19"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fmultiply-strings%2Fdescription%2F%22%2C%22text%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fmultiply-strings%2Fdescription%2F%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%2243.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E4%B9%98%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%2243.%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E4%B9%98%20-%20%E7%BB%99%E5%AE%9A%E4%B8%A4%E4%B8%AA%E4%BB%A5%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BD%A2%E5%BC%8F%E8%A1%A8%E7%A4%BA%E7%9A%84%E9%9D%9E%E8%B4%9F%E6%95%B4%E6%95%B0%C2%A0num1%C2%A0%E5%92%8C%C2%A0num2%EF%BC%8C%E8%BF%94%E5%9B%9E%C2%A0num1%C2%A0%E5%92%8C%C2%A0num2%C2%A0%E7%9A%84%E4%B9%98%E7%A7%AF%EF%BC%8C%E5%AE%83%E4%BB%AC%E7%9A%84%E4%B9%98%E7%A7%AF%E4%B9%9F%E8%A1%A8%E7%A4%BA%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BD%A2%E5%BC%8F%E3%80%82%20%E6%B3%A8%E6%84%8F%EF%BC%9A%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E4%BB%BB%E4%BD%95%E5%86%85%E7%BD%AE%E7%9A%84%20BigInteger%20%E5%BA%93%E6%88%96%E7%9B%B4%E6%8E%A5%E5%B0%86%E8%BE%93%E5%85%A5%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%95%B4%E6%95%B0%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%3A%20%E8%BE%93%E5%85%A5%3A%20num1%20%3D%20%E2%80%9C2%E2%80%9D%2C%20num2%20%3D%20%E2%80%9C3%E2%80%B3%5Cn%E8%BE%93%E5%87%BA%3A%20%E2%80%9C6%E2%80%9D%20%E7%A4%BA%E4%BE%8B%C2%A02%3A%20%E8%BE%93%E5%85%A5%3A%20num1%20%3D%20%E2%80%9C123%E2%80%B3%2C%20num2%20%3D%20%E2%80%9C456%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%3A%20%E2%80%9C56088%E2%80%B3%20%E6%8F%90%E7%A4%BA%EF%BC%9A%20*%201%20%3C%3D%20num1.length%2C%20num2.length%20%3C%3D%20200%20*%20num1%C2%A0%E5%92%8C%20num2%C2%A0%E5%8F%AA%E8%83%BD%E7%94%B1%E6%95%B0%E5%AD%97%E7%BB%84%E6%88%90%E3%80%82%20*%20num1%C2%A0%E5%92%8C%20num2%C2%A0%E9%83%BD%E4%B8%8D%E5%8C%85%E5%90%AB%E4%BB%BB%E4%BD%95%E5%89%8D%E5%AF%BC%E9%9B%B6%EF%BC%8C%E9%99%A4%E4%BA%86%E6%95%B0%E5%AD%970%E6%9C%AC%E8%BA%AB%E3%80%82%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode.cn%2Fproblems%2Fmultiply-strings%2Fdescription%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22m6dSu%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><p data-lake-id="uc90f947e" id="uc90f947e"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Fe896d0f82f1246a3aa7b232ce38029d4%3FtpId%3D37%26%26tqId%3D21282%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhuawei%2Fquestion-ranking%22%2C%22text%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Fe896d0f82f1246a3aa7b232ce38029d4%3FtpId%3D37%26%26tqId%3D21282%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhuawei%2Fquestion-ranking%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Ffe%2Ffile%2Fimages%2Fnowpick%2Fweb%2Fwww-favicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Fimages%2Flogo_87_87.png%22%2C%22title%22%3A%22%E6%89%BE%E5%87%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E5%AD%97%E7%AC%A6_%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8_%E7%89%9B%E5%AE%A2%E7%BD%91%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22%E5%AF%B9%E4%BA%8E%E7%BB%99%E5%AE%9A%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E6%89%BE%E5%87%BA%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E5%AD%97%E7%AC%A6%E3%80%82%E5%A6%82%E6%9E%9C%E4%B8%8D%E5%AD%98%E5%9C%A8%EF%BC%8C%E5%88%99%E8%BE%93%E5%87%BA%20%E3%80%82%E3%80%82%E9%A2%98%E7%9B%AE%E6%9D%A5%E8%87%AA%E3%80%90%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8%E3%80%91%22%2C%22url%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Fe896d0f82f1246a3aa7b232ce38029d4%3FtpId%3D37%26%26tqId%3D21282%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fhuawei%2Fquestion-ranking%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22tKJxa%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><p data-lake-id="u0dd58f0a" id="u0dd58f0a"><br></p><h3 data-lake-id="kFiNp" id="kFiNp" collapsed="true"><strong><span data-lake-id="u228d6cf0" id="u228d6cf0" class="lake-fontsize-12" style="color: rgb(51,51,51)">3. string类的模拟实现</span></strong></h3><h4 data-lake-id="fvNSu" id="fvNSu" collapsed="true"><strong><span data-lake-id="u4374af0a" id="u4374af0a" class="lake-fontsize-12" style="color: rgb(51,51,51)">3.1 经典的string类问题</span></strong></h4><p data-lake-id="u7c37be3a" id="u7c37be3a"><span data-lake-id="ubfc2f5ca" id="ubfc2f5ca" class="lake-fontsize-12" style="color: rgb(119,119,119)">上面已经对string类进行了简单的介绍，大家只要能够正常使用即可。在面试中，面试官总喜欢让学生自己来模拟实现string类，最主要是实现string类的构造、拷贝构造、赋值运算符重载以及析构函数。大家看下以下string类的实现是否有问题？</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20string%5Cn%7B%5Cnpublic%3A%5Cn%20%2F*string()%5Cn%20%3A_str(new%20char%5B1%5D)%5Cn%20%7B*_str%20%3D%20'%5C%5C0'%3B%7D%5Cn%20*%2F%5Cn%20%2F%2Fstring(const%20char*%20str%20%3D%20%5C%22%5C%5C0%5C%22)%20%E9%94%99%E8%AF%AF%E7%A4%BA%E8%8C%83%5Cn%20%2F%2Fstring(const%20char*%20str%20%3D%20nullptr)%20%E9%94%99%E8%AF%AF%E7%A4%BA%E8%8C%83%5Cn%20string(const%20char*%20str%20%3D%20%5C%22%5C%22)%5Cn%20%7B%5Cn%20%2F%2F%20%E6%9E%84%E9%80%A0string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E6%97%B6%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BC%A0%E9%80%92nullptr%E6%8C%87%E9%92%88%EF%BC%8C%E8%AE%A4%E4%B8%BA%E7%A8%8B%E5%BA%8F%E9%9D%9E%E6%B3%95%EF%BC%8C%E6%AD%A4%E5%A4%84%E6%96%AD%E8%A8%80%E4%B8%8B%5Cn%20if(nullptr%20%3D%3D%20str)%5Cn%20%7B%5Cn%20assert(false)%3B%5Cn%20return%3B%5Cn%20%7D%5Cn%20%5Cn%20_str%20%3D%20new%20char%5Bstrlen(str)%20%2B%201%5D%3B%5Cn%20strcpy(_str%2C%20str)%3B%5Cn%20%7D%5Cn%20%5Cn%20~string()%5Cn%20%7B%5Cn%20if(_str)%5Cn%20%7B%5Cn%20delete%5B%5D%20_str%3B%5Cn%20_str%20%3D%20nullptr%3B%5Cn%20%7D%5Cn%20%7D%5Cn%20%5Cnprivate%3A%5Cn%20char*%20_str%3B%5Cn%7D%3B%5Cn%2F%2F%20%E6%B5%8B%E8%AF%95%5Cnvoid%20Teststring()%5Cn%7B%5Cn%20string%20s1(%5C%22hello%20bit!!!%5C%22)%3B%5Cn%20string%20s2(s1)%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22FnnNM%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ud7243524" id="ud7243524"><br></p><p data-lake-id="ue857b6e0" id="ue857b6e0"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748263615121-3753a416-9e94-42fb-8227-ee3dd6b89c92.png%22%2C%22taskId%22%3A%22u2e207100-82fe-462b-b7bf-74b14eea201%22%2C%22clientId%22%3A%22u7a9f6e99-6fe4-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A869.3333333333334%2C%22height%22%3A363%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A77607%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1304%2C%22originHeight%22%3A544%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22PSTR%E6%88%90%E4%B8%BA%E9%87%8E%E6%8C%87%E9%92%88%2C%E5%BD%93%E9%94%80%E6%AF%81S1%E6%97%B6%E5%87%BA%E9%94%99%22%2C%22x%22%3A878%2C%22y%22%3A464%2C%22width%22%3A366%2C%22height%22%3A29%7D%2C%7B%22text%22%3A%22%E6%94%BE%E6%8E%89%2CS2%E5%AF%B9%E8%B1%A1%E6%88%90%E5%8A%9F%E9%94%80%E6%AF%81%2C%E4%BD%86%E6%98%AFS1%E4%B8%AD%22%2C%22x%22%3A870%2C%22y%22%3A425%2C%22width%22%3A374%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22%E8%AF%A5%E7%B1%BB%E6%B2%A1%E6%9C%89%E6%98%BE%E5%BC%8F%E5%AE%9A%E4%B9%89%2C%E5%88%99%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E5%90%88%E6%88%90%E7%9A%84%E9%BB%98%E8%AE%A4%E7%83%A4%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%22%2C%22x%22%3A163%2C%22y%22%3A263%2C%22width%22%3A597%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22%E6%97%B651%E5%92%8C52%E5%85%B1%E7%94%A8%E5%90%8C%E4%B8%80%E5%9D%97%E7%A9%BA%E9%97%B4%22%2C%22x%22%3A296%2C%22y%22%3A480%2C%22width%22%3A285%2C%22height%22%3A28%7D%2C%7B%22text%22%3A%22S2%E9%9C%80%E8%A6%81%E8%B0%83%E7%94%A8STRING%E7%B1%BB%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%9D%A5%E5%88%9B%E5%BB%BA%22%2C%22x%22%3A168%2C%22y%22%3A221%2C%22width%22%3A432%2C%22height%22%3A27%7D%2C%7B%22text%22%3A%22%E5%85%88%E9%94%80%E6%AF%81S2%2CS2%E5%B0%86%E5%85%B6PSTR%E6%89%80%E6%8C%87%E7%9A%84%E7%A9%BA%E9%97%B4%E9%87%8A%22%2C%22x%22%3A871%2C%22y%22%3A387%2C%22width%22%3A405%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22_PSTRNEWCHAR%5BSTRLEN(PSTR)%2B1%5D)%22%2C%22x%22%3A114%2C%22y%22%3A76%2C%22width%22%3A383%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22TEST%E5%87%BD%E6%95%B0%E7%BB%93%E6%9D%9F%E6%97%B6%2C%E9%9C%80%E8%A6%81%E5%B0%86S1%E5%92%8CS2%E9%94%80%E6%AF%81%E6%8E%89%22%2C%22x%22%3A870%2C%22y%22%3A346%2C%22width%22%3A413%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22STRING(CONSTCHARPSTR%3D%5C%22%22%2C%22x%22%3A64%2C%22y%22%3A36%2C%22width%22%3A361%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22STRINGS1%5C%22HELLOBIT!!!%5C%22)%22%2C%22x%22%3A114%2C%22y%22%3A397%2C%22width%22%3A280%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22STRCPY(_PSTR%2CPSTR)%3B%22%2C%22x%22%3A101%2C%22y%22%3A155%2C%22width%22%3A233%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22STRINGS2(S1)%22%2C%22x%22%3A119%2C%22y%22%3A434%2C%22width%22%3A194%2C%22height%22%3A29%7D%2C%7B%22text%22%3A%22DELETE_PSTR%3B%22%2C%22x%22%3A960%2C%22y%22%3A259%2C%22width%22%3A173%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22STRINGO%22%2C%22x%22%3A915%2C%22y%22%3A138%2C%22width%22%3A107%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22VOIDTEST0%22%2C%22x%22%3A85%2C%22y%22%3A316%2C%22width%22%3A136%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22IFCPSTR%22%2C%22x%22%3A932%2C%22y%22%3A217%2C%22width%22%3A104%2C%22height%22%3A27%7D%2C%7B%22text%22%3A%22PSTR_%22%2C%22x%22%3A600%2C%22y%22%3A86%2C%22width%22%3A71%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22%E4%B8%89%22%2C%22x%22%3A796%2C%22y%22%3A143%2C%22width%22%3A24%2C%22height%22%3A174%7D%2C%7B%22text%22%3A%22PSTR%22%2C%22x%22%3A965%2C%22y%22%3A75%2C%22width%22%3A65%2C%22height%22%3A32%7D%2C%7B%22text%22%3A%22%22%2C%22x%22%3A802%2C%22y%22%3A261%2C%22width%22%3A24%2C%22height%22%3A170%7D%2C%7B%22text%22%3A%22S1%22%2C%22x%22%3A581%2C%22y%22%3A49%2C%22width%22%3A56%2C%22height%22%3A18%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fefdfc%22%2C%22id%22%3A%22u26ef5abd%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u9369e24a" id="u9369e24a"><span data-lake-id="u211b4c25" id="u211b4c25" class="lake-fontsize-12" style="color: rgb(119,119,119)">说明：上述</span><strong><span data-lake-id="u9a796fc0" id="u9a796fc0" class="lake-fontsize-12" style="color: rgb(119,119,119)">string类没有显式定义其拷贝构造函数与赋值运算符重载，此时编译器会合成默认的，当用s1构造s2时，编译器会调用默认的拷贝构造。最终导致的问题是，s1、s2共用同一块内存空间，在释放时同一块空间被释放多次而引起程序崩溃</span></strong><span data-lake-id="ufd9d28ed" id="ufd9d28ed" class="lake-fontsize-12" style="color: rgb(119,119,119)">，这种拷贝方式，称为浅拷贝。</span></p><h4 data-lake-id="Pz9gW" id="Pz9gW" collapsed="true"><span data-lake-id="u01bf8cf3" id="u01bf8cf3">3.2 浅拷贝</span></h4><p data-lake-id="u17f8c40e" id="u17f8c40e"><strong><span data-lake-id="u31a77204" id="u31a77204" class="lake-fontsize-12" style="color: rgb(119,119,119)">浅拷贝：也称位拷贝，编译器只是将对象中的值拷贝过来</span></strong><span data-lake-id="u4535d9a1" id="u4535d9a1" class="lake-fontsize-12" style="color: rgb(119,119,119)">。如果</span><strong><span data-lake-id="u2b802f98" id="u2b802f98" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象中管理资源</span></strong><span data-lake-id="u061ee1a8" id="u061ee1a8" class="lake-fontsize-12" style="color: rgb(119,119,119)">，最后就会</span><strong><span data-lake-id="ucf678120" id="ucf678120" class="lake-fontsize-12" style="color: rgb(119,119,119)">导致多个对象共享同一份资源，当一个对象销毁时就会将该资源释放掉，而此时另一些对象不知道该资源已经被释放，以为还有效，所以 当继续对资源进项操作时，就会发生发生了访问违规</span></strong><span data-lake-id="uea362b71" id="uea362b71" class="lake-fontsize-12" style="color: rgb(119,119,119)">。要解决浅拷贝问题，C++中引入了深拷贝。</span></p><h4 data-lake-id="strOY" id="strOY" collapsed="true"><span data-lake-id="uf225fb78" id="uf225fb78">3.3 深拷贝</span></h4><p data-lake-id="uae37bc29" id="uae37bc29"><span data-lake-id="u508ba503" id="u508ba503" class="lake-fontsize-12" style="color: rgb(119,119,119)">如果一个类中涉及到资源的管理，其拷贝构造函数、赋值运算符重载以及析构函数必须要显式给出。一般情况都是按照深拷贝方式提供。</span></p><p data-lake-id="u66d8521d" id="u66d8521d"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748263704935-d0a82803-2666-46f0-9688-90b72db08eb3.png%22%2C%22taskId%22%3A%22u89ebc5a6-0579-475e-98e7-c5280deeb1f%22%2C%22clientId%22%3A%22u7a9f6e99-6fe4-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A534.6666666666666%2C%22height%22%3A323%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A48815%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A802%2C%22originHeight%22%3A485%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22%E6%B7%B1%E6%8B%B7%E8%B4%9D%3A%E7%BB%99%E6%AF%8F%E4%B8%AA%E5%AF%B9%E8%B1%A1%E7%8B%AC%E7%AB%8B%E5%88%86%E9%85%8D%E8%B5%84%E6%BA%90%2C%E4%BF%9D%E8%AF%81%E5%A4%9A%E4%B8%AA%E5%AF%B9%22%2C%22x%22%3A139%2C%22y%22%3A332%2C%22width%22%3A508%2C%22height%22%3A28%7D%2C%7B%22text%22%3A%22%E6%AF%8F%E4%B8%AASTRING%E7%B1%BB%E5%AF%B9%E8%B1%A1%E9%83%BD%E8%A6%81%E7%94%A8%E7%A9%BA%E9%97%B4%E6%9D%A5%E5%AD%98%E6%94%BE%E5%AD%97%E7%AC%A6%E4%B8%B2%2C%E8%80%8C%22%2C%22x%22%3A141%2C%22y%22%3A251%2C%22width%22%3A509%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22%E8%B1%A1%E4%B9%8B%E9%97%B4%E4%B8%8D%E4%BC%9A%E5%9B%A0%E5%85%B1%E4%BA%AB%E8%B5%84%E6%BA%90%E8%80%8C%E9%80%A0%E6%88%90%E5%A4%9A%E6%AC%A1%E9%87%8A%E6%94%BE%22%2C%22x%22%3A236%2C%22y%22%3A374%2C%22width%22%3A413%2C%22height%22%3A28%7D%2C%7B%22text%22%3A%22S2%E8%A6%81%E7%94%A8S1%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BA%E6%9D%A5%2C%E5%9B%A0%E6%AD%A4%22%2C%22x%22%3A140%2C%22y%22%3A291%2C%22width%22%3A322%2C%22height%22%3A28%7D%2C%7B%22text%22%3A%22%3A_PSTRNEWCHAR%5BSTRLEN(S._PSTR%2B1%5D)%22%2C%22x%22%3A204%2C%22y%22%3A66%2C%22width%22%3A420%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22STRINGCONSTSTRING%26S%22%2C%22x%22%3A174%2C%22y%22%3A23%2C%22width%22%3A278%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22STRCPY(PSTR%2CS_PSTR%3B%22%2C%22x%22%3A201%2C%22y%22%3A146%2C%22width%22%3A261%2C%22height%22%3A28%7D%2C%7B%22text%22%3A%22%E9%80%A0%E6%88%90%E7%A8%8B%E5%BA%8F%E5%A5%94%E6%BA%83%E9%97%AE%E9%A2%98%22%2C%22x%22%3A237%2C%22y%22%3A414%2C%22width%22%3A198%2C%22height%22%3A27%7D%2C%7B%22text%22%3A%22S1%E7%9A%84%E5%88%AB%E5%90%8D%22%2C%22x%22%3A427%2C%22y%22%3A5%2C%22width%22%3A123%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22%22%2C%22x%22%3A704%2C%22y%22%3A259%2C%22width%22%3A16%2C%22height%22%3A158%7D%2C%7B%22text%22%3A%22PSTR%22%2C%22x%22%3A45%2C%22y%22%3A46%2C%22width%22%3A73%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22PSTR%22%2C%22x%22%3A685%2C%22y%22%3A43%2C%22width%22%3A72%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22%E5%8F%B7%22%2C%22x%22%3A698%2C%22y%22%3A122%2C%22width%22%3A18%2C%22height%22%3A82%7D%2C%7B%22text%22%3A%22%E5%AD%90%22%2C%22x%22%3A55%2C%22y%22%3A107%2C%22width%22%3A20%2C%22height%22%3A81%7D%2C%7B%22text%22%3A%22%22%2C%22x%22%3A702%2C%22y%22%3A358%2C%22width%22%3A21%2C%22height%22%3A93%7D%2C%7B%22text%22%3A%22S2%22%2C%22x%22%3A681%2C%22y%22%3A1%2C%22width%22%3A32%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22S1%22%2C%22x%22%3A33%2C%22y%22%3A6%2C%22width%22%3A37%2C%22height%22%3A20%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fefefe%22%2C%22id%22%3A%22u4294299c%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><h5 data-lake-id="gr1kO" id="gr1kO"><span data-lake-id="ub794e4c5" id="ub794e4c5" style="color: #262626">3.3.1 传统版写法的string类</span></h5><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20string%5Cn%7B%5Cnpublic%3A%5Cn%5Ctstring(const%20char*%20str%20%3D%20%5C%22%5C%22)%5Cn%5Ct%7B%5Cn%5Ct%5Ct%2F%2F%20%E6%9E%84%E9%80%A0string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E6%97%B6%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BC%A0%E9%80%92nullptr%E6%8C%87%E9%92%88%EF%BC%8C%E8%AE%A4%E4%B8%BA%E7%A8%8B%E5%BA%8F%E9%9D%9E%E6%B3%95%EF%BC%8C%E6%AD%A4%E5%A4%84%E6%96%AD%E8%A8%80%E4%B8%8B%5Cn%5Ct%5Ctif%20(nullptr%20%3D%3D%20str)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctassert(false)%3B%5Cn%5Ct%5Ct%5Ctreturn%3B%5Cn%5Ct%5Ct%7D%5Cn%5Cn%5Ct%5Ct_str%20%3D%20new%20char%5Bstrlen(str)%20%2B%201%5D%3B%5Cn%5Ct%5Ctstrcpy(_str%2C%20str)%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctstring(const%20string%26%20s)%5Cn%5Ct%5Ct%3A%20_str(new%20char%5Bstrlen(s._str)%20%2B%201%5D)%5Cn%5Ct%7B%5Cn%5Ct%5Ctstrcpy(_str%2C%20s._str)%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctstring%26%20operator%3D(const%20string%26%20s)%5Cn%5Ct%7B%5Cn%5Ct%5Ctif%20(this%20!%3D%20%26s)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctchar*%20pStr%20%3D%20new%20char%5Bstrlen(s._str)%20%2B%201%5D%3B%5Cn%5Ct%5Ct%5Ctstrcpy(pStr%2C%20s._str)%3B%5Cn%5Ct%5Ct%5Ctdelete%5B%5D%20_str%3B%5Cn%5Ct%5Ct%5Ct_str%20%3D%20pStr%3B%5Cn%5Ct%5Ct%7D%5Cn%5Cn%5Ct%5Ctreturn%20*this%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct~string()%5Cn%5Ct%7B%5Cn%5Ct%5Ctif%20(_str)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctdelete%5B%5D%20_str%3B%5Cn%5Ct%5Ct%5Ct_str%20%3D%20nullptr%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%5Cnprivate%3A%5Cn%5Ctchar*%20_str%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22VIMtR%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h5 data-lake-id="rE5mE" id="rE5mE"><span data-lake-id="uc434ef0e" id="uc434ef0e">3.3.2 现代版写法的string类</span></h5><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20string%5Cn%7B%5Cnpublic%3A%5Cn%5Ctstring(const%20char*%20str%20%3D%20%5C%22%5C%22)%5Cn%5Ct%7B%5Cn%5Ct%5Ctif%20(nullptr%20%3D%3D%20str)%5Cn%5Ct%5Ct%5Ctstr%20%3D%20%5C%22%5C%22%3B%5Cn%5Ct%5Ct_str%20%3D%20new%20char%5Bstrlen(str)%20%2B%201%5D%3B%5Cn%5Ct%5Ctstrcpy(_str%2C%20str)%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctstring(const%20string%26%20s)%5Cn%5Ct%5Ct%3A%20_str(nullptr)%5Cn%5Ct%7B%5Cn%5Ct%5Ctstring%20strTmp(s._str)%3B%5Cn%5Ct%5Ctswap(_str%2C%20strTmp._str)%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%2F%2F%20%E5%AF%B9%E6%AF%94%E4%B8%8B%E5%92%8C%E4%B8%8A%E9%9D%A2%E7%9A%84%E8%B5%8B%E5%80%BC%E9%82%A3%E4%B8%AA%E5%AE%9E%E7%8E%B0%E6%AF%94%E8%BE%83%E5%A5%BD%EF%BC%9F%5Cn%5Ctstring%26%20operator%3D(string%20s)%5Cn%5Ct%7B%5Cn%5Ct%5Ctswap(_str%2C%20s._str)%3B%5Cn%5Ct%5Ctreturn%20*this%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct%2F*%5Cn%5Ctstring%26%20operator%3D(const%20string%26%20s)%5Cn%5Ct%7B%5Cn%5Ctif(this%20!%3D%20%26s)%5Cn%5Ct%7B%5Cn%5Ctstring%20strTmp(s)%3B%5Cn%5Ctswap(_str%2C%20strTmp._str)%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ctreturn%20*this%3B%5Cn%5Ct%7D%5Cn%5Ct*%2F%5Cn%5Cn%5Ct~string()%5Cn%5Ct%7B%5Cn%5Ct%5Ctif%20(_str)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctdelete%5B%5D%20_str%3B%5Cn%5Ct%5Ct%5Ct_str%20%3D%20nullptr%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%5Cnprivate%3A%5Cn%5Ctchar*%20_str%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22J1iWO%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h4 data-lake-id="pYFN5" id="pYFN5" collapsed="true"><span data-lake-id="u67eb7869" id="u67eb7869">3.4 写时拷贝（了解）</span></h4><p data-lake-id="u92049d82" id="u92049d82"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748264810774-a8644a2a-cf1f-42d0-b088-83dadb4f5e9c.png%22%2C%22taskId%22%3A%22u590a1452-9230-4e99-8c86-785ad80024c%22%2C%22clientId%22%3A%22u7a9f6e99-6fe4-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A517.3333333333334%2C%22height%22%3A332%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A278851%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A776%2C%22originHeight%22%3A498%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22%E6%8B%96%E5%BB%B6%E7%97%87%E6%83%A0%E8%80%85%22%2C%22x%22%3A218%2C%22y%22%3A213%2C%22width%22%3A205%2C%22height%22%3A39%7D%2C%7B%22text%22%3A%22OO%22%2C%22x%22%3A605%2C%22y%22%3A60%2C%22width%22%3A140%2C%22height%22%3A62%7D%2C%7B%22text%22%3A%22%E5%90%84%E7%A7%8D%E9%80%9A%E5%AE%B5%2C%E7%AB%9E%E7%84%B6%E4%B9%9F%E8%83%BD%E5%9C%A8%22%2C%22x%22%3A371%2C%22y%22%3A29%2C%22width%22%3A242%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22%E6%AF%8F%E6%AC%A1%E9%83%BD%E6%98%AF%E5%91%A8%E4%B8%80%E5%AF%BC%E5%B8%88%22%2C%22x%22%3A35%2C%22y%22%3A1%2C%22width%22%3A192%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22%E8%A6%81%E8%A7%81%E9%9D%A2%2C%E6%88%91%E5%91%A8%E5%85%AD%E6%89%8D%22%2C%22x%22%3A35%2C%22y%22%3A33%2C%22width%22%3A190%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22%E5%91%A8%E6%9C%AA%E5%8F%88%E7%8E%A9%E5%91%BD%E7%9A%84%22%2C%22x%22%3A597%2C%22y%22%3A415%2C%22width%22%3A149%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%229%E7%82%B9%E9%92%9F%E5%89%8D%E7%88%AC%E8%B5%B7%E6%9D%A5%E4%BA%86%22%2C%22x%22%3A366%2C%22y%22%3A59%2C%22width%22%3A186%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22%E8%B9%A6%E8%BE%BE%E4%B8%80%E5%91%A8%2C%E5%88%B0%22%2C%22x%22%3A600%2C%22y%22%3A385%2C%22width%22%3A147%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22%E6%88%91%E5%8F%88TMD%E6%B4%BB%E8%B9%A6%22%2C%22x%22%3A228%2C%22y%22%3A332%2C%22width%22%3A152%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22%E7%AD%89%E5%91%A8%E4%B8%80%E5%BF%97%E5%BF%91%E7%9A%84%22%2C%22x%22%3A229%2C%22y%22%3A271%2C%22width%22%3A145%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22%E5%BC%80%E5%A7%8B%E5%81%9A%E8%AE%BE%E8%AE%A1%22%2C%22x%22%3A34%2C%22y%22%3A63%2C%22width%22%3A123%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22%E8%A7%81%E4%BA%86%E8%80%81%E5%B8%88%E5%90%8E%2C%22%2C%22x%22%3A228%2C%22y%22%3A301%2C%22width%22%3A129%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22%E4%BD%A0TM%E5%9C%A8%E9%80%97%E6%88%91%22%2C%22x%22%3A618%2C%22y%22%3A344%2C%22width%22%3A125%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22%E8%B5%B6%E4%BD%9C%E4%B8%9A%22%2C%22x%22%3A597%2C%22y%22%3A446%2C%22width%22%3A79%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22%E4%B9%B1%E8%B7%B3%E4%BA%86%22%2C%22x%22%3A229%2C%22y%22%3A361%2C%22width%22%3A62%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22%22%2C%22x%22%3A240%2C%22y%22%3A147%2C%22width%22%3A101%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%221%22%2C%22x%22%3A149%2C%22y%22%3A451%2C%22width%22%3A38%2C%22height%22%3A13%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23dfdfdf%22%2C%22id%22%3A%22u4089b9e5%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="ua78ea94d" id="ua78ea94d"><span data-lake-id="u4c2c8e44" id="u4c2c8e44" class="lake-fontsize-12" style="color: rgb(119,119,119)">写时拷贝就是一种拖延症，是在浅拷贝的基础之上增加了引用计数的方式来实现的。 </span></p><p data-lake-id="ucb9d5555" id="ucb9d5555"><span data-lake-id="u9b6e3760" id="u9b6e3760" class="lake-fontsize-12" style="color: rgb(119,119,119)">引用计数：用来记录资源使用者的个数。在构造时，将资源的计数给成1，每增加一个对象使用该资源，就给计数增加1，当某个对象被销毁时，先给该计数减1，然后再检查是否需要释放资源，如果计数为1，说明该对象时资源的最后一个使用者，将该资源释放；否则就不能释放，因为还有其他对象在使用该资源。</span></p><p data-lake-id="u0da267ef" id="u0da267ef"><span data-lake-id="uda6bd632" id="uda6bd632" class="lake-fontsize-12" style="color: rgb(119,119,119)">​</span><br></p><h4 data-lake-id="RG8ch" id="RG8ch" collapsed="true"><span data-lake-id="u15c1aad2" id="u15c1aad2" style="color: #262626">3.5 string类的模拟实现</span></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22string%E7%B1%BB%E7%9A%84%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22namespace%20bit%5Cn%7B%5Cn%5Ctclass%20string%5Cn%5Ct%7B%5Cn%5Ctpublic%3A%5Cn%5Ct%5Cttypedef%20char*%20iterator%3B%5Cn%5Ctpublic%3A%5Cn%5Ct%5Ctstring(const%20char*%20str%20%3D%20%5C%22%5C%22)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct_size%20%3D%20strlen(str)%3B%5Cn%5Ct%5Ct%5Ct_capacity%20%3D%20_size%3B%5Cn%5Ct%5Ct%5Ct_str%20%3D%20new%20char%5B_capacity%20%2B%201%5D%3B%5Cn%5Ct%5Ct%5Ctstrcpy(_str%2C%20str)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctstring(const%20string%26%20s)%5Cn%5Ct%5Ct%5Ct%3A%20_str(nullptr)%5Cn%5Ct%5Ct%5Ct%2C%20_size(0)%5Cn%5Ct%5Ct%5Ct%2C%20_capacity(0)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctstring%20tmp(s._str)%3B%5Cn%5Ct%5Ct%5Ctthis-%3Eswap(tmp)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctstring%26%20operator%3D(string%20s)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctthis-%3ESwap(s)%5Cn%5Ct%5Ct%5Ct%5Ctreturn%20*this%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ct~string()%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctif%20(_str)%5Cn%5Ct%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct%5Ctdelete%5B%5D%20_str%3B%5Cn%5Ct%5Ct%5Ct%5Ct_str%20%3D%20nullptr%3B%5Cn%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ct%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%5Cn%5Ct%5Ct%2F%2F%20iterator%5Cn%5Ct%5Ctiterator%20begin()%20%7B%20return%20_str%3B%20%7D%5Cn%5Ct%5Ctiterator%20end()%20%7B%20return%20_str%20%2B%20_size%3B%20%7D%5Cn%5Ct%5Ct%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%5Cn%5Ct%5Ct%2F%2F%20modify%5Cn%5Ct%5Ctvoid%20push_back(char%20c)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctif%20(_size%20%3D%3D%20_capacity)%5Cn%5Ct%5Ct%5Ct%5CtReserve(_capacity%20*%202)%3B%5Cn%5Cn%5Ct%5Ct%5Ct_str%5B_size%2B%2B%5D%20%3D%20c%3B%5Cn%5Ct%5Ct%5Ct_str%5B_size%5D%20%3D%20'%5C%5C0'%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctstring%26%20operator%2B%3D(char%20c)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5CtPushBack(c)%3B%5Cn%5Ct%5Ct%5Ctreturn%20*this%3B%5Cn%5Ct%5Ct%7D%5Cn%5Cn%5Ct%5Ct%2F%2F%20%E4%BD%9C%E4%B8%9A%E5%AE%9E%E7%8E%B0%5Cn%5Ct%5Ctvoid%20append(const%20char*%20str)%3B%5Cn%5Ct%5Ctstring%26%20operator%2B%3D(const%20char*%20str)%3B%5Cn%5Ct%5Ctvoid%20clear()%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct_size%20%3D%200%3B%5Cn%5Ct%5Ct%5Ct_str%5B_size%5D%20%3D%20'%5C%5C0'%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctvoid%20swap(string%26%20s)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctswap(_str%2C%20s._str)%3B%5Cn%5Ct%5Ct%5Ctswap(_size%2C%20s._size)%3B%5Cn%5Ct%5Ct%5Ctswap(_capacity%2C%20s._capacity)%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctconst%20char*%20c_str()const%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctreturn%20_str%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ct%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%5Cn%5Ct%5Ct%2F%2F%20capacity%5Cn%5Ct%5Ctsize_t%20size()const%5Cn%5Ct%5Ct%5Ctsize_t%20capacity()const%5Cn%5Ct%5Ct%5Ctbool%20empty()const%5Cn%5Cn%5Ct%5Ct%5Ctvoid%20resize(size_t%20newSize%2C%20char%20c%20%3D%20'%5C%5C0')%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctif%20(newSize%20%3E%20_size)%5Cn%5Ct%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct%5Ct%2F%2F%20%E5%A6%82%E6%9E%9CnewSize%E5%A4%A7%E4%BA%8E%E5%BA%95%E5%B1%82%E7%A9%BA%E9%97%B4%E5%A4%A7%E5%B0%8F%EF%BC%8C%E5%88%99%E9%9C%80%E8%A6%81%E9%87%8D%E6%96%B0%E5%BC%80%E8%BE%9F%E7%A9%BA%E9%97%B4%5Cn%5Ct%5Ct%5Ct%5Ctif%20(newSize%20%3E%20_capacity)%5Cn%5Ct%5Ct%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct%5Ct%5CtReserve(newSize)%3B%5Cn%5Ct%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%5Ct%5Ctmemset(_str%20%2B%20_size%2C%20c%2C%20newSize%20-%20_size)%3B%5Cn%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%5Ct_size%20%3D%20newSize%3B%5Cn%5Ct%5Ct%5Ct_str%5BnewSize%5D%20%3D%20'%5C%5C0'%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctvoid%20reserve(size_t%20newCapacity)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct%2F%2F%20%E5%A6%82%E6%9E%9C%E6%96%B0%E5%AE%B9%E9%87%8F%E5%A4%A7%E4%BA%8E%E6%97%A7%E5%AE%B9%E9%87%8F%EF%BC%8C%E5%88%99%E5%BC%80%E8%BE%9F%E7%A9%BA%E9%97%B4%5Cn%5Ct%5Ct%5Ctif%20(newCapacity%20%3E%20_capacity)%5Cn%5Ct%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ct%5Ctchar*%20str%20%3D%20new%20char%5BnewCapacity%20%2B%201%5D%3B%5Cn%5Ct%5Ct%5Ct%5Ctstrcpy(str%2C%20_str)%3B%5Cn%5Ct%5Ct%5Ct%5Ct%2F%2F%20%E9%87%8A%E6%94%BE%E5%8E%9F%E6%9D%A5%E6%97%A7%E7%A9%BA%E9%97%B4%2C%E7%84%B6%E5%90%8E%E4%BD%BF%E7%94%A8%E6%96%B0%E7%A9%BA%E9%97%B4%5Cn%5Ct%5Ct%5Ct%5Ctdelete%5B%5D%20_str%3B%5Cn%5Ct%5Ct%5Ct%5Ct_str%20%3D%20str%3B%5Cn%5Ct%5Ct%5Ct%5Ct_capacity%20%3D%20newCapacity%3B%5Cn%5Ct%5Ct%5Ct%7D%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ct%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%5Cn%5Ct%5Ct%2F%2F%20access%5Cn%5Ct%5Ctchar%26%20operator%5B%5D(size_t%20index)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctassert(index%20%3C%20_size)%3B%5Cn%5Ct%5Ct%5Ctreturn%20_str%5Bindex%5D%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctconst%20char%26%20operator%5B%5D(size_t%20index)const%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5Ctassert(index%20%3C%20_size)%3B%5Cn%5Ct%5Ct%5Ctreturn%20_str%5Bindex%5D%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ct%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%5Cn%5Ct%5Ct%2F%2F%20%E4%BD%9C%E4%B8%9A%5Cn%5Ct%5Ctbool%20operator%3C(const%20string%26%20s)%3B%5Cn%5Ct%5Ctbool%20operator%3C%3D(const%20string%26%20s)%3B%5Cn%5Ct%5Ctbool%20operator%3E(const%20string%26%20s)%3B%5Cn%5Ct%5Ctbool%20operator%3E%3D(const%20string%26%20s)%3B%5Cn%5Ct%5Ctbool%20operator%3D%3D(const%20string%26%20s)%3B%5Cn%5Ct%5Ctbool%20operator!%3D(const%20string%26%20s)%3B%5Cn%5Ct%5Ct%2F%2F%20%E8%BF%94%E5%9B%9Ec%E5%9C%A8string%E4%B8%AD%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%87%BA%E7%8E%B0%E7%9A%84%E4%BD%8D%E7%BD%AE%5Cn%5Ct%5Ctsize_t%20find(char%20c%2C%20size_t%20pos%20%3D%200)%20const%3B%5Cn%5Ct%5Ct%2F%2F%20%E8%BF%94%E5%9B%9E%E5%AD%90%E4%B8%B2s%E5%9C%A8string%E4%B8%AD%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%87%BA%E7%8E%B0%E7%9A%84%E4%BD%8D%E7%BD%AE%5Cn%5Ct%5Ctsize_t%20find(const%20char*%20s%2C%20size_t%20pos%20%3D%200)%20const%3B%5Cn%5Cn%5Ct%5Ct%2F%2F%20%E5%9C%A8pos%E4%BD%8D%E7%BD%AE%E4%B8%8A%E6%8F%92%E5%85%A5%E5%AD%97%E7%AC%A6c%2F%E5%AD%97%E7%AC%A6%E4%B8%B2str%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%E8%AF%A5%E5%AD%97%E7%AC%A6%E7%9A%84%E4%BD%8D%E7%BD%AE%5Cn%5Ct%5Ctstring%26%20insert(size_t%20pos%2C%20char%20c)%3B%5Cn%5Ct%5Ctstring%26%20insert(size_t%20pos%2C%20const%20char*%20str)%3B%5Cn%5Ct%5Ct%2F%2F%20%E5%88%A0%E9%99%A4pos%E4%BD%8D%E7%BD%AE%E4%B8%8A%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%8C%E5%B9%B6%E8%BF%94%E5%9B%9E%E8%AF%A5%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%8B%E4%B8%80%E4%B8%AA%E4%BD%8D%E7%BD%AE%5Cn%5Ct%5Ctstring%26%20erase(size_t%20pos%2C%20size_t%20len)%3B%5Cn%5Ctprivate%3A%5Cn%5Ct%5Ctfriend%20ostream%26%20operator%3C%3C(ostream%26%20_cout%2C%20const%20bit%3A%3Astring%26%20s)%3B%5Cn%5Ct%5Ctfriend%20istream%26%20operator%3E%3E(istream%26%20_cin%2C%20bit%3A%3Astring%26%20s)%3B%5Cn%5Ctprivate%3A%5Cn%5Ct%5Ctchar*%20_str%3B%5Cn%5Ct%5Ctsize_t%20_capacity%3B%5Cn%5Ct%5Ctsize_t%20_size%3B%5Cn%5Ct%7D%3B%5Cn%7D%5Cnostream%26%20bit%3A%3Aoperator%3C%3C(ostream%26%20_cout%2C%20const%20bit%3A%3Astring%26%20s)%5Cn%7B%5Cn%5Ct%2F%2F%20%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E8%BF%99%E4%B8%AA%5Cn%5Ct%2F%2Fcout%20%3C%3C%20s._str%3B%5Cn%5Ctfor%20(size_t%20i%20%3D%200%3B%20i%20%3C%20s.size()%3B%20%2B%2Bi)%5Cn%5Ct%7B%5Cn%5Ct%5Ct_cout%20%3C%3C%20s%5Bi%5D%3B%5Cn%5Ct%7D%5Cn%5Ctreturn%20_cout%3B%5Cn%7D%5Cn%2F%2F%2F%2F%2F%2F%2F%E5%AF%B9%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84string%E7%B1%BB%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95%5Cnvoid%20TestBitstring()%5Cn%7B%5Cn%5Ctbit%3A%3Astring%20s1(%5C%22hello%5C%22)%3B%5Cn%5Cts1.push_back('%20')%3B%5Cn%5Cts1.push_back('b')%3B%5Cn%5Cts1.append(1%2C%20'i')%3B%5Cn%5Cts1%20%2B%3D%20't'%3B%5Cn%5Ctcout%20%3C%3C%20s1%20%3C%3C%20endl%3B%5Cn%5Ctcout%20%3C%3C%20s1.size()%20%3C%3C%20endl%3B%5Cn%5Ctcout%20%3C%3C%20s1.capacity()%20%3C%3C%20endl%3B%5Cn%5Ct%2F%2F%20%E5%88%A9%E7%94%A8%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%89%93%E5%8D%B0string%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0%5Cn%5Ctstring%3A%3Aiterator%20it%20%3D%20s1.begin()%3B%5Cn%5Ctwhile%20(it%20!%3D%20s1.end())%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20*it%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%5Ct%5Ct%2B%2Bit%3B%5Cn%5Ct%7D%5Cn%5Ctcout%20%3C%3C%20endl%3B%5Cn%5Cn%5Ct%2F%2F%20%E8%BF%99%E9%87%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E4%B8%80%E4%B8%AA%E7%B1%BB%E5%8F%AA%E8%A6%81%E6%94%AF%E6%8C%81%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%9A%84iterator%EF%BC%8C%E5%B0%B1%E6%94%AF%E6%8C%81%E8%8C%83%E5%9B%B4for%5Cn%5Ctfor%20(auto%20ch%20%3A%20s1)%5Cn%5Ct%5Ctcout%20%3C%3C%20ch%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%5Ctcout%20%3C%3C%20endl%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22string%E7%B1%BB%E7%9A%84%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22jgZ3F%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u12f540ff" id="u12f540ff"><br></p><h3 data-lake-id="scJdD" id="scJdD" collapsed="true"><span data-lake-id="u7e5d28e6" id="u7e5d28e6">4.扩展阅读</span></h3><p data-lake-id="u84ed609f" id="u84ed609f"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fblog.csdn.net%2Fhaoel%2Farticle%2Fdetails%2F1491219%22%2C%22text%22%3A%22https%3A%2F%2Fblog.csdn.net%2Fhaoel%2Farticle%2Fdetails%2F1491219%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fg.csdnimg.cn%2Fstatic%2Flogo%2Ffavicon32.ico%22%2C%22image%22%3A%22https%3A%2F%2Fcsdnimg.cn%2Frelease%2Fblogv2%2Fdist%2Fpc%2Fimg%2Foriginal.png%22%2C%22title%22%3A%22STL%20%E7%9A%84string%E7%B1%BB%E6%80%8E%E4%B9%88%E5%95%A6%EF%BC%9F_bool%20operator%3D%3D(string%20str)%20%E5%90%8E%E9%9D%A2%E5%86%99%E4%BB%80%E4%B9%88-CSDN%E5%8D%9A%E5%AE%A2%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22%E6%96%87%E7%AB%A0%E6%B5%8F%E8%A7%88%E9%98%85%E8%AF%BB4.5w%E6%AC%A1%EF%BC%8C%E7%82%B9%E8%B5%9E50%E6%AC%A1%EF%BC%8C%E6%94%B6%E8%97%8F60%E6%AC%A1%E3%80%82%20STL%20%E7%9A%84string%E7%B1%BB%E6%80%8E%E4%B9%88%E5%95%A6%EF%BC%9F%E9%99%88%E7%9A%93%20%E5%89%8D%E8%A8%80%20%E4%B8%8A%E4%B8%AA%E5%91%A8%E6%9C%AB%E5%9C%A8%E5%92%8C%E6%88%91%E7%9A%84%E5%90%8C%E5%AD%A6%E7%88%AC%E9%A6%99%E5%B1%B1%E9%97%B2%E8%81%8A%E6%97%B6%EF%BC%8C%E5%90%8C%E5%AD%A6%E8%AF%B4%E5%88%B0STL%E4%B8%AD%E7%9A%84string%E7%B1%BB%E6%9B%BE%E7%BB%8F%E8%AE%A9%E4%BB%96%E5%A4%87%E5%8F%97%E6%8A%98%E7%A3%A8%EF%BC%8C%E5%87%A0%E5%B9%B4%E5%89%8D%E4%BB%96%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E7%B3%BB%E7%BB%9F%E5%89%8D%E5%AF%B9string%E7%B1%BB%E8%BF%98%E6%AF%94%E8%BE%83%E6%B8%85%E6%A5%9A%EF%BC%8C%E7%84%B6%E5%90%8E%E9%9A%8F%E7%9D%80%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%9A%84%E5%8A%A0%E6%B7%B1%EF%BC%8C%E5%88%B0%E4%BA%86%E5%90%8E%E6%9C%9F%EF%BC%8C%E4%BB%96%E5%87%A0%E4%B9%8E%E5%AF%B9string%E7%B1%BB%E5%A4%B1%E5%8E%BB%E4%BA%86%E4%BF%A1%E5%BF%83%E5%92%8C%E4%BF%A1%E4%BB%BB%EF%BC%8C%E4%BB%96%E8%A7%89%E5%BE%97%E4%BB%96%E5%AF%B9string%E7%B1%BB%E4%B8%80%E5%A4%B4%E9%9B%BE%E6%B0%B4%E3%80%82%E8%80%81%E5%AE%9E%E8%AF%B4%EF%BC%8C%E6%88%91%E5%87%A0%E5%B9%B4%E5%89%8D%E4%B9%9F%E6%9C%89%E5%90%8C%E6%A0%B7%E7%9A%84%E7%97%9B%E8%8B%A6%EF%BC%88%E5%B0%B1%E6%98%AF%E5%BD%93%E6%88%91%E5%86%99%E4%B8%8B%E3%80%8A%E6%A0%87%E5%87%86C%EF%BC%8B%EF%BC%8B%E7%B1%BBstring%E7%9A%84Copy-O_bool%20operator%3D%3D(string%20str)%20%E5%90%8E%E9%9D%A2%E5%86%99%E4%BB%80%E4%B9%88%22%2C%22url%22%3A%22https%3A%2F%2Fblog.csdn.net%2Fhaoel%2Farticle%2Fdetails%2F1491219%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Q0fOQ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><p data-lake-id="u79f50d90" id="u79f50d90"><span data-lake-id="u38a1b75d" id="u38a1b75d" class="lake-fontsize-12">searching： 面试中string的一种正确写法</span></p><h2 data-lake-id="r9Xar" id="r9Xar" collapsed="true"><span data-lake-id="u503831db" id="u503831db">Lesson--vector  --0:48:53</span></h2><h3 data-lake-id="MjEY0" id="MjEY0" collapsed="true"><strong><span data-lake-id="ub0076847" id="ub0076847" class="lake-fontsize-12" style="color: rgb(51,51,51)">1.vector的介绍及使用</span></strong></h3><h4 data-lake-id="UWlOD" id="UWlOD"><strong><span data-lake-id="u5bdc400e" id="u5bdc400e" class="lake-fontsize-12" style="color: rgb(51,51,51)">1.1 vector的介绍</span></strong></h4><p data-lake-id="u561c48c6" id="u561c48c6"><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fcplusplus.com%2Freference%2Fvector%2Fvector%2F%22%2C%22text%22%3A%22https%3A%2F%2Fcplusplus.com%2Freference%2Fvector%2Fvector%2F%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fcplusplus.com%2Ffavicon.ico%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3Anull%2C%22url%22%3A%22https%3A%2F%2Fcplusplus.com%2Freference%2Fvector%2Fvector%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%2C%22title%22%3A%22vector%E7%9A%84%E6%96%87%E6%A1%A3%E4%BB%8B%E7%BB%8D%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22GIopA%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><p data-lake-id="ud32d1bf6" id="ud32d1bf6" style="padding-left: 2em"><strong><span data-lake-id="ub9c8254b" id="ub9c8254b" class="lake-fontsize-12" style="color: rgb(119,119,119)">1.</span></strong><span data-lake-id="uc1b8c012" id="uc1b8c012" class="lake-fontsize-12" style="color: rgb(119,119,119)"> vector是表示可变大小数组的序列容器。 </span></p><p data-lake-id="u57d14d28" id="u57d14d28" style="padding-left: 2em"><strong><span data-lake-id="u8cf45dc9" id="u8cf45dc9" class="lake-fontsize-12" style="color: rgb(119,119,119)">2.</span></strong><span data-lake-id="u8e4dfacb" id="u8e4dfacb" class="lake-fontsize-12" style="color: rgb(119,119,119)"> 就像数组一样，vector也采用的连续存储空间来存储元素。也就是意味着可以采用下标对vector的元素进行访问，和数组一样高效。但是又不像数组，它的大小是可以动态改变的，而且它的大小会被容器自动处理。 </span></p><p data-lake-id="u88bd5772" id="u88bd5772" style="padding-left: 2em"><strong><span data-lake-id="u66e1cba2" id="u66e1cba2" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span></strong><span data-lake-id="u7978fc9b" id="u7978fc9b" class="lake-fontsize-12" style="color: rgb(119,119,119)">本质讲，vector使用动态分配数组来存储它的元素。当新元素插入时候，这个数组需要被重新分配大小为了增加存储空间。其做法是，分配一个新的数组，然后将全部元素移到这个数组。就时间而言，这是一个相对代价高的任务，因为每当一个新的元素加入到容器的时候，vector并不会每次都重新分配大小。 </span></p><p data-lake-id="ubc7b9eb9" id="ubc7b9eb9" style="padding-left: 2em"><strong><span data-lake-id="u04b1e7f7" id="u04b1e7f7" class="lake-fontsize-12" style="color: rgb(119,119,119)">4.</span></strong><span data-lake-id="u4a839e3a" id="u4a839e3a" class="lake-fontsize-12" style="color: rgb(119,119,119)"> vector分配空间策略：vector会分配一些额外的空间以适应可能的增长，因为存储空间比实际需要的存储空间更大。不同的库采用不同的策略权衡空间的使用和重新分配。但是无论如何，重新分配都应该是对数增长的间隔大小，以至于在末尾插入一个元素的时候是在常数时间的复杂度完成的。 </span></p><p data-lake-id="u6f4d1ec1" id="u6f4d1ec1" style="padding-left: 2em"><strong><span data-lake-id="uca4fb4aa" id="uca4fb4aa" class="lake-fontsize-12" style="color: rgb(119,119,119)">5.</span></strong><span data-lake-id="ubd046069" id="ubd046069" class="lake-fontsize-12" style="color: rgb(119,119,119)"> 因此，vector占用了更多的存储空间，为了获得管理存储空间的能力，并且以一种有效的方式动态增长。 </span></p><p data-lake-id="uea67192b" id="uea67192b" style="padding-left: 2em"><strong><span data-lake-id="u29a7d675" id="u29a7d675" class="lake-fontsize-12" style="color: rgb(119,119,119)">6.</span></strong><span data-lake-id="u3f5aac9c" id="u3f5aac9c" class="lake-fontsize-12" style="color: rgb(119,119,119)"> 与其它动态序列容器相比（deques, lists and forward_lists）， vector在访问元素的时候更加高效，在末尾添加和删除元素相对高效。对于其它不在末尾的删除和插入操作，效率更低。比起lists和forward_lists统一的迭代器和引用更好。 </span></p><p data-lake-id="ub5e7ee66" id="ub5e7ee66" style="text-indent: 2em"><span data-lake-id="u8550cf28" id="u8550cf28" class="lake-fontsize-12" style="color: rgb(119,119,119)">学习方法：使用STL的三个境界：能用，明理，能扩展 ，那么下面学习vector，我们也是按照这个方法去学习</span></p><h4 data-lake-id="yKUNl" id="yKUNl"><strong><span data-lake-id="u9e51bed0" id="u9e51bed0" class="lake-fontsize-12" style="color: rgb(51,51,51)">1.2 vector的使用</span></strong></h4><p data-lake-id="uee9e8036" id="uee9e8036"><span data-lake-id="u96128725" id="u96128725" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector学习时一定要学会查看文档： </span><a href="http://www.cplusplus.com/reference/vector/vector/" target="_blank" data-lake-id="u1c9aa885" id="u1c9aa885"><span data-lake-id="u8aa4b416" id="u8aa4b416" class="lake-fontsize-12" style="color: rgb(0,0,0)">vector的文档介绍</span></a><span data-lake-id="u87f2da75" id="u87f2da75" class="lake-fontsize-12" style="color: rgb(65,131,196)"> </span><span data-lake-id="uf4872a9b" id="uf4872a9b" class="lake-fontsize-12" style="color: rgb(119,119,119)">，vector在实际中非常的重要，在实际中我们熟悉常 见的接口就可以，下面列出了</span><strong><span data-lake-id="uf89846fc" id="uf89846fc" class="lake-fontsize-12" style="color: rgb(119,119,119)">哪些接口是要重点掌握的</span></strong><span data-lake-id="ud1e14456" id="ud1e14456" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><h5 data-lake-id="BYoTH" id="BYoTH"><span data-lake-id="u483b4b67" id="u483b4b67" style="color: rgb(119,119,119)">1.2.1 vector的定义</span></h5><table data-lake-id="zMoJu" id="zMoJu" margin="true" class="lake-table" style="width: 911px"><colgroup><col width="615"><col width="296"></colgroup><tbody><tr data-lake-id="ua403fe5a" id="ua403fe5a" style="height: 38px"><td data-lake-id="u6827a42b" id="u6827a42b" style="background-color: rgb(248,248,248)"><p data-lake-id="u12c30b10" id="u12c30b10" style="text-align: left"><strong><span data-lake-id="u6c420880" id="u6c420880" class="lake-fontsize-12" style="color: rgb(119,119,119)">（constructor）构造函数声明</span></strong></p></td><td data-lake-id="u22131572" id="u22131572" style="background-color: rgb(248,248,248)"><p data-lake-id="ud01820c8" id="ud01820c8" style="text-align: left"><strong><span data-lake-id="u62a07c5e" id="u62a07c5e" class="lake-fontsize-12" style="color: rgb(119,119,119)">接口说明</span></strong></p></td></tr><tr data-lake-id="ue0b0a1f8" id="ue0b0a1f8"><td data-lake-id="u3472c175" id="u3472c175" style="background-color: rgb(248,248,248)"><p data-lake-id="ub07d1b91" id="ub07d1b91" style="text-align: left"><span data-lake-id="ucda855ff" id="ucda855ff" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector()（重点）</span></p></td><td data-lake-id="u1c7cb15f" id="u1c7cb15f" style="background-color: rgb(248,248,248)"><p data-lake-id="u4d0d1c0a" id="u4d0d1c0a" style="text-align: left"><span data-lake-id="u5d30020f" id="u5d30020f" class="lake-fontsize-12" style="color: rgb(119,119,119)">无参构造</span></p></td></tr><tr data-lake-id="uec1d7cea" id="uec1d7cea"><td data-lake-id="ucccca32b" id="ucccca32b" style="background-color: rgb(248,248,248)"><p data-lake-id="ufb3c346e" id="ufb3c346e" style="text-align: left"><span data-lake-id="u56b1d130" id="u56b1d130" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector</span><span data-lake-id="u5d44c04b" id="u5d44c04b" class="lake-fontsize-12" style="color: rgb(119,119,119)">（</span><span data-lake-id="u24ca5962" id="u24ca5962" class="lake-fontsize-12" style="color: rgb(119,119,119)">size</span><span data-lake-id="uf4d9a78f" id="uf4d9a78f" class="lake-fontsize-12" style="color: rgb(119,119,119)">_</span><span data-lake-id="ub9af4ecd" id="ub9af4ecd" class="lake-fontsize-12" style="color: rgb(119,119,119)">type</span><span data-lake-id="u8cd6e7ae" id="u8cd6e7ae" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="u7a66dd8c" id="u7a66dd8c" class="lake-fontsize-12" style="color: rgb(119,119,119)">n</span><span data-lake-id="u14ccb2f2" id="u14ccb2f2" class="lake-fontsize-12" style="color: rgb(119,119,119)">, </span><span data-lake-id="uc1a4ac44" id="uc1a4ac44" class="lake-fontsize-12" style="color: rgb(119,119,119)">const</span><span data-lake-id="u240203a3" id="u240203a3" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="uf6f9564d" id="uf6f9564d" class="lake-fontsize-12" style="color: rgb(119,119,119)">value</span><span data-lake-id="ufa629eb1" id="ufa629eb1" class="lake-fontsize-12" style="color: rgb(119,119,119)">_</span><span data-lake-id="ubbd25d94" id="ubbd25d94" class="lake-fontsize-12" style="color: rgb(119,119,119)">type</span><span data-lake-id="uff2cdb48" id="uff2cdb48" class="lake-fontsize-12" style="color: rgb(119,119,119)">&amp; </span><span data-lake-id="ua0153de9" id="ua0153de9" class="lake-fontsize-12" style="color: rgb(119,119,119)">val</span><span data-lake-id="u9077bddc" id="u9077bddc" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="u2d25d15c" id="u2d25d15c" class="lake-fontsize-12" style="color: rgb(119,119,119)">= </span><span data-lake-id="u1c990e55" id="u1c990e55" class="lake-fontsize-12" style="color: rgb(119,119,119)">value</span><span data-lake-id="u0668c828" id="u0668c828" class="lake-fontsize-12" style="color: rgb(119,119,119)">_</span><span data-lake-id="ue1405741" id="ue1405741" class="lake-fontsize-12" style="color: rgb(119,119,119)">type</span><span data-lake-id="u3662ca57" id="u3662ca57" class="lake-fontsize-12" style="color: rgb(119,119,119)">()</span><span data-lake-id="u88493171" id="u88493171" class="lake-fontsize-12" style="color: rgb(119,119,119)">）</span></p></td><td data-lake-id="u36ba6d74" id="u36ba6d74" style="background-color: rgb(248,248,248)"><p data-lake-id="u64e7d475" id="u64e7d475" style="text-align: left"><span data-lake-id="ubaf9b0f9" id="ubaf9b0f9" class="lake-fontsize-12" style="color: rgb(119,119,119)">构造并初始化</span><span data-lake-id="u62d0136a" id="u62d0136a" class="lake-fontsize-12" style="color: rgb(119,119,119)">n</span><span data-lake-id="ua4e9ba92" id="ua4e9ba92" class="lake-fontsize-12" style="color: rgb(119,119,119)">个</span><span data-lake-id="u76d7fc0e" id="u76d7fc0e" class="lake-fontsize-12" style="color: rgb(119,119,119)">val</span></p></td></tr><tr data-lake-id="u25a9ce50" id="u25a9ce50"><td data-lake-id="u69a88d8a" id="u69a88d8a"><p data-lake-id="u302b8a68" id="u302b8a68" style="text-align: left"><span data-lake-id="ud0898bb4" id="ud0898bb4" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector</span><span data-lake-id="u4e30ba51" id="u4e30ba51" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="u7a1ef4b3" id="u7a1ef4b3" class="lake-fontsize-12" style="color: rgb(119,119,119)">(</span><span data-lake-id="ub2b9cfa1" id="ub2b9cfa1" class="lake-fontsize-12" style="color: rgb(119,119,119)">const</span><span data-lake-id="u91b71bcf" id="u91b71bcf" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="u2a86f8ae" id="u2a86f8ae" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector</span><span data-lake-id="u127684cf" id="u127684cf" class="lake-fontsize-12" style="color: rgb(119,119,119)">&amp; x); </span><span data-lake-id="u8333fbf9" id="u8333fbf9" class="lake-fontsize-12" style="color: rgb(119,119,119)">（重点）</span></p></td><td data-lake-id="u63631217" id="u63631217"><p data-lake-id="ud6aa27b2" id="ud6aa27b2" style="text-align: left"><span data-lake-id="u439baa8a" id="u439baa8a" class="lake-fontsize-12" style="color: rgb(119,119,119)">拷贝构造</span></p></td></tr><tr data-lake-id="ufdc03e9f" id="ufdc03e9f"><td data-lake-id="ub04e63cf" id="ub04e63cf" style="background-color: rgb(248,248,248)"><p data-lake-id="u2e6ea7e7" id="u2e6ea7e7" style="text-align: left"><span data-lake-id="u4a29364e" id="u4a29364e" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector (InputIterator ﬁrst, InputIterat</span><span data-lake-id="ueddfafc6" id="ueddfafc6" class="lake-fontsize-12" style="color: rgb(119,119,119)">or last);</span></p></td><td data-lake-id="ufd4ea83e" id="ufd4ea83e" style="background-color: rgb(248,248,248)"><p data-lake-id="ub3ec650e" id="ub3ec650e" style="text-align: left"><span data-lake-id="ue2c3dbd9" id="ue2c3dbd9" class="lake-fontsize-12" style="color: rgb(119,119,119)">使用迭代器进行初始化构造</span></p></td></tr></tbody></table><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20constructing%20vectors%5Cn%23include%20%3Ciostream%3E%20%23include%20%3Cvector%3E%5Cnint%20main%20()%20%5Cn%7B%5Cn%20%20%20%20%2F%2F%20constructors%20used%20in%20the%20same%20order%20as%20described%20above%3A%5Cn%20%20%20%20std%3A%3Avector%3Cint%3E%20first%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20empty%20vector%20of%20ints%5Cn%20%20%20%20std%3A%3Avector%3Cint%3E%20second%20(4%2C100)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20four%20ints%20with%20value%20100%5Cn%20%20%20%20std%3A%3Avector%3Cint%3E%20third%20(second.begin()%2Csecond.end())%3B%20%20%2F%2F%20iterating%20through%20second%20std%3A%3Avector%3Cint%3E%20fourth%20(third)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20a%20copy%20of%20third%5Cn%20%20%20%20%2F%2F%20%E4%B8%8B%E9%9D%A2%E6%B6%89%E5%8F%8A%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E9%83%A8%E5%88%86%EF%BC%8C%E6%88%91%E4%BB%AC%E5%AD%A6%E4%B9%A0%E5%AE%8C%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%86%8D%E6%9D%A5%E7%9C%8B%E8%BF%99%E9%83%A8%E5%88%86%5Cn%20%20%20%20%2F%2F%20the%20iterator%20constructor%20can%20also%20be%20used%20to%20construct%20from%20arrays%3A%5Cn%20%20%20%20int%20myints%5B%5D%20%3D%20%7B16%2C2%2C77%2C29%7D%3B%5Cn%20%20%20%20std%3A%3Avector%3Cint%3E%20fifth%20(myints%2C%20myints%20%2B%20sizeof(myints)%20%2F%20sizeof(int)%20)%3B%5Cn%20%20%20%20%5Cn%20%20%20%20std%3A%3Acout%20%3C%3C%20%5C%22The%20contents%20of%20fifth%20are%3A%5C%22%3B%5Cn%20%20%20%20for%20(std%3A%3Avector%3Cint%3E%3A%3Aiterator%20it%20%3D%20fifth.begin()%3B%20%5Cn%20%20%20%20%20%20%20%20it%20!%3D%20fifth.end()%3B%20%2B%2Bit)%20std%3A%3Acout%20%3C%3C%20'%20'%20%3C%3C%20*it%3B%5Cn%20%20%20%20std%3A%3Acout%20%3C%3C%20'%5C%5Cn'%3B%5Cn%20%20%20%20%5Cn%20%20%20%20return%200%3B%20%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22B4plF%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h5 data-lake-id="nlyGS" id="nlyGS"><span data-lake-id="u2166b804" id="u2166b804" style="color: rgb(119,119,119)">1.2.2 vector iterator 的使用</span></h5><table data-lake-id="GwBaw" id="GwBaw" margin="true" width-mode="normal" class="lake-table" style="width: 695px"><colgroup><col width="347"><col width="348"></colgroup><tbody><tr data-lake-id="uddf7eca4" id="uddf7eca4"><td data-lake-id="u41e79161" id="u41e79161"><p data-lake-id="u3fadf6d8" id="u3fadf6d8" style="text-align: left"><strong><span data-lake-id="u42abda4d" id="u42abda4d" class="lake-fontsize-12" style="color: rgb(119,119,119)">iterator</span></strong><strong><span data-lake-id="u7e159995" id="u7e159995" class="lake-fontsize-12" style="color: rgb(119,119,119)">的使用</span></strong></p></td><td data-lake-id="u8d69a5da" id="u8d69a5da"><p data-lake-id="u26b5ef36" id="u26b5ef36" style="text-align: left"><strong><span data-lake-id="u14e95648" id="u14e95648" class="lake-fontsize-12" style="color: rgb(119,119,119)">接口说明</span></strong></p></td></tr><tr data-lake-id="u4c44ab4b" id="u4c44ab4b" style="height: 74px"><td data-lake-id="ub193fda0" id="ub193fda0"><p data-lake-id="u8f4016f1" id="u8f4016f1" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/begin/" target="_blank" data-lake-id="u13e1856e" id="u13e1856e"><span data-lake-id="u3162958c" id="u3162958c" class="lake-fontsize-12" style="color: rgb(0,0,0)">begin</span></a><span data-lake-id="u9b82989b" id="u9b82989b" class="lake-fontsize-12" style="color: rgb(119,119,119)">+</span></p><p data-lake-id="u581f149f" id="u581f149f" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/end/" target="_blank" data-lake-id="u99a0438d" id="u99a0438d"><span data-lake-id="uf0503ec6" id="uf0503ec6" class="lake-fontsize-12" style="color: rgb(0,0,0)">end</span></a><span data-lake-id="u386e2122" id="u386e2122" class="lake-fontsize-12" style="color: rgb(119,119,119)">（重点）</span></p></td><td data-lake-id="u34cd83b3" id="u34cd83b3"><p data-lake-id="u3e4cd50c" id="u3e4cd50c" style="text-align: left"><span data-lake-id="uc09d73fd" id="uc09d73fd" class="lake-fontsize-12" style="color: rgb(119,119,119)">获取第一个数据位置的</span><span data-lake-id="u181a373a" id="u181a373a" class="lake-fontsize-12" style="color: rgb(119,119,119)">iterator</span><span data-lake-id="u24d5505c" id="u24d5505c" class="lake-fontsize-12" style="color: rgb(119,119,119)">/</span><span data-lake-id="uc3f63a2a" id="uc3f63a2a" class="lake-fontsize-12" style="color: rgb(119,119,119)">const</span><span data-lake-id="u679f6ea3" id="u679f6ea3" class="lake-fontsize-12" style="color: rgb(119,119,119)">_</span><span data-lake-id="ud1ab5697" id="ud1ab5697" class="lake-fontsize-12" style="color: rgb(119,119,119)">iterator</span><span data-lake-id="u284042ae" id="u284042ae" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="u3ac7f139" id="u3ac7f139" class="lake-fontsize-12" style="color: rgb(119,119,119)">，</span><span data-lake-id="ub0e1307e" id="ub0e1307e" class="lake-fontsize-12" style="color: rgb(119,119,119)">获取最后一个数</span><span data-lake-id="u4c82a2c7" id="u4c82a2c7" class="lake-fontsize-12" style="color: rgb(119,119,119)">据的下一个位置</span><span data-lake-id="uef781965" id="uef781965" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="u254d3b58" id="u254d3b58" class="lake-fontsize-12" style="color: rgb(119,119,119)">的</span><span data-lake-id="uc64852f1" id="uc64852f1" class="lake-fontsize-12" style="color: rgb(119,119,119)">iterator/const_iterator</span></p></td></tr><tr data-lake-id="u2b44b5bf" id="u2b44b5bf" style="height: 74px"><td data-lake-id="ue68f478f" id="ue68f478f" style="background-color: rgb(248,248,248)"><p data-lake-id="u2bc6c5c0" id="u2bc6c5c0" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/rbegin/" target="_blank" data-lake-id="ufabe51c5" id="ufabe51c5"><span data-lake-id="u93b1f37a" id="u93b1f37a" class="lake-fontsize-12" style="color: rgb(0,0,0)">rbegin</span></a><span data-lake-id="u5dc0a4be" id="u5dc0a4be" class="lake-fontsize-12" style="color: rgb(119,119,119)">+ </span><a href="http://www.cplusplus.com/reference/vector/vector/rend/" target="_blank" data-lake-id="u14309a7f" id="u14309a7f"><span data-lake-id="uf4b65ae4" id="uf4b65ae4" class="lake-fontsize-12" style="color: rgb(0,0,0)">rend</span></a></p></td><td data-lake-id="ud8161287" id="ud8161287" style="background-color: rgb(248,248,248)"><p data-lake-id="u63d0ecf2" id="u63d0ecf2" style="text-align: left"><span data-lake-id="u88461372" id="u88461372" class="lake-fontsize-12" style="color: rgb(119,119,119)">获取最后一个数据位置的</span><span data-lake-id="ua30bccff" id="ua30bccff" class="lake-fontsize-12" style="color: rgb(119,119,119)">reverse</span><span data-lake-id="u1707e0e6" id="u1707e0e6" class="lake-fontsize-12" style="color: rgb(119,119,119)">_</span><span data-lake-id="uff101a9e" id="uff101a9e" class="lake-fontsize-12" style="color: rgb(119,119,119)">iterator</span><span data-lake-id="u8aee2986" id="u8aee2986" class="lake-fontsize-12" style="color: rgb(119,119,119)">，获取第一个数据前一</span><span data-lake-id="ude2c428e" id="ude2c428e" class="lake-fontsize-12" style="color: rgb(119,119,119)">个位置的</span><span data-lake-id="u885a2c13" id="u885a2c13" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="u575ed2e4" id="u575ed2e4" class="lake-fontsize-12" style="color: rgb(119,119,119)">reverse_iterator</span></p></td></tr></tbody></table><p data-lake-id="ufd3d0667" id="ufd3d0667"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748348488892-33768f13-c8b3-4914-b96b-a532fc74620b.png%22%2C%22taskId%22%3A%22u7d5ef85f-1ea6-4542-9677-4492a11207c%22%2C%22clientId%22%3A%22uff147670-6bdd-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A604.6666666666666%2C%22height%22%3A201%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1097793%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A907%2C%22originHeight%22%3A302%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22BEGIN)%22%2C%22x%22%3A66%2C%22y%22%3A69%2C%22width%22%3A117%2C%22height%22%3A33%7D%2C%7B%22text%22%3A%22END%22%2C%22x%22%3A726%2C%22y%22%3A71%2C%22width%22%3A88%2C%22height%22%3A29%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23dedede%22%2C%22id%22%3A%22ua7abfda9%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u5715977b" id="u5715977b"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748348512308-06909f9d-b963-40a5-8bf3-3105d0256711.png%22%2C%22taskId%22%3A%22uc047fd81-6a02-4dd3-bdad-a971982fd7d%22%2C%22clientId%22%3A%22uff147670-6bdd-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A468.6666666666667%2C%22height%22%3A140%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A591768%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A703%2C%22originHeight%22%3A210%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22VEC.RBEGIN(%22%2C%22x%22%3A497%2C%22y%22%3A164%2C%22width%22%3A176%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22VEC.BEGIN()%22%2C%22x%22%3A52%2C%22y%22%3A1%2C%22width%22%3A164%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22VEC.REND%22%2C%22x%22%3A0%2C%22y%22%3A165%2C%22width%22%3A145%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22EC.END()%22%2C%22x%22%3A538%2C%22y%22%3A2%2C%22width%22%3A131%2C%22height%22%3A21%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23f4f4f4%22%2C%22id%22%3A%22u69d93bf0%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%20%23include%20%3Cvector%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnvoid%20PrintVector(const%20vector%3Cint%3E%26%20v)%20%7B%5Cn%5Ct%2F%2F%20const%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8const%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%BF%9B%E8%A1%8C%E9%81%8D%E5%8E%86%E6%89%93%E5%8D%B0%5Cn%5Ctvector%3Cint%3E%3A%3Aconst_iterator%20it%20%3D%20v.begin()%3B%20while%20(it%20!%3D%20v.end())%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20*it%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%5Ct%5Ct%2B%2Bit%3B%5Cn%5Ct%7D%5Cn%5Ctcout%20%3C%3C%20endl%3B%5Cn%7D%5Cn%5Cnint%20main()%20%7B%5Cn%5Ct%2F%2F%20%E4%BD%BF%E7%94%A8push_back%E6%8F%92%E5%85%A54%E4%B8%AA%E6%95%B0%E6%8D%AE%5Cn%5Ctvector%3Cint%3E%20v%3B%5Cn%5Ctv.push_back(1)%3B%5Cn%5Ctv.push_back(2)%3B%5Cn%5Ctv.push_back(3)%3B%5Cn%5Ctv.push_back(4)%3B%5Cn%5Ct%2F%2F%20%E4%BD%BF%E7%94%A8%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%BF%9B%E8%A1%8C%E9%81%8D%E5%8E%86%E6%89%93%E5%8D%B0%5Cn%5Ctvector%3Cint%3E%3A%3Aiterator%20it%20%3D%20v.begin()%3B%5Cn%5Ctwhile%20(it%20!%3D%20v.end())%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20*it%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%5Ct%5Ct%2B%2Bit%3B%5Cn%5Ct%7D%5Cn%5Ctcout%20%3C%3C%20endl%3B%5Cn%5Ct%2F%2F%20%E4%BD%BF%E7%94%A8%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%BF%9B%E8%A1%8C%E4%BF%AE%E6%94%B9%5Cn%5Ctit%20%3D%20v.begin()%3B%5Cn%5Ctwhile%20(it%20!%3D%20v.end())%5Cn%5Ct%7B%5Cn%5Ct%5Ct*it%20*%3D%202%3B%5Cn%5Ct%5Ct%2B%2Bit%3B%5Cn%5Ct%7D%5Cn%5Ct%2F%2F%20%E4%BD%BF%E7%94%A8%E5%8F%8D%E5%90%91%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%BF%9B%E8%A1%8C%E9%81%8D%E5%8E%86%E5%86%8D%E6%89%93%E5%8D%B0%5Cn%5Ctvector%3Cint%3E%3A%3Areverse_iterator%20rit%20%3D%20v.rbegin()%3B%5Cn%5Ctwhile%20(rit%20!%3D%20v.rend())%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20*rit%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%5Ct%5Ct%2B%2Brit%3B%5Cn%5Ct%7D%5Cn%5Ctcout%20%3C%3C%20endl%3B%5Cn%5CtPrintVector(v)%3B%5Cn%5Ctreturn%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22WWFPW%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h5 data-lake-id="lnbAA" id="lnbAA"><span data-lake-id="ud59b19e1" id="ud59b19e1" style="color: rgb(119,119,119)">1.2.3 vector 空间增长问题</span></h5><table data-lake-id="brJP1" id="brJP1" margin="true" class="lake-table" style="width: 914px"><colgroup><col width="403"><col width="511"></colgroup><tbody><tr data-lake-id="u59667c79" id="u59667c79"><td data-lake-id="u2fc281dd" id="u2fc281dd"><p data-lake-id="ud061dcef" id="ud061dcef" style="text-align: left"><strong><span data-lake-id="u0fb740e1" id="u0fb740e1" class="lake-fontsize-12" style="color: rgb(119,119,119)">容量空间</span></strong></p></td><td data-lake-id="u2b69f0c0" id="u2b69f0c0"><p data-lake-id="uc689cbe8" id="uc689cbe8" style="text-align: left"><strong><span data-lake-id="uffdc8e52" id="uffdc8e52" class="lake-fontsize-12" style="color: rgb(119,119,119)">接口说明</span></strong></p></td></tr><tr data-lake-id="uc4c7bc16" id="uc4c7bc16"><td data-lake-id="uf1de76c7" id="uf1de76c7"><p data-lake-id="u63cf05a6" id="u63cf05a6" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/size/" target="_blank" data-lake-id="ub3e98188" id="ub3e98188"><span data-lake-id="u078ee215" id="u078ee215" class="lake-fontsize-12" style="color: rgb(0,0,0)">size</span></a></p></td><td data-lake-id="u60008a0e" id="u60008a0e"><p data-lake-id="u7de5b19d" id="u7de5b19d" style="text-align: left"><span data-lake-id="uf3a0cd3c" id="uf3a0cd3c" class="lake-fontsize-12" style="color: rgb(119,119,119)">获取数据个数</span></p></td></tr><tr data-lake-id="u060bc827" id="u060bc827"><td data-lake-id="u15735193" id="u15735193" style="background-color: rgb(248,248,248)"><p data-lake-id="u396133ba" id="u396133ba" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/capacity/" target="_blank" data-lake-id="u67a16dc1" id="u67a16dc1"><span data-lake-id="u6300c95b" id="u6300c95b" class="lake-fontsize-12" style="color: rgb(0,0,0)">capacity</span></a></p></td><td data-lake-id="ua8794ec3" id="ua8794ec3" style="background-color: rgb(248,248,248)"><p data-lake-id="u4e0708cf" id="u4e0708cf" style="text-align: left"><span data-lake-id="u7e5e825d" id="u7e5e825d" class="lake-fontsize-12" style="color: rgb(119,119,119)">获取容量大小</span></p></td></tr><tr data-lake-id="uaf08b8ad" id="uaf08b8ad"><td data-lake-id="ubdb6f543" id="ubdb6f543"><p data-lake-id="u82243a44" id="u82243a44" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/empty/" target="_blank" data-lake-id="u20ea020c" id="u20ea020c"><span data-lake-id="u15311e36" id="u15311e36" class="lake-fontsize-12" style="color: rgb(0,0,0)">empty</span></a></p></td><td data-lake-id="ua61c77e4" id="ua61c77e4"><p data-lake-id="u9ce88335" id="u9ce88335" style="text-align: left"><span data-lake-id="ua3f6de9d" id="ua3f6de9d" class="lake-fontsize-12" style="color: rgb(119,119,119)">判断是否为空</span></p></td></tr><tr data-lake-id="u0e217061" id="u0e217061"><td data-lake-id="u5092c145" id="u5092c145" style="background-color: rgb(248,248,248)"><p data-lake-id="u94e3bbf4" id="u94e3bbf4" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/resize/" target="_blank" data-lake-id="ue858f090" id="ue858f090"><span data-lake-id="u5b6ba229" id="u5b6ba229" class="lake-fontsize-12" style="color: rgb(0,0,0)">resize</span></a><span data-lake-id="u63d25dbc" id="u63d25dbc" class="lake-fontsize-12" style="color: rgb(119,119,119)">（重点）</span></p></td><td data-lake-id="u02656845" id="u02656845" style="background-color: rgb(248,248,248)"><p data-lake-id="u27f2e981" id="u27f2e981" style="text-align: left"><span data-lake-id="u4e43e22d" id="u4e43e22d" class="lake-fontsize-12" style="color: rgb(119,119,119)">改变</span><span data-lake-id="u675f88ec" id="u675f88ec" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector</span><span data-lake-id="udd881241" id="udd881241" class="lake-fontsize-12" style="color: rgb(119,119,119)">的</span><span data-lake-id="u906a56d2" id="u906a56d2" class="lake-fontsize-12" style="color: rgb(119,119,119)">size</span></p></td></tr><tr data-lake-id="ud3fe2ba2" id="ud3fe2ba2"><td data-lake-id="u83cc5c59" id="u83cc5c59"><p data-lake-id="u24809f86" id="u24809f86" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/reserve/" target="_blank" data-lake-id="u64a906b0" id="u64a906b0"><span data-lake-id="u0b62a799" id="u0b62a799" class="lake-fontsize-12" style="color: rgb(0,0,0)">reserve</span></a><strong><span data-lake-id="u0ca4f98a" id="u0ca4f98a" class="lake-fontsize-12" style="color: rgb(65,131,196)"> </span></strong><span data-lake-id="u4096ffdc" id="u4096ffdc" class="lake-fontsize-12" style="color: rgb(119,119,119)">（重点）</span></p></td><td data-lake-id="u8c675106" id="u8c675106"><p data-lake-id="uacfe1650" id="uacfe1650" style="text-align: left"><span data-lake-id="u60a23961" id="u60a23961" class="lake-fontsize-12" style="color: rgb(119,119,119)">改变</span><span data-lake-id="udd550c97" id="udd550c97" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector</span><span data-lake-id="uc91868d3" id="uc91868d3" class="lake-fontsize-12" style="color: rgb(119,119,119)">放入</span><span data-lake-id="u41fe013e" id="u41fe013e" class="lake-fontsize-12" style="color: rgb(119,119,119)">capacity</span></p></td></tr></tbody></table><ul list="u39a08d8a"><li fid="ub06e7273" data-lake-id="u9f1d9a8a" id="u9f1d9a8a"><span data-lake-id="u2ed68586" id="u2ed68586" class="lake-fontsize-12" style="color: rgb(119,119,119)">capacity的代码在vs和g++下分别运行会发现，</span><strong><span data-lake-id="u38510dd1" id="u38510dd1" class="lake-fontsize-12" style="color: rgb(119,119,119)">vs下capacity是按1.5倍增长的，g++是按2倍增长的</span></strong><span data-lake-id="u09ce19f5" id="u09ce19f5" class="lake-fontsize-12" style="color: rgb(119,119,119)">。这个问题经常会考察，不要固化的认为，顺序表增容都是2倍，具体增长多少是根据具体的需求定义的。vs是PJ版本STL，g++是SGI版本STL。 </span></li><li fid="ub06e7273" data-lake-id="uff372471" id="uff372471"><span data-lake-id="u7e121dbf" id="u7e121dbf" class="lake-fontsize-12" style="color: rgb(119,119,119)">reserve只负责开辟空间，如果确定知道需要用多少空间，reserve可以缓解vector增容的代价缺陷问题。 </span></li><li fid="ub06e7273" data-lake-id="u5e6cbecf" id="u5e6cbecf"><span data-lake-id="ue9d78d79" id="ue9d78d79" class="lake-fontsize-12" style="color: rgb(119,119,119)">resize在开空间的同时还会进行初始化，影响size。</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20vector%3A%3Acapacity%5Cn%23include%20%3Ciostream%3E%5Cn%23include%20%3Cvector%3E%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20size_t%20sz%3B%5Cn%20%20%20%20std%3A%3Avector%3Cint%3E%20foo%3B%5Cn%20%20%20%20sz%20%3D%20foo.capacity()%3B%5Cn%20%20%20%20std%3A%3Acout%20%3C%3C%20%5C%22making%20foo%20grow%3A%5C%5Cn%5C%22%3B%5Cn%20%20%20%20for%20(int%20i%20%3D%200%3B%20i%20%3C%20100%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20foo.push_back(i)%3B%5Cn%20%20%20%20%20%20%20%20if%20(sz%20!%3D%20foo.capacity())%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20sz%20%3D%20foo.capacity()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20std%3A%3Acout%20%3C%3C%20%5C%22capacity%20changed%3A%20%5C%22%20%3C%3C%20sz%20%3C%3C%20'%5C%5Cn'%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%5Cnvs%EF%BC%9A%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A%5Cnmaking%20foo%20grow%20%3A%5Cncapacity%20changed%20%3A%201%5Cncapacity%20changed%20%3A%202%5Cncapacity%20changed%20%3A%203%5Cncapacity%20changed%20%3A%204%5Cncapacity%20changed%20%3A%206%5Cncapacity%20changed%20%3A%209%5Cncapacity%20changed%20%3A%2013%5Cncapacity%20changed%20%3A%2019%5Cncapacity%20changed%20%3A%2028%5Cncapacity%20changed%20%3A%2042%5Cncapacity%20changed%20%3A%2063%5Cncapacity%20changed%20%3A%2094%5Cncapacity%20changed%20%3A%20141%5Cng%2B%2B%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A%5Cnmaking%20foo%20grow%20%3A%5Cncapacity%20changed%20%3A%201%5Cncapacity%20changed%20%3A%202%5Cncapacity%20changed%20%3A%204%5Cncapacity%20changed%20%3A%208%5Cncapacity%20changed%20%3A%2016%5Cncapacity%20changed%20%3A%2032%5Cncapacity%20changed%20%3A%2064%5Cncapacity%20changed%20%3A%20128%5Cn%2F%2F%20vector%3A%3Areserve%5Cn%23include%20%3Ciostream%3E%5Cn%23include%20%3Cvector%3E%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20size_t%20sz%3B%5Cn%20%20%20%20std%3A%3Avector%3Cint%3E%20foo%3B%5Cn%20%20%20%20sz%20%3D%20foo.capacity()%3B%5Cn%20%20%20%20std%3A%3Acout%20%3C%3C%20%5C%22making%20foo%20grow%3A%5C%5Cn%5C%22%3B%5Cn%20%20%20%20for%20(int%20i%20%3D%200%3B%20i%20%3C%20100%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20foo.push_back(i)%3B%5Cn%20%20%20%20%20%20%20%20if%20(sz%20!%3D%20foo.capacity())%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20sz%20%3D%20foo.capacity()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20std%3A%3Acout%20%3C%3C%20%5C%22capacity%20changed%3A%20%5C%22%20%3C%3C%20sz%20%3C%3C%20'%5C%5Cn'%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20std%3A%3Avector%3Cint%3E%20bar%3B%5Cn%20%20%20%20sz%20%3D%20bar.capacity()%3B%5Cn%20%20%20%20bar.reserve(100)%3B%20%2F%2F%20this%20is%20the%20only%20difference%20with%20foo%20above%5Cn%20%20%20%20std%3A%3Acout%20%3C%3C%20%5C%22making%20bar%20grow%3A%5C%5Cn%5C%22%3B%5Cn%20%20%20%20for%20(int%20i%20%3D%200%3B%20i%20%3C%20100%3B%20%2B%2Bi)%20%7B%5Cn%20%20%20%20%20%20%20%20bar.push_back(i)%3B%5Cn%20%20%20%20%20%20%20%20if%20(sz%20!%3D%20bar.capacity())%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20sz%20%3D%20bar.capacity()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20std%3A%3Acout%20%3C%3C%20%5C%22capacity%20changed%3A%20%5C%22%20%3C%3C%20sz%20%3C%3C%20'%5C%5Cn'%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20return%200%3B%5Cn%7D%5Cn%2F%2F%20vector%3A%3Aresize%5Cn%23include%20%3Ciostream%3E%5Cn%23include%20%3Cvector%3E%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20std%3A%3Avector%3Cint%3E%20myvector%3B%5Cn%20%20%20%20%2F%2F%20set%20some%20initial%20content%3A%5Cn%20%20%20%20for%20(int%20i%20%3D%201%3B%20i%20%3C%2010%3B%20i%2B%2B)%5Cn%20%20%20%20%20%20%20%20myvector.push_back(i)%3B%5Cn%20%20%20%20myvector.resize(5)%3B%5Cn%20%20%20%20myvector.resize(8%2C%20100)%3B%5Cn%20%20%20%20myvector.resize(12)%3B%5Cn%20%20%20%20std%3A%3Acout%20%3C%3C%20%5C%22myvector%20contains%3A%5C%22%3B%5Cn%20%20%20%20for%20(int%20i%20%3D%200%3B%20i%20%3C%20myvector.size()%3B%20i%2B%2B)%5Cn%20%20%20%20%20%20%20%20std%3A%3Acout%20%3C%3C%20'%20'%20%3C%3C%20myvector%5Bi%5D%3B%5Cn%20%20%20%20std%3A%3Acout%20%3C%3C%20'%5C%5Cn'%3B%5Cn%20%20%20%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22JHdME%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h5 data-lake-id="ccO02" id="ccO02"><span data-lake-id="uf3a09294" id="uf3a09294">1.2.4 vector 增删查改</span></h5><table data-lake-id="ZrGQO" id="ZrGQO" margin="true" class="lake-table" style="width: 444px"><colgroup><col width="222"><col width="222"></colgroup><tbody><tr data-lake-id="u5ee043ea" id="u5ee043ea"><td data-lake-id="u1734e346" id="u1734e346"><p data-lake-id="u314bd88b" id="u314bd88b" style="text-align: left"><strong><span data-lake-id="u107cf390" id="u107cf390" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector</span></strong><strong><span data-lake-id="u1e7c8de6" id="u1e7c8de6" class="lake-fontsize-12" style="color: rgb(119,119,119)">增删查改</span></strong></p></td><td data-lake-id="u2cecec33" id="u2cecec33"><p data-lake-id="uafeb5f1d" id="uafeb5f1d" style="text-align: left"><strong><span data-lake-id="ua5cffedc" id="ua5cffedc" class="lake-fontsize-12" style="color: rgb(119,119,119)">接口说明</span></strong></p></td></tr><tr data-lake-id="u6f37d384" id="u6f37d384"><td data-lake-id="ub82366f0" id="ub82366f0"><p data-lake-id="u532aae44" id="u532aae44" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/push_back/" target="_blank" data-lake-id="u1c3fee11" id="u1c3fee11"><span data-lake-id="uba1a436b" id="uba1a436b" class="lake-fontsize-12" style="color: rgb(0,0,0)">push_back</span></a><span data-lake-id="ua11fff05" id="ua11fff05" class="lake-fontsize-12" style="color: rgb(119,119,119)">（重点）</span></p></td><td data-lake-id="uc1262153" id="uc1262153"><p data-lake-id="udf0f094c" id="udf0f094c" style="text-align: left"><span data-lake-id="u437e2ba3" id="u437e2ba3" class="lake-fontsize-12" style="color: rgb(119,119,119)">尾插</span></p></td></tr><tr data-lake-id="ub1e739f2" id="ub1e739f2"><td data-lake-id="u17a4f420" id="u17a4f420" style="background-color: rgb(248,248,248)"><p data-lake-id="ucb9a2c6d" id="ucb9a2c6d" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/pop_back/" target="_blank" data-lake-id="u85125dbc" id="u85125dbc"><span data-lake-id="u95712308" id="u95712308" class="lake-fontsize-12" style="color: rgb(0,0,0)">pop_back</span></a><strong><span data-lake-id="u289ad3aa" id="u289ad3aa" class="lake-fontsize-12" style="color: rgb(65,131,196)"> </span></strong><span data-lake-id="u55048a1e" id="u55048a1e" class="lake-fontsize-12" style="color: rgb(119,119,119)">（重点）</span></p></td><td data-lake-id="u2474913a" id="u2474913a" style="background-color: rgb(248,248,248)"><p data-lake-id="u6c3409d2" id="u6c3409d2" style="text-align: left"><span data-lake-id="ubb8b1c9a" id="ubb8b1c9a" class="lake-fontsize-12" style="color: rgb(119,119,119)">尾删</span></p></td></tr><tr data-lake-id="u84d2458b" id="u84d2458b"><td data-lake-id="uded05b01" id="uded05b01"><p data-lake-id="u54f6e584" id="u54f6e584" style="text-align: left"><a href="http://www.cplusplus.com/reference/algorithm/find/?kw=find" target="_blank" data-lake-id="u90502129" id="u90502129"><span data-lake-id="u7085b8dd" id="u7085b8dd" class="lake-fontsize-12" style="color: rgb(0,0,0)">ﬁnd</span></a></p></td><td data-lake-id="u7eda2be3" id="u7eda2be3"><p data-lake-id="u5becb658" id="u5becb658" style="text-align: left"><span data-lake-id="u22697286" id="u22697286" class="lake-fontsize-12" style="color: rgb(119,119,119)">查找。（注意这个是算法模块实现，不是</span><span data-lake-id="uea95fa52" id="uea95fa52" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector</span><span data-lake-id="u6c68fa59" id="u6c68fa59" class="lake-fontsize-12" style="color: rgb(119,119,119)">的成员接口）</span></p></td></tr><tr data-lake-id="u1d8a3948" id="u1d8a3948"><td data-lake-id="uf87c0d6d" id="uf87c0d6d" style="background-color: rgb(248,248,248)"><p data-lake-id="u4501a088" id="u4501a088" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/insert/" target="_blank" data-lake-id="ud66f06a5" id="ud66f06a5"><span data-lake-id="ue044091f" id="ue044091f" class="lake-fontsize-12" style="color: rgb(0,0,0)">insert</span></a></p></td><td data-lake-id="u46e57f53" id="u46e57f53" style="background-color: rgb(248,248,248)"><p data-lake-id="u35eb7f67" id="u35eb7f67" style="text-align: left"><span data-lake-id="u6a09e5f0" id="u6a09e5f0" class="lake-fontsize-12" style="color: rgb(119,119,119)">在</span><span data-lake-id="u58e41a33" id="u58e41a33" class="lake-fontsize-12" style="color: rgb(119,119,119)">position</span><span data-lake-id="ube2e86f5" id="ube2e86f5" class="lake-fontsize-12" style="color: rgb(119,119,119)">之前插入</span><span data-lake-id="u80656292" id="u80656292" class="lake-fontsize-12" style="color: rgb(119,119,119)">val</span></p></td></tr><tr data-lake-id="ub0d377f4" id="ub0d377f4"><td data-lake-id="u5c9de8f3" id="u5c9de8f3"><p data-lake-id="ud81e4b2d" id="ud81e4b2d" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/erase/" target="_blank" data-lake-id="u91f9b872" id="u91f9b872"><span data-lake-id="uc2f97f06" id="uc2f97f06" class="lake-fontsize-12" style="color: rgb(0,0,0)">erase</span></a></p></td><td data-lake-id="u00a29d29" id="u00a29d29"><p data-lake-id="u116967db" id="u116967db" style="text-align: left"><span data-lake-id="u8c0e1707" id="u8c0e1707" class="lake-fontsize-12" style="color: rgb(119,119,119)">删除</span><span data-lake-id="u984a83e3" id="u984a83e3" class="lake-fontsize-12" style="color: rgb(119,119,119)">position</span><span data-lake-id="u14a4b9b3" id="u14a4b9b3" class="lake-fontsize-12" style="color: rgb(119,119,119)">位置的数据</span></p></td></tr><tr data-lake-id="u3128729d" id="u3128729d"><td data-lake-id="u95ddccd0" id="u95ddccd0" style="background-color: rgb(248,248,248)"><p data-lake-id="u9f1cd0ba" id="u9f1cd0ba" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/swap/" target="_blank" data-lake-id="ud1a8618b" id="ud1a8618b"><span data-lake-id="u8b341182" id="u8b341182" class="lake-fontsize-12" style="color: rgb(0,0,0)">swap</span></a></p></td><td data-lake-id="ua7ae3e97" id="ua7ae3e97" style="background-color: rgb(248,248,248)"><p data-lake-id="u632a28a9" id="u632a28a9" style="text-align: left"><span data-lake-id="uc47602f3" id="uc47602f3" class="lake-fontsize-12" style="color: rgb(119,119,119)">交换两个</span><span data-lake-id="u9ebd7f4e" id="u9ebd7f4e" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector</span><span data-lake-id="uf94089a8" id="uf94089a8" class="lake-fontsize-12" style="color: rgb(119,119,119)">的数据空间</span></p></td></tr><tr data-lake-id="u36a49aed" id="u36a49aed"><td data-lake-id="u47b8e08a" id="u47b8e08a"><p data-lake-id="u7a9f7a97" id="u7a9f7a97" style="text-align: left"><a href="http://www.cplusplus.com/reference/vector/vector/operator%5B%5D/" target="_blank" data-lake-id="u8cecf446" id="u8cecf446"><span data-lake-id="u9b3eb50f" id="u9b3eb50f" class="lake-fontsize-12" style="color: rgb(0,0,0)">operator[]</span></a><strong><span data-lake-id="u95b5c39b" id="u95b5c39b" class="lake-fontsize-12" style="color: rgb(65,131,196)"> </span></strong><span data-lake-id="u3a24afe0" id="u3a24afe0" class="lake-fontsize-12" style="color: rgb(119,119,119)">（重点）</span></p></td><td data-lake-id="u665d724b" id="u665d724b"><p data-lake-id="ufe9df74a" id="ufe9df74a" style="text-align: left"><span data-lake-id="u48351275" id="u48351275" class="lake-fontsize-12" style="color: rgb(119,119,119)">像数组一样访问</span></p></td></tr></tbody></table><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20push_back%2Fpop_back%5Cn%23include%20%3Ciostream%3E%5Cn%23include%20%3Cvector%3E%5Cnusing%20namespace%20std%3B%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20int%20a%5B%5D%20%3D%20%7B%201%2C%202%2C%203%2C%204%20%7D%3B%5Cn%20%20%20%20vector%3Cint%3E%20v(a%2C%20a%20%2B%20sizeof(a)%20%2F%20sizeof(int))%3B%5Cn%20%20%20%20vector%3Cint%3E%3A%3Aiterator%20it%20%3D%20v.begin()%3B%5Cn%20%20%20%20while%20(it%20!%3D%20v.end())%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20*it%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%20%20%20%20%20%20%20%20%2B%2Bit%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20cout%20%3C%3C%20endl%3B%5Cn%20%20%20%20v.pop_back()%3B%5Cn%20%20%20%20v.pop_back()%3B%5Cn%20%20%20%20it%20%3D%20v.begin()%3B%5Cn%20%20%20%20while%20(it%20!%3D%20v.end())%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20*it%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%20%20%20%20%20%20%20%20%2B%2Bit%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20cout%20%3C%3C%20endl%3B%5Cn%20%20%20%20return%200%3B%5Cn%7D%5Cn%5Cn%2F%2F%20find%20%2F%20insert%20%2F%20erase%5Cn%23include%20%3Ciostream%3E%5Cn%23include%20%3Calgorithm%3E%5Cn%23include%20%3Cvector%3E%5Cnusing%20namespace%20std%3B%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20int%20a%5B%5D%20%3D%20%7B%201%2C%202%2C%203%2C%204%20%7D%3B%5Cn%20%20%20%20vector%3Cint%3E%20v(a%2C%20a%20%2B%20sizeof(a)%20%2F%20sizeof(int))%3B%5Cn%20%20%20%20%2F%2F%20%E4%BD%BF%E7%94%A8find%E6%9F%A5%E6%89%BE3%E6%89%80%E5%9C%A8%E4%BD%8D%E7%BD%AE%E7%9A%84iterator%5Cn%20%20%20%20vector%3Cint%3E%3A%3Aiterator%20pos%20%3D%20find(v.begin()%2C%20v.end()%2C%203)%3B%5Cn%5Cn%20%20%20%20%2F%2F%20%E5%9C%A8pos%E4%BD%8D%E7%BD%AE%E4%B9%8B%E5%89%8D%E6%8F%92%E5%85%A530%5Cn%20%20%20%20v.insert(pos%2C%2030)%3B%5Cn%20%20%20%20vector%3Cint%3E%3A%3Aiterator%20it%20%3D%20v.begin()%3B%5Cn%20%20%20%20while%20(it%20!%3D%20v.end())%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20*it%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%20%20%20%20%20%20%20%20%2B%2Bit%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20cout%20%3C%3C%20endl%3B%5Cn%20%20%20%20pos%20%3D%20find(v.begin()%2C%20v.end()%2C%203)%3B%5Cn%20%20%20%20%2F%2F%20%E5%88%A0%E9%99%A4pos%E4%BD%8D%E7%BD%AE%E7%9A%84%E6%95%B0%E6%8D%AE%5Cn%20%20%20%20v.erase(pos)%3B%5Cn%20%20%20%20it%20%3D%20v.begin()%3B%5Cn%20%20%20%20while%20(it%20!%3D%20v.end())%20%7B%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20*it%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%20%20%20%20%20%20%20%20%2B%2Bit%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20cout%20%3C%3C%20endl%3B%5Cn%20%20%20%20return%200%3B%5Cn%7D%5Cn%5Cn%2F%2F%20operator%5B%5D%2Bindex%20%E5%92%8C%20C%2B%2B11%E4%B8%ADvector%E7%9A%84%E6%96%B0%E5%BC%8Ffor%2Bauto%E7%9A%84%E9%81%8D%E5%8E%86%5Cn%2F%2F%20vector%E4%BD%BF%E7%94%A8%E8%BF%99%E4%B8%A4%E7%A7%8D%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F%E6%98%AF%E6%AF%94%E8%BE%83%E4%BE%BF%E6%8D%B7%E7%9A%84%E3%80%82%5Cn%23include%20%3Ciostream%3E%5Cn%23include%20%3Cvector%3E%5Cnusing%20namespace%20std%3B%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20int%20a%5B%5D%20%3D%20%7B%201%2C%202%2C%203%2C%204%20%7D%3B%5Cn%20%20%20%20vector%3Cint%3E%20v(a%2C%20a%20%2B%20sizeof(a)%20%2F%20sizeof(int))%3B%5Cn%20%20%20%20%2F%2F%20%E9%80%9A%E8%BF%87%5B%5D%E8%AF%BB%E5%86%99%E7%AC%AC0%E4%B8%AA%E4%BD%8D%E7%BD%AE%E3%80%82%5Cn%20%20%20%20v%5B0%5D%20%3D%2010%3B%5Cn%20%20%20%20cout%20%3C%3C%20v%5B0%5D%20%3C%3C%20endl%3B%5Cn%20%20%20%20%2F%2F%20%E9%80%9A%E8%BF%87%5Bi%5D%E7%9A%84%E6%96%B9%E5%BC%8F%E9%81%8D%E5%8E%86vector%5Cn%20%20%20%20for%20(size_t%20i%20%3D%200%3B%20i%20%3C%20v.size()%3B%20%2B%2Bi)%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20v%5Bi%5D%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%20%20%20%20cout%20%3C%3C%20endl%3B%5Cn%20%20%20%20vector%3Cint%3E%20swapv%3B%5Cn%20%20%20%20swapv.swap(v)%3B%5Cn%20%20%20%20cout%20%3C%3C%20%5C%22v%20data%3A%5C%22%3B%5Cn%20%20%20%20for%20(size_t%20i%20%3D%200%3B%20i%20%3C%20v.size()%3B%20%2B%2Bi)%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20v%5Bi%5D%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%20%20%20%20cout%20%3C%3C%20endl%3B%5Cn%20%20%20%20cout%20%3C%3C%20%5C%22swapv%20data%3A%5C%22%3B%5Cn%20%20%20%20for%20(size_t%20i%20%3D%200%3B%20i%20%3C%20swapv.size()%3B%20%2B%2Bi)%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20swapv%5Bi%5D%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%20%20%20%20cout%20%3C%3C%20endl%3B%5Cn%5Cn%20%20%20%20%2F%2F%20C%2B%2B11%E6%94%AF%E6%8C%81%E7%9A%84%E6%96%B0%E5%BC%8F%E8%8C%83%E5%9B%B4for%E9%81%8D%E5%8E%86%5Cn%20%20%20%20for%20(auto%20x%20%3A%20v)%5Cn%20%20%20%20%20%20%20%20cout%20%3C%3C%20x%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%20%20%20%20cout%20%3C%3C%20endl%3B%5Cn%20%20%20%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22lGPBO%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h5 data-lake-id="ZW4bc" id="ZW4bc"><span data-lake-id="udac5aaca" id="udac5aaca">1.2.5 vector 迭代器失效问题 （重点）</span></h5><p data-lake-id="ua54497d5" id="ua54497d5"><strong><span data-lake-id="u7919ec2e" id="u7919ec2e" class="lake-fontsize-12" style="color: rgb(119,119,119)">迭代器的主要作用就是让算法能够不用关心底层数据结构，其底层实际就是一个指针，或者是对指针进行了封装</span></strong><span data-lake-id="u1de1024a" id="u1de1024a" class="lake-fontsize-12" style="color: rgb(119,119,119)">，比如：</span><strong><span data-lake-id="uc94306eb" id="uc94306eb" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector的迭代器就是原生态指针T*</span></strong><span data-lake-id="u4c6090e2" id="u4c6090e2" class="lake-fontsize-12" style="color: rgb(119,119,119)">。因此</span><strong><span data-lake-id="u85ca8a8f" id="u85ca8a8f" class="lake-fontsize-12" style="color: rgb(119,119,119)">迭代器失效，实际就是迭代器底层对应指针所指向的空间被销毁了，而使用一块已经被释放的空间</span></strong><span data-lake-id="u01ca7a04" id="u01ca7a04" class="lake-fontsize-12" style="color: rgb(119,119,119)">，造成的后果是程序崩溃(即</span><strong><span data-lake-id="ubf0df87b" id="ubf0df87b" class="lake-fontsize-12" style="color: rgb(119,119,119)">如果继续使用已经失效的迭代器，程序可能会崩溃</span></strong><span data-lake-id="u8f1f0f1f" id="u8f1f0f1f" class="lake-fontsize-12" style="color: rgb(119,119,119)">)。 </span></p><p data-lake-id="u9b06b446" id="u9b06b446"><span data-lake-id="u4c4618d8" id="u4c4618d8" class="lake-fontsize-12" style="color: rgb(119,119,119)">对于</span><span data-lake-id="u63c072e7" id="u63c072e7" class="lake-fontsize-12" style="color: rgb(119,119,119)">vector</span><span data-lake-id="ud9b6366c" id="ud9b6366c" class="lake-fontsize-12" style="color: rgb(119,119,119)">可能会导致其迭代器失效的操作有： </span></p><p data-lake-id="u0f03474b" id="u0f03474b"><span data-lake-id="u9c886522" id="u9c886522" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><strong><span data-lake-id="ua7e8a38f" id="ua7e8a38f" class="lake-fontsize-12" style="color: rgb(119,119,119)">会引起其底层空间改变的操作，都有可能是迭代器失效</span></strong><span data-lake-id="u0f9618c5" id="u0f9618c5" class="lake-fontsize-12" style="color: rgb(119,119,119)">，比如：resize、reserve、insert、assign、push_back等。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%23include%20%3Cvector%3E%5Cnint%20main()%5Cn%7B%5Cn%20vector%3Cint%3E%20v%7B1%2C2%2C3%2C4%2C5%2C6%7D%3B%5Cn%20%5Cn%20auto%20it%20%3D%20v.begin()%3B%5Cn%20%5Cn%20%2F%2F%20%E5%B0%86%E6%9C%89%E6%95%88%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0%E5%A2%9E%E5%8A%A0%E5%88%B0100%E4%B8%AA%EF%BC%8C%E5%A4%9A%E5%87%BA%E7%9A%84%E4%BD%8D%E7%BD%AE%E4%BD%BF%E7%94%A88%E5%A1%AB%E5%85%85%EF%BC%8C%E6%93%8D%E4%BD%9C%E6%9C%9F%E9%97%B4%E5%BA%95%E5%B1%82%E4%BC%9A%E6%89%A9%E5%AE%B9%5Cn%20%2F%2F%20v.resize(100%2C%208)%3B%5Cn%20%5Cn%20%2F%2F%20reserve%E7%9A%84%E4%BD%9C%E7%94%A8%E5%B0%B1%E6%98%AF%E6%94%B9%E5%8F%98%E6%89%A9%E5%AE%B9%E5%A4%A7%E5%B0%8F%E4%BD%86%E4%B8%8D%E6%94%B9%E5%8F%98%E6%9C%89%E6%95%88%E5%85%83%E7%B4%A0%E4%B8%AA%E6%95%B0%EF%BC%8C%E6%93%8D%E4%BD%9C%E6%9C%9F%E9%97%B4%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E5%BA%95%E5%B1%82%E5%AE%B9%E9%87%8F%E6%94%B9%E5%8F%98%5Cn%20%2F%2F%20v.reserve(100)%3B%5Cn%20%5Cn%20%2F%2F%20%E6%8F%92%E5%85%A5%E5%85%83%E7%B4%A0%E6%9C%9F%E9%97%B4%EF%BC%8C%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E6%89%A9%E5%AE%B9%EF%BC%8C%E8%80%8C%E5%AF%BC%E8%87%B4%E5%8E%9F%E7%A9%BA%E9%97%B4%E8%A2%AB%E9%87%8A%E6%94%BE%5Cn%20%2F%2F%20v.insert(v.begin()%2C%200)%3B%5Cn%20%20%20%20%2F%2F%20v.push_back(8)%3B%5Cn%20%5Cn%20%2F%2F%20%E7%BB%99vector%E9%87%8D%E6%96%B0%E8%B5%8B%E5%80%BC%EF%BC%8C%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%BC%95%E8%B5%B7%E5%BA%95%E5%B1%82%E5%AE%B9%E9%87%8F%E6%94%B9%E5%8F%98%5Cn%20v.assign(100%2C%208)%3B%5Cn%20%5Cn%20%2F*%5Cn%20%E5%87%BA%E9%94%99%E5%8E%9F%E5%9B%A0%EF%BC%9A%E4%BB%A5%E4%B8%8A%E6%93%8D%E4%BD%9C%EF%BC%8C%E9%83%BD%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%AF%BC%E8%87%B4vector%E6%89%A9%E5%AE%B9%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%AF%B4vector%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%97%A7%E7%A9%BA%E9%97%B4%E8%A2%AB%E9%87%8A%E6%94%BE%E6%8E%89%EF%BC%8C%5Cn%E8%80%8C%E5%9C%A8%E6%89%93%E5%8D%B0%E6%97%B6%EF%BC%8Cit%E8%BF%98%E4%BD%BF%E7%94%A8%E7%9A%84%E6%98%AF%E9%87%8A%E6%94%BE%E4%B9%8B%E9%97%B4%E7%9A%84%E6%97%A7%E7%A9%BA%E9%97%B4%EF%BC%8C%E5%9C%A8%E5%AF%B9it%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%93%8D%E4%BD%9C%E6%97%B6%EF%BC%8C%E5%AE%9E%E9%99%85%E6%93%8D%E4%BD%9C%E7%9A%84%E6%98%AF%E4%B8%80%E5%9D%97%E5%B7%B2%E7%BB%8F%E8%A2%AB%E9%87%8A%E6%94%BE%E7%9A%84%5Cn%E7%A9%BA%E9%97%B4%EF%BC%8C%E8%80%8C%E5%BC%95%E8%B5%B7%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E6%97%B6%E5%B4%A9%E6%BA%83%E3%80%82%5Cn%20%E8%A7%A3%E5%86%B3%E6%96%B9%E5%BC%8F%EF%BC%9A%E5%9C%A8%E4%BB%A5%E4%B8%8A%E6%93%8D%E4%BD%9C%E5%AE%8C%E6%88%90%E4%B9%8B%E5%90%8E%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%83%B3%E8%A6%81%E7%BB%A7%E7%BB%AD%E9%80%9A%E8%BF%87%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%93%8D%E4%BD%9Cvector%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%8C%E5%8F%AA%E9%9C%80%E7%BB%99it%E9%87%8D%E6%96%B0%5Cn%E8%B5%8B%E5%80%BC%E5%8D%B3%E5%8F%AF%E3%80%82%5Cn%20*%2F%5Cn%20while(it%20!%3D%20v.end())%5Cn%20%7B%5Cn%20cout%3C%3C%20*it%20%3C%3C%20%5C%22%20%5C%22%20%3B%5Cn%20%2B%2Bit%3B%5Cn%20%7D%5Cn%20cout%3C%3Cendl%3B%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22oAEh9%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uf1796f63" id="uf1796f63"><span data-lake-id="u11b9159a" id="u11b9159a" class="lake-fontsize-12" style="color: rgb(119,119,119)">2.指定位置元素的删除操作--erase</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%23include%20%3Cvector%3E%5Cnint%20main()%5Cn%7B%5Cn%20int%20a%5B%5D%20%3D%20%7B%201%2C%202%2C%203%2C%204%20%7D%3B%5Cn%20vector%3Cint%3E%20v(a%2C%20a%20%2B%20sizeof(a)%20%2F%20sizeof(int))%3B%5Cn%20%2F%2F%20%E4%BD%BF%E7%94%A8find%E6%9F%A5%E6%89%BE3%E6%89%80%E5%9C%A8%E4%BD%8D%E7%BD%AE%E7%9A%84iterator%5Cn%20vector%3Cint%3E%3A%3Aiterator%20pos%20%3D%20find(v.begin()%2C%20v.end()%2C%203)%3B%5Cn%20%2F%2F%20%E5%88%A0%E9%99%A4pos%E4%BD%8D%E7%BD%AE%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%AF%BC%E8%87%B4pos%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%A4%B1%E6%95%88%E3%80%82%5Cn%20v.erase(pos)%3B%5Cn%20cout%20%3C%3C%20*pos%20%3C%3C%20endl%3B%20%2F%2F%20%E6%AD%A4%E5%A4%84%E4%BC%9A%E5%AF%BC%E8%87%B4%E9%9D%9E%E6%B3%95%E8%AE%BF%E9%97%AE%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22vhYhS%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ue1bc7f0a" id="ue1bc7f0a"><span data-lake-id="u8171b3cf" id="u8171b3cf" class="lake-fontsize-12" style="color: rgb(119,119,119)">erase删除pos位置元素后，pos位置之后的元素会往前搬移，没有导致底层空间的改变，理论上讲迭代器不应该会失效，但是：如果pos刚好是最后一个元素，删完之后pos刚好是end的位置，而end位置是没有元素的，那么pos就失效了。因此删除vector中任意位置上元素时，vs就认为该位置迭代器失效了。 </span></p><p data-lake-id="u15b70ed8" id="u15b70ed8"><span data-lake-id="u16d96260" id="u16d96260" class="lake-fontsize-12" style="color: rgb(119,119,119)">以下代码的功能是删除vector中所有的偶数，请问那个代码是正确的，为什么？</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%23include%20%3Cvector%3E%5Cnint%20main()%5Cn%7B%5Cn%20vector%3Cint%3E%20v%7B%201%2C%202%2C%203%2C%204%20%7D%3B%5Cn%20auto%20it%20%3D%20v.begin()%3B%5Cn%20while%20(it%20!%3D%20v.end())%5Cn%20%7B%5Cn%20if%20(*it%20%25%202%20%3D%3D%200)%5Cn%20v.erase(it)%3B%5Cn%20%2B%2Bit%3B%5Cn%20%7D%5Cn%20%5Cn%20return%200%3B%5Cn%7D%5Cnint%20main()%5Cn%7B%5Cn%20vector%3Cint%3E%20v%7B%201%2C%202%2C%203%2C%204%20%7D%3B%5Cn%20auto%20it%20%3D%20v.begin()%3B%5Cn%20while%20(it%20!%3D%20v.end())%5Cn%20%7B%5Cn%20if%20(*it%20%25%202%20%3D%3D%200)%5Cn%20it%20%3D%20v.erase(it)%3B%5Cn%20else%5Cn%20%2B%2Bit%3B%5Cn%20%7D%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Gu994%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u178f2cda" id="u178f2cda"><strong><span data-lake-id="u9b8d7d75" id="u9b8d7d75" class="lake-fontsize-12" style="color: rgb(119,119,119)">迭代器失效解决办法：在使用前，对迭代器重新赋值即可</span></strong><span data-lake-id="u1ac7a5b2" id="u1ac7a5b2" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><p data-lake-id="u84785925" id="u84785925"><strong><span data-lake-id="u4044f87f" id="u4044f87f" class="lake-fontsize-12" style="color: rgb(119,119,119)">1.2.5 vector </span></strong><strong><span data-lake-id="u04e680c4" id="u04e680c4" class="lake-fontsize-12" style="color: rgb(119,119,119)">在</span></strong><strong><span data-lake-id="u9ce4863b" id="u9ce4863b" class="lake-fontsize-12" style="color: rgb(119,119,119)">OJ</span></strong><strong><span data-lake-id="u7ebf76f7" id="u7ebf76f7" class="lake-fontsize-12" style="color: rgb(119,119,119)">中的使用。 </span></strong></p><p data-lake-id="ub1b6aca4" id="ub1b6aca4"><span data-lake-id="u648cbec6" id="u648cbec6" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fsingle-number%2Fsubmissions%2F%22%2C%22text%22%3A%22%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97i%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%22136.%20%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22136.%20%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97%20-%20%E7%BB%99%E4%BD%A0%E4%B8%80%E4%B8%AA%20%E9%9D%9E%E7%A9%BA%20%E6%95%B4%E6%95%B0%E6%95%B0%E7%BB%84%20nums%20%EF%BC%8C%E9%99%A4%E4%BA%86%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E4%BB%A5%E5%A4%96%EF%BC%8C%E5%85%B6%E4%BD%99%E6%AF%8F%E4%B8%AA%E5%85%83%E7%B4%A0%E5%9D%87%E5%87%BA%E7%8E%B0%E4%B8%A4%E6%AC%A1%E3%80%82%E6%89%BE%E5%87%BA%E9%82%A3%E4%B8%AA%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%BA%86%E4%B8%80%E6%AC%A1%E7%9A%84%E5%85%83%E7%B4%A0%E3%80%82%20%E4%BD%A0%E5%BF%85%E9%A1%BB%E8%AE%BE%E8%AE%A1%E5%B9%B6%E5%AE%9E%E7%8E%B0%E7%BA%BF%E6%80%A7%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%9A%84%E7%AE%97%E6%B3%95%E6%9D%A5%E8%A7%A3%E5%86%B3%E6%AD%A4%E9%97%AE%E9%A2%98%EF%BC%8C%E4%B8%94%E8%AF%A5%E7%AE%97%E6%B3%95%E5%8F%AA%E4%BD%BF%E7%94%A8%E5%B8%B8%E9%87%8F%E9%A2%9D%E5%A4%96%E7%A9%BA%E9%97%B4%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%20%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B2%2C2%2C1%5D%20%E8%BE%93%E5%87%BA%EF%BC%9A1%20%E7%A4%BA%E4%BE%8B%202%20%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B4%2C1%2C2%2C1%2C2%5D%20%E8%BE%93%E5%87%BA%EF%BC%9A4%20%E7%A4%BA%E4%BE%8B%203%20%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B1%5D%20%E8%BE%93%E5%87%BA%EF%BC%9A1%20%E6%8F%90%E7%A4%BA%EF%BC%9A%20*%201%20%3C%3D%20nums.length%20%3C%3D%203%20*%20104%20*%20-3%20*%20104%20%3C%3D%20nums%5Bi%5D%20%3C%3D%203%20*%20104%20*%20%E9%99%A4%E4%BA%86%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E4%BB%A5%E5%A4%96%EF%BC%8C%E5%85%B6%E4%BD%99%E6%AF%8F%E4%B8%AA%E5%85%83%E7%B4%A0%E5%9D%87%E5%87%BA%E7%8E%B0%E4%B8%A4%E6%AC%A1%E3%80%82%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fsingle-number%2Fsubmissions%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Z0vXg%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Solution%20%7B%5Cnpublic%3A%5Cn%20int%20singleNumber(vector%3Cint%3E%26%20nums)%20%7B%5Cn%20int%20value%20%3D%200%3B%5Cn%20for(auto%20e%20%3A%20v)%20%7Bvalue%20%5E%3D%20e%3B%20%7D%5Cn%20return%20value%3B%5Cn%20%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22j4iHz%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u79655e0b" id="u79655e0b"><span data-lake-id="uded45533" id="uded45533" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fpascals-triangle%2Fdescription%2F%22%2C%22text%22%3A%22%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92OJ%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%22118.%20%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22118.%20%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92%20-%20%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E9%9D%9E%E8%B4%9F%E6%95%B4%E6%95%B0%C2%A0numRows%EF%BC%8C%E7%94%9F%E6%88%90%E3%80%8C%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92%E3%80%8D%E7%9A%84%E5%89%8D%C2%A0numRows%C2%A0%E8%A1%8C%E3%80%82%20%E5%9C%A8%E3%80%8C%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92%E3%80%8D%E4%B8%AD%EF%BC%8C%E6%AF%8F%E4%B8%AA%E6%95%B0%E6%98%AF%E5%AE%83%E5%B7%A6%E4%B8%8A%E6%96%B9%E5%92%8C%E5%8F%B3%E4%B8%8A%E6%96%B9%E7%9A%84%E6%95%B0%E7%9A%84%E5%92%8C%E3%80%82%20%5Bhttps%3A%2F%2Fpic.leetcode-cn.com%2F1626927345-DZmfxB-PascalTriangleAnimated2.gif%5D%20%E7%A4%BA%E4%BE%8B%201%3A%20%E8%BE%93%E5%85%A5%3A%20numRows%20%3D%205%5Cn%E8%BE%93%E5%87%BA%3A%20%5B%5B1%5D%2C%5B1%2C1%5D%2C%5B1%2C2%2C1%5D%2C%5B1%2C3%2C3%2C1%5D%2C%5B1%2C4%2C6%2C4%2C1%5D%5D%20%E7%A4%BA%E4%BE%8B%C2%A02%3A%20%E8%BE%93%E5%85%A5%3A%20numRows%20%3D%201%5Cn%E8%BE%93%E5%87%BA%3A%20%5B%5B1%5D%5D%20%E6%8F%90%E7%A4%BA%3A%20*%201%20%3C%3D%20numRows%20%3C%3D%2030%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fpascals-triangle%2Fdescription%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22jNfeO%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20%E6%B6%89%E5%8F%8Aresize%20%2F%20operator%5B%5D%5Cnclass%20Solution%20%7B%5Cnpublic%3A%5Cn%20%2F%2F%20%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3%EF%BC%9A%E6%89%BE%E5%87%BA%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92%E7%9A%84%E8%A7%84%E5%BE%8B%EF%BC%8C%E5%8F%91%E7%8E%B0%E6%AF%8F%E4%B8%80%E8%A1%8C%E5%A4%B4%E5%B0%BE%E9%83%BD%E6%98%AF1%EF%BC%8C%E4%B8%AD%E9%97%B4%E7%AC%AC%5Bj%5D%E4%B8%AA%E6%95%B0%E7%AD%89%E4%BA%8E%E4%B8%8A%E4%B8%80%E8%A1%8C%5Bj-1%5D%2B%5Cn%5Bj%5D%5Cn%20vector%3Cvector%3Cint%3E%3E%20generate(int%20numRows)%20%7B%5Cn%20vector%3Cvector%3Cint%3E%3E%20vv%3B%5Cn%20%2F%2F%20%E5%85%88%E5%BC%80%E8%BE%9F%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92%E7%9A%84%E7%A9%BA%E9%97%B4%5Cn%20vv.resize(numRows)%3B%5Cn%20for(size_t%20i%20%3D%201%3B%20i%20%3C%3D%20numRows%3B%20%2B%2Bi)%5Cn%20%7B%5Cn%20vv%5Bi-1%5D.resize(i%2C%200)%3B%5Cn%20%2F%2F%20%E6%AF%8F%E4%B8%80%E8%A1%8C%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%92%8C%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E9%83%BD%E6%98%AF1%5Cn%20vv%5Bi-1%5D%5B0%5D%20%3D%201%3B%5Cn%20vv%5Bi-1%5D%5Bi-1%5D%20%3D%201%3B%5Cn%20%7D%5Cn%20for(size_t%20i%20%3D%200%3B%20i%20%3C%20vv.size()%3B%20%2B%2Bi)%5Cn%20%7B%5Cn%20for(size_t%20j%20%3D%200%3B%20j%20%3C%20vv%5Bi%5D.size()%3B%20%2B%2Bj)%5Cn%20%7B%5Cn%20if(vv%5Bi%5D%5Bj%5D%20%3D%3D%200)%5Cn%20%7B%5Cn%20vv%5Bi%5D%5Bj%5D%20%3D%20vv%5Bi-1%5D%5Bj-1%5D%20%2B%20vv%5Bi-1%5D%5Bj%5D%3B%5Cn%20%7D%5Cn%20%7D%5Cn%20%7D%5Cn%20return%20vv%3B%5Cn%20%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22hu7FV%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u8261b4aa" id="u8261b4aa"><span data-lake-id="ueb1b52e8" id="ueb1b52e8" class="lake-fontsize-12" style="color: rgb(119,119,119)">总结：通过上面的练习我们发现vector常用的接口更多是插入和遍历。遍历更喜欢用数组operator[i]的  形式访问，因为这样便捷。课下除了再自己实现一遍上面课堂讲解的OJ练习，请自行完成下面题目的OJ 练习。以此增强学习vector的使用。</span></p><p data-lake-id="u1423007c" id="u1423007c" style="text-align: left"><span data-lake-id="ueb3dde3b" id="ueb3dde3b" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fremove-duplicates-from-sorted-array%2F%22%2C%22text%22%3A%22%E5%88%A0%E9%99%A4%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E9%A1%B9OJ%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%2226.%20%E5%88%A0%E9%99%A4%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E9%A1%B9%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%2226.%20%E5%88%A0%E9%99%A4%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E9%A1%B9%20-%20%E7%BB%99%E4%BD%A0%E4%B8%80%E4%B8%AA%20%E9%9D%9E%E4%B8%A5%E6%A0%BC%E9%80%92%E5%A2%9E%E6%8E%92%E5%88%97%20%E7%9A%84%E6%95%B0%E7%BB%84%20nums%20%EF%BC%8C%E8%AF%B7%E4%BD%A0%20%E5%8E%9F%E5%9C%B0%20%5Bhttp%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E5%258E%259F%25E5%259C%25B0%25E7%25AE%2597%25E6%25B3%2595%5D%20%E5%88%A0%E9%99%A4%E9%87%8D%E5%A4%8D%E5%87%BA%E7%8E%B0%E7%9A%84%E5%85%83%E7%B4%A0%EF%BC%8C%E4%BD%BF%E6%AF%8F%E4%B8%AA%E5%85%83%E7%B4%A0%20%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%20%EF%BC%8C%E8%BF%94%E5%9B%9E%E5%88%A0%E9%99%A4%E5%90%8E%E6%95%B0%E7%BB%84%E7%9A%84%E6%96%B0%E9%95%BF%E5%BA%A6%E3%80%82%E5%85%83%E7%B4%A0%E7%9A%84%20%E7%9B%B8%E5%AF%B9%E9%A1%BA%E5%BA%8F%20%E5%BA%94%E8%AF%A5%E4%BF%9D%E6%8C%81%20%E4%B8%80%E8%87%B4%20%E3%80%82%E7%84%B6%E5%90%8E%E8%BF%94%E5%9B%9E%20nums%20%E4%B8%AD%E5%94%AF%E4%B8%80%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0%E3%80%82%20%E8%80%83%E8%99%91%20nums%20%E7%9A%84%E5%94%AF%E4%B8%80%E5%85%83%E7%B4%A0%E7%9A%84%E6%95%B0%E9%87%8F%E4%B8%BA%20k%20%EF%BC%8C%E4%BD%A0%E9%9C%80%E8%A6%81%E5%81%9A%E4%BB%A5%E4%B8%8B%E4%BA%8B%E6%83%85%E7%A1%AE%E4%BF%9D%E4%BD%A0%E7%9A%84%E9%A2%98%E8%A7%A3%E5%8F%AF%E4%BB%A5%E8%A2%AB%E9%80%9A%E8%BF%87%EF%BC%9A%20*%20%E6%9B%B4%E6%94%B9%E6%95%B0%E7%BB%84%20nums%20%EF%BC%8C%E4%BD%BF%20nums%20%E7%9A%84%E5%89%8D%20k%20%E4%B8%AA%E5%85%83%E7%B4%A0%E5%8C%85%E5%90%AB%E5%94%AF%E4%B8%80%E5%85%83%E7%B4%A0%EF%BC%8C%E5%B9%B6%E6%8C%89%E7%85%A7%E5%AE%83%E4%BB%AC%E6%9C%80%E5%88%9D%E5%9C%A8%20nums%20%E4%B8%AD%E5%87%BA%E7%8E%B0%E7%9A%84%E9%A1%BA%E5%BA%8F%E6%8E%92%E5%88%97%E3%80%82nums%C2%A0%E7%9A%84%E5%85%B6%E4%BD%99%E5%85%83%E7%B4%A0%E4%B8%8E%20nums%20%E7%9A%84%E5%A4%A7%E5%B0%8F%E4%B8%8D%E9%87%8D%E8%A6%81%E3%80%82%20*%20%E8%BF%94%E5%9B%9E%20k%C2%A0%E3%80%82%20%E5%88%A4%E9%A2%98%E6%A0%87%E5%87%86%3A%20%E7%B3%BB%E7%BB%9F%E4%BC%9A%E7%94%A8%E4%B8%8B%E9%9D%A2%E7%9A%84%E4%BB%A3%E7%A0%81%E6%9D%A5%E6%B5%8B%E8%AF%95%E4%BD%A0%E7%9A%84%E9%A2%98%E8%A7%A3%3A%20int%5B%5D%20nums%20%3D%20%5B...%5D%3B%20%2F%2F%20%E8%BE%93%E5%85%A5%E6%95%B0%E7%BB%84%5Cnint%5B%5D%20expectedNums%20%3D%20%5B...%5D%3B%20%2F%2F%20%E9%95%BF%E5%BA%A6%E6%AD%A3%E7%A1%AE%E7%9A%84%E6%9C%9F%E6%9C%9B%E7%AD%94%E6%A1%88%20int%20k%20%3D%20removeDuplicates(nums)%3B%20%2F%2F%20%E8%B0%83%E7%94%A8%20assert%20k%20%3D%3D%20expectedNums.length%3B%5Cnfor%20(int%20i%20%3D%200%3B%20i%20%3C%20k%3B%20i%2B%2B)%20%7B%20assert%20nums%5Bi%5D%20%3D%3D%20expectedNums%5Bi%5D%3B%5Cn%7D%20%E5%A6%82%E6%9E%9C%E6%89%80%E6%9C%89%E6%96%AD%E8%A8%80%E9%83%BD%E9%80%9A%E8%BF%87%EF%BC%8C%E9%82%A3%E4%B9%88%E6%82%A8%E7%9A%84%E9%A2%98%E8%A7%A3%E5%B0%86%E8%A2%AB%20%E9%80%9A%E8%BF%87%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B1%2C1%2C2%5D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A2%2C%20nums%20%3D%20%5B1%2C2%2C_%5D%5Cn%E8%A7%A3%E9%87%8A%EF%BC%9A%E5%87%BD%E6%95%B0%E5%BA%94%E8%AF%A5%E8%BF%94%E5%9B%9E%E6%96%B0%E7%9A%84%E9%95%BF%E5%BA%A6%202%20%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%8E%9F%E6%95%B0%E7%BB%84%20nums%20%E7%9A%84%E5%89%8D%E4%B8%A4%E4%B8%AA%E5%85%83%E7%B4%A0%E8%A2%AB%E4%BF%AE%E6%94%B9%E4%B8%BA%201%2C%202%20%E3%80%82%E4%B8%8D%E9%9C%80%E8%A6%81%E8%80%83%E8%99%91%E6%95%B0%E7%BB%84%E4%B8%AD%E8%B6%85%E5%87%BA%E6%96%B0%E9%95%BF%E5%BA%A6%E5%90%8E%E9%9D%A2%E7%9A%84%E5%85%83%E7%B4%A0%E3%80%82%20%E7%A4%BA%E4%BE%8B%202%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B0%2C0%2C1%2C1%2C1%2C2%2C2%2C3%2C3%2C4%5D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A5%2C%20nums%20%3D%20%5B0%2C1%2C2%2C3%2C4%5D%5Cn%E8%A7%A3%E9%87%8A%EF%BC%9A%E5%87%BD%E6%95%B0%E5%BA%94%E8%AF%A5%E8%BF%94%E5%9B%9E%E6%96%B0%E7%9A%84%E9%95%BF%E5%BA%A6%205%20%EF%BC%8C%20%E5%B9%B6%E4%B8%94%E5%8E%9F%E6%95%B0%E7%BB%84%20nums%20%E7%9A%84%E5%89%8D%E4%BA%94%E4%B8%AA%E5%85%83%E7%B4%A0%E8%A2%AB%E4%BF%AE%E6%94%B9%E4%B8%BA%200%2C%201%2C%202%2C%203%2C%204%20%E3%80%82%E4%B8%8D%E9%9C%80%E8%A6%81%E8%80%83%E8%99%91%E6%95%B0%E7%BB%84%E4%B8%AD%E8%B6%85%E5%87%BA%E6%96%B0%E9%95%BF%E5%BA%A6%E5%90%8E%E9%9D%A2%E7%9A%84%E5%85%83%E7%B4%A0%E3%80%82%20%E6%8F%90%E7%A4%BA%EF%BC%9A%20*%201%20%3C%3D%20nums.length%20%3C%3D%203%20*%20104%20*%20-104%20%3C%3D%20nums%5Bi%5D%20%3C%3D%20104%20*%20nums%20%E5%B7%B2%E6%8C%89%20%E9%9D%9E%E4%B8%A5%E6%A0%BC%E9%80%92%E5%A2%9E%C2%A0%E6%8E%92%E5%88%97%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fremove-duplicates-from-sorted-array%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22KdSPs%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><p data-lake-id="u089bdbc4" id="u089bdbc4" style="text-align: left"><span data-lake-id="ud8d90652" id="ud8d90652" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fsingle-number-ii%2F%22%2C%22text%22%3A%22%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0iiOJ%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%22137.%20%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97%20II%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22137.%20%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97%20II%20-%20%E7%BB%99%E4%BD%A0%E4%B8%80%E4%B8%AA%E6%95%B4%E6%95%B0%E6%95%B0%E7%BB%84%C2%A0nums%20%EF%BC%8C%E9%99%A4%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0%E4%BB%85%E5%87%BA%E7%8E%B0%20%E4%B8%80%E6%AC%A1%20%E5%A4%96%EF%BC%8C%E5%85%B6%E4%BD%99%E6%AF%8F%E4%B8%AA%E5%85%83%E7%B4%A0%E9%83%BD%E6%81%B0%E5%87%BA%E7%8E%B0%20%E4%B8%89%E6%AC%A1%20%E3%80%82%E8%AF%B7%E4%BD%A0%E6%89%BE%E5%87%BA%E5%B9%B6%E8%BF%94%E5%9B%9E%E9%82%A3%E4%B8%AA%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%BA%86%E4%B8%80%E6%AC%A1%E7%9A%84%E5%85%83%E7%B4%A0%E3%80%82%20%E4%BD%A0%E5%BF%85%E9%A1%BB%E8%AE%BE%E8%AE%A1%E5%B9%B6%E5%AE%9E%E7%8E%B0%E7%BA%BF%E6%80%A7%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%9A%84%E7%AE%97%E6%B3%95%E4%B8%94%E4%BD%BF%E7%94%A8%E5%B8%B8%E6%95%B0%E7%BA%A7%E7%A9%BA%E9%97%B4%E6%9D%A5%E8%A7%A3%E5%86%B3%E6%AD%A4%E9%97%AE%E9%A2%98%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B2%2C2%2C3%2C2%5D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A3%20%E7%A4%BA%E4%BE%8B%202%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B0%2C1%2C0%2C1%2C0%2C1%2C99%5D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A99%20%E6%8F%90%E7%A4%BA%EF%BC%9A%20*%201%20%3C%3D%20nums.length%20%3C%3D%203%20*%20104%20*%20-231%20%3C%3D%20nums%5Bi%5D%20%3C%3D%20231%20-%201%20*%20nums%20%E4%B8%AD%EF%BC%8C%E9%99%A4%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0%E4%BB%85%E5%87%BA%E7%8E%B0%20%E4%B8%80%E6%AC%A1%20%E5%A4%96%EF%BC%8C%E5%85%B6%E4%BD%99%E6%AF%8F%E4%B8%AA%E5%85%83%E7%B4%A0%E9%83%BD%E6%81%B0%E5%87%BA%E7%8E%B0%20%E4%B8%89%E6%AC%A1%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fsingle-number-ii%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22QEYRe%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><p data-lake-id="u1416f937" id="u1416f937" style="text-align: left"><span data-lake-id="udf51d23f" id="udf51d23f" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fsingle-number-iii%2F%22%2C%22text%22%3A%22%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0iiiOJ%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%22260.%20%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97%20III%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22260.%20%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97%20III%20-%20%E7%BB%99%E4%BD%A0%E4%B8%80%E4%B8%AA%E6%95%B4%E6%95%B0%E6%95%B0%E7%BB%84%C2%A0nums%EF%BC%8C%E5%85%B6%E4%B8%AD%E6%81%B0%E5%A5%BD%E6%9C%89%E4%B8%A4%E4%B8%AA%E5%85%83%E7%B4%A0%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%EF%BC%8C%E5%85%B6%E4%BD%99%E6%89%80%E6%9C%89%E5%85%83%E7%B4%A0%E5%9D%87%E5%87%BA%E7%8E%B0%E4%B8%A4%E6%AC%A1%E3%80%82%20%E6%89%BE%E5%87%BA%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E9%82%A3%E4%B8%A4%E4%B8%AA%E5%85%83%E7%B4%A0%E3%80%82%E4%BD%A0%E5%8F%AF%E4%BB%A5%E6%8C%89%20%E4%BB%BB%E6%84%8F%E9%A1%BA%E5%BA%8F%20%E8%BF%94%E5%9B%9E%E7%AD%94%E6%A1%88%E3%80%82%20%E4%BD%A0%E5%BF%85%E9%A1%BB%E8%AE%BE%E8%AE%A1%E5%B9%B6%E5%AE%9E%E7%8E%B0%E7%BA%BF%E6%80%A7%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%9A%84%E7%AE%97%E6%B3%95%E4%B8%94%E4%BB%85%E4%BD%BF%E7%94%A8%E5%B8%B8%E9%87%8F%E9%A2%9D%E5%A4%96%E7%A9%BA%E9%97%B4%E6%9D%A5%E8%A7%A3%E5%86%B3%E6%AD%A4%E9%97%AE%E9%A2%98%E3%80%82%20%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B1%2C2%2C1%2C3%2C2%2C5%5D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%5B3%2C5%5D%5Cn%E8%A7%A3%E9%87%8A%EF%BC%9A%5B5%2C%203%5D%20%E4%B9%9F%E6%98%AF%E6%9C%89%E6%95%88%E7%9A%84%E7%AD%94%E6%A1%88%E3%80%82%20%E7%A4%BA%E4%BE%8B%202%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B-1%2C0%5D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%5B-1%2C0%5D%20%E7%A4%BA%E4%BE%8B%203%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Anums%20%3D%20%5B0%2C1%5D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%5B1%2C0%5D%20%E6%8F%90%E7%A4%BA%EF%BC%9A%20*%202%20%3C%3D%20nums.length%20%3C%3D%203%20*%20104%20*%20-231%20%3C%3D%20nums%5Bi%5D%20%3C%3D%20231%20-%201%20*%20%E9%99%A4%E4%B8%A4%E4%B8%AA%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B4%E6%95%B0%E5%A4%96%EF%BC%8Cnums%20%E4%B8%AD%E7%9A%84%E5%85%B6%E4%BB%96%E6%95%B0%E5%AD%97%E9%83%BD%E5%87%BA%E7%8E%B0%E4%B8%A4%E6%AC%A1%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fsingle-number-iii%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22HdD3U%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><p data-lake-id="u42569950" id="u42569950" style="text-align: left"><span data-lake-id="u55780cfc" id="u55780cfc" class="lake-fontsize-12" style="color: rgb(119,119,119)">6. </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Fe8a1b01a2df14cb2b228b30ee6a92163%3FtpId%3D13%26%26tqId%3D11181%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fcoding-interviews%2Fquestion-ranking%22%2C%22text%22%3A%22%E6%95%B0%E7%BB%84%E4%B8%AD%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0%E8%B6%85%E8%BF%87%E4%B8%80%E5%8D%8A%E7%9A%84%E6%95%B0%E5%AD%97OJ%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Ffe%2Ffile%2Fimages%2Fnowpick%2Fweb%2Fwww-favicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Fimages%2Flogo_87_87.png%22%2C%22title%22%3A%22%E6%95%B0%E7%BB%84%E4%B8%AD%E5%87%BA%E7%8E%B0%E6%AC%A1%E6%95%B0%E8%B6%85%E8%BF%87%E4%B8%80%E5%8D%8A%E7%9A%84%E6%95%B0%E5%AD%97_%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8_%E7%89%9B%E5%AE%A2%E7%BD%91%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22%E7%BB%99%E4%B8%80%E4%B8%AA%E9%95%BF%E5%BA%A6%E4%B8%BA%20n%20%E7%9A%84%E6%95%B0%E7%BB%84%EF%BC%8C%E6%95%B0%E7%BB%84%E4%B8%AD%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%E5%87%BA%E7%8E%B0%E7%9A%84%E6%AC%A1%E6%95%B0%E8%B6%85%E8%BF%87%E6%95%B0%E7%BB%84%E9%95%BF%E5%BA%A6%E7%9A%84%E4%B8%80%E5%8D%8A%EF%BC%8C%E8%AF%B7%E6%89%BE%E5%87%BA%E8%BF%99%E4%B8%AA%E6%95%B0%E5%AD%97%E3%80%82%E3%80%82%E9%A2%98%E7%9B%AE%E6%9D%A5%E8%87%AA%E3%80%90%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8%E3%80%91%22%2C%22url%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2Fe8a1b01a2df14cb2b228b30ee6a92163%3FtpId%3D13%26%26tqId%3D11181%26rp%3D1%26ru%3D%2Factivity%2Foj%26qru%3D%2Fta%2Fcoding-interviews%2Fquestion-ranking%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22KwsQN%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><p data-lake-id="ua7aaa160" id="ua7aaa160" style="text-align: left"><span data-lake-id="u2a03d8b4" id="u2a03d8b4" class="lake-fontsize-12" style="color: rgb(119,119,119)">7. </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fletter-combinations-of-a-phone-number%2Fsubmissions%2F%22%2C%22text%22%3A%22%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88OJ%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fleetcode.cn%2Ffavicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.leetcode-cn.com%2Fcn-legacy-assets%2Fimages%2FLeetCode_Sharing.png%22%2C%22title%22%3A%2217.%20%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E7%9A%84%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88%20-%20%E5%8A%9B%E6%89%A3%EF%BC%88LeetCode%EF%BC%89%22%2C%22belong%22%3A%22%E5%8A%9B%E6%89%A3%20LeetCode%22%2C%22belong_url%22%3Anull%2C%22desc%22%3A%2217.%20%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E7%9A%84%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88%20-%20%E7%BB%99%E5%AE%9A%E4%B8%80%E4%B8%AA%E4%BB%85%E5%8C%85%E5%90%AB%E6%95%B0%E5%AD%97%C2%A02-9%C2%A0%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E8%BF%94%E5%9B%9E%E6%89%80%E6%9C%89%E5%AE%83%E8%83%BD%E8%A1%A8%E7%A4%BA%E7%9A%84%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88%E3%80%82%E7%AD%94%E6%A1%88%E5%8F%AF%E4%BB%A5%E6%8C%89%20%E4%BB%BB%E6%84%8F%E9%A1%BA%E5%BA%8F%20%E8%BF%94%E5%9B%9E%E3%80%82%20%E7%BB%99%E5%87%BA%E6%95%B0%E5%AD%97%E5%88%B0%E5%AD%97%E6%AF%8D%E7%9A%84%E6%98%A0%E5%B0%84%E5%A6%82%E4%B8%8B%EF%BC%88%E4%B8%8E%E7%94%B5%E8%AF%9D%E6%8C%89%E9%94%AE%E7%9B%B8%E5%90%8C%EF%BC%89%E3%80%82%E6%B3%A8%E6%84%8F%201%20%E4%B8%8D%E5%AF%B9%E5%BA%94%E4%BB%BB%E4%BD%95%E5%AD%97%E6%AF%8D%E3%80%82%20%5Bhttps%3A%2F%2Fassets.leetcode-cn.com%2Faliyun-lc-upload%2Fuploads%2F2021%2F11%2F09%2F200px-telephone-keypad2svg.png%5D%20%E7%A4%BA%E4%BE%8B%201%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Adigits%20%3D%20%E2%80%9C23%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%5B%E2%80%9Cad%E2%80%9D%2C%E2%80%9Cae%E2%80%9D%2C%E2%80%9Caf%E2%80%9D%2C%E2%80%9Cbd%E2%80%9D%2C%E2%80%9Cbe%E2%80%9D%2C%E2%80%9Cbf%E2%80%9D%2C%E2%80%9Ccd%E2%80%9D%2C%E2%80%9Cce%E2%80%9D%2C%E2%80%9Ccf%E2%80%9D%5D%20%E7%A4%BA%E4%BE%8B%202%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Adigits%20%3D%20%E2%80%9D%E2%80%B3%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%5B%5D%20%E7%A4%BA%E4%BE%8B%203%EF%BC%9A%20%E8%BE%93%E5%85%A5%EF%BC%9Adigits%20%3D%20%E2%80%9C2%E2%80%9D%5Cn%E8%BE%93%E5%87%BA%EF%BC%9A%5B%E2%80%9Ca%E2%80%9D%2C%E2%80%9Cb%E2%80%9D%2C%E2%80%9Cc%E2%80%9D%5D%20%E6%8F%90%E7%A4%BA%EF%BC%9A%20*%200%20%3C%3D%20digits.length%20%3C%3D%204%20*%20digits%5Bi%5D%20%E6%98%AF%E8%8C%83%E5%9B%B4%20%5B%E2%80%982%E2%80%99%2C%20%E2%80%989%E2%80%99%5D%20%E7%9A%84%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%E3%80%82%22%2C%22url%22%3A%22https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fletter-combinations-of-a-phone-number%2Fsubmissions%2F%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Xzenx%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><p data-lake-id="u1167750e" id="u1167750e" style="text-align: left"><span data-lake-id="ud13eacf3" id="ud13eacf3" class="lake-fontsize-12" style="color: rgb(119,119,119)">8. </span><card type="inline" name="bookmarkInline" value="data:%7B%22mode%22%3A%22title%22%2C%22src%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F459bd355da1549fa8a49e350bf3df484%3FtpId%3D13%26tqId%3D11183%26rp%3D1%26ru%3D%252Factivity%252Foj%26qru%3D%252Fta%252Fcoding-interviews%252Fquestion-ranking%26tPage%3D2%22%2C%22text%22%3A%22%E8%BF%9E%E7%BB%AD%E5%AD%90%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%80%E5%A4%A7%E5%92%8COJ%22%2C%22detail%22%3A%7B%22icon%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Ffe%2Ffile%2Fimages%2Fnowpick%2Fweb%2Fwww-favicon.ico%22%2C%22image%22%3A%22https%3A%2F%2Fstatic.nowcoder.com%2Fimages%2Flogo_87_87.png%22%2C%22title%22%3A%22%E8%BF%9E%E7%BB%AD%E5%AD%90%E6%95%B0%E7%BB%84%E7%9A%84%E6%9C%80%E5%A4%A7%E5%92%8C_%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8_%E7%89%9B%E5%AE%A2%E7%BD%91%22%2C%22belong%22%3Anull%2C%22belong_url%22%3Anull%2C%22desc%22%3A%22%E8%BE%93%E5%85%A5%E4%B8%80%E4%B8%AA%E9%95%BF%E5%BA%A6%E4%B8%BAn%E7%9A%84%E6%95%B4%E5%9E%8B%E6%95%B0%E7%BB%84array%EF%BC%8C%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E4%B8%80%E4%B8%AA%E6%88%96%E8%BF%9E%E7%BB%AD%E5%A4%9A%E4%B8%AA%E6%95%B4%E6%95%B0%E7%BB%84%E6%88%90%E4%B8%80%E4%B8%AA%E5%AD%90%E6%95%B0%E7%BB%84%EF%BC%8C%E5%AD%90%E6%95%B0%E7%BB%84%E6%9C%80%E5%B0%8F%E3%80%82%E9%A2%98%E7%9B%AE%E6%9D%A5%E8%87%AA%E3%80%90%E7%89%9B%E5%AE%A2%E9%A2%98%E9%9C%B8%E3%80%91%22%2C%22url%22%3A%22https%3A%2F%2Fwww.nowcoder.com%2Fpractice%2F459bd355da1549fa8a49e350bf3df484%3FtpId%3D13%26tqId%3D11183%26rp%3D1%26ru%3D%252Factivity%252Foj%26qru%3D%252Fta%252Fcoding-interviews%252Fquestion-ranking%26tPage%3D2%22%2C%22extra%22%3A%7B%7D%2C%22_serializer%22%3A%22web.editor_link_detail%22%7D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22xymRo%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12" style="color: rgb(119,119,119)"></card></p><h3 data-lake-id="tbVZx" id="tbVZx" collapsed="true"><strong><span data-lake-id="u4899d19b" id="u4899d19b" class="lake-fontsize-12" style="color: rgb(51,51,51)">2.vector深度剖析及模拟实现</span></strong></h3><p data-lake-id="u987a9209" id="u987a9209"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748522369192-6b9f02a0-345c-4512-b6a7-c781774a1cc6.png%22%2C%22taskId%22%3A%22ue1b69ae2-5bab-42a4-ba8e-6ba24a07191%22%2C%22clientId%22%3A%22uf167b647-c52b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A577.3333333333334%2C%22height%22%3A475%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A2471136%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A866%2C%22originHeight%22%3A712%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22%E5%85%85%E8%87%B3%E9%9B%A8%E5%80%8D.%E5%A6%82%E6%9E%9C%E9%9B%A8%E5%80%8D%E5%AE%B9%E9%87%8F%E4%BB%8D%E4%B8%8D%E8%B6%B3%2C%E5%B0%B1%E6%90%AC%E5%A5%BD%E8%87%B3%E8%B6%B3%22%2C%22x%22%3A310%2C%22y%22%3A421%2C%22width%22%3A523%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22%E5%A2%9E%E5%8A%A0%E6%96%B0%E5%85%83%E7%B4%A0()%E6%97%B6%2C%E5%A6%82%E6%9E%9C%E8%B6%85%E9%80%9A%E5%AF%8C%E6%97%B6%E7%9A%84%E5%AE%B9%E9%87%8F%2C%E5%AE%B9%E9%87%8F%22%2C%22x%22%3A308%2C%22y%22%3A391%2C%22width%22%3A514%2C%22height%22%3A27%7D%2C%7B%22text%22%3A%22%E5%85%83%E7%B4%A0%E6%90%AC%E7%A7%BB%2C%E9%87%8A%E6%94%BE%E5%8E%9F%E7%A9%BA%E7%AD%89%E9%80%9A%E7%A8%8B%2C%E5%B7%A5%E7%A8%8B%E6%B5%A9%E5%A4%A7.%22%2C%22x%22%3A306%2C%22y%22%3A560%2C%22width%22%3A470%2C%22height%22%3A28%7D%2C%7B%22text%22%3A%22%E5%B9%BF%E9%87%8D%E8%A7%A6.%E5%AE%B9%E9%87%8F%E7%9A%84%E5%BF%85%E5%8E%8B%E9%87%8D%E6%96%B0%E9%85%8D%E7%BD%AE%22%2C%22x%22%3A307%2C%22y%22%3A533%2C%22width%22%3A507%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22%E6%B3%A8%E6%84%8F%2C%E6%9C%AC%E7%B3%BB%E7%9B%B4%E6%8E%A5%E5%9C%A8%E5%8E%9F%E7%A9%BA%E4%B9%8B%E5%B8%A6%E4%B8%8A%E6%96%B0%E5%A2%9E%E7%A9%BA%2C%E5%85%B6%22%2C%22x%22%3A311%2C%22y%22%3A505%2C%22width%22%3A521%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22ECTOR%E8%AE%B0%E5%BE%B7%E5%8F%8A%E5%90%84%E6%88%90%E5%91%98%E6%98%9F%E7%8E%B0%22%2C%22x%22%3A524%2C%22y%22%3A226%2C%22width%22%3A307%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22VECTOR%3CINT%3EIV(2%2C9)%3B%22%2C%22x%22%3A516%2C%22y%22%3A71%2C%22width%22%3A280%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22IV.PUSH_BACK(1)%3A%22%2C%22x%22%3A514%2C%22y%22%3A98%2C%22width%22%3A231%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22IV.PUSH_BACK(3)%3A%22%2C%22x%22%3A518%2C%22y%22%3A150%2C%22width%22%3A212%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22IV.PUSH_BACK(4)%3A%22%2C%22x%22%3A517%2C%22y%22%3A177%2C%22width%22%3A213%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22%E7%BB%8F%E4%BB%A5%E4%B8%8B%E5%8B%A4%E4%BD%9C%3A%22%2C%22x%22%3A518%2C%22y%22%3A16%2C%22width%22%3A159%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22ENDOFSTORAGE%22%2C%22x%22%3A330%2C%22y%22%3A306%2C%22width%22%3A164%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22%E9%92%A9%E5%A4%A7%E7%9A%84%E5%AE%B9%E9%87%8F.%22%2C%22x%22%3A311%2C%22y%22%3A450%2C%22width%22%3A156%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22IV.PUSH_BACK(2)%3B%22%2C%22x%22%3A515%2C%22y%22%3A124%2C%22width%22%3A215%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22%E5%B7%A6%E5%9B%BE%E7%8A%B6%E7%86%8A%22%2C%22x%22%3A516%2C%22y%22%3A256%2C%22width%22%3A96%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22CAPACITY%22%2C%22x%22%3A47%2C%22y%22%3A259%2C%22width%22%3A101%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22FIMISH%22%2C%22x%22%3A339%2C%22y%22%3A219%2C%22width%22%3A61%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22OPERATOR3%22%2C%22x%22%3A337%2C%22y%22%3A119%2C%22width%22%3A115%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22S1ZE%22%2C%22x%22%3A105%2C%22y%22%3A128%2C%22width%22%3A52%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A340%2C%22y%22%3A8%2C%22width%22%3A45%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22%E6%BB%A1%22%2C%22x%22%3A209%2C%22y%22%3A254%2C%22width%22%3A25%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22%E7%94%A8%22%2C%22x%22%3A208%2C%22y%22%3A279%2C%22width%22%3A26%2C%22height%22%3A34%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23f7f7f7%22%2C%22id%22%3A%22u0b478b73%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u434ceb09" id="u434ceb09"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748522371561-27dbe72a-7546-4786-8bdd-7268049ce8bb.png%22%2C%22taskId%22%3A%22u5e1e5c56-6beb-42a7-b10a-402dd3f0685%22%2C%22clientId%22%3A%22uf167b647-c52b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A483.3333333333333%2C%22height%22%3A161%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A700350%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A725%2C%22originHeight%22%3A241%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22BEGIN)%22%2C%22x%22%3A53%2C%22y%22%3A55%2C%22width%22%3A95%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22END(%22%2C%22x%22%3A581%2C%22y%22%3A56%2C%22width%22%3A67%2C%22height%22%3A22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23dddddd%22%2C%22id%22%3A%22u341eb854%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><h4 data-lake-id="qoSTk" id="qoSTk"><strong><span data-lake-id="u1ff19ae9" id="u1ff19ae9" class="lake-fontsize-12" style="color: rgb(51,51,51)">2.1 std::vector的核心框架接口的模拟实现bit::vector</span></strong></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%23include%20%3Cassert.h%3E%5Cn%2F%2F%20%E6%B3%A8%E6%84%8F%E8%BF%99%E9%87%8Cnamespace%E5%A4%A7%E5%AE%B6%E4%B8%8B%E5%8E%BB%E5%B0%B1%E4%B8%8D%E8%A6%81%E5%8F%96%E5%90%8D%E4%B8%BAbit%E4%BA%86%EF%BC%8C%E5%90%A6%E5%88%99%E5%87%BA%E5%8E%BB%E5%AE%B9%E6%98%93%E7%BF%BB%E8%BD%A6%E3%80%82%5E%5E%5Cnnamespace%20bit%5Cn%7B%5Cn%20%20%20%20template%3Cclass%20T%3E%5Cn%20%20%20%20class%20vector%5Cn%20%20%20%20%7B%5Cn%20%20%20%20public%3A%5Cn%20%20%20%20%20%20%20%20%2F%2F%20Vector%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%98%AF%E4%B8%80%E4%B8%AA%E5%8E%9F%E7%94%9F%E6%8C%87%E9%92%88%5Cn%20%20%20%20%20%20%20%20typedef%20T*%20iterator%3B%5Cn%20%20%20%20%20%20%20%20typedef%20const%20T*%20const_iterator%3B%5Cn%20%20%20%20%20%20%20%20iterator%20begin()%20%7B%20return%20_start%3B%20%7D%5Cn%20%20%20%20%20%20%20%20iterator%20end()%20%7B%20return%20_finish%3B%20%7D%5Cn%20%20%20%20%20%20%20%20const_iterator%20cbegin()%20const%20%7B%20return%20_start%3B%20%7D%5Cn%20%20%20%20%20%20%20%20const_iterator%20cend()%20const%20%7B%20return%20_finish%3B%20%7D%5Cn%20%20%20%20%20%20%20%20%2F%2F%20construct%20and%20destroy%5Cn%20%20%20%20%20%20%20%20vector()%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3A%20_start(nullptr)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2C%20_finish(nullptr)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2C%20_endOfStorage(nullptr)%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20vector(int%20n%2C%20const%20T%26%20value%20%3D%20T())%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3A%20_start(nullptr)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2C%20_finish(nullptr)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2C%20_endOfStorage(nullptr)%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20reserve(n)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20while%20(n--)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20push_back(value)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E8%8B%A5%E4%BD%BF%E7%94%A8iterator%E5%81%9A%E8%BF%AD%E4%BB%A3%E5%99%A8%EF%BC%8C%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%8C%BA%E9%97%B4%5Bfirst%2Clast)%E5%8F%AA%E8%83%BD%E6%98%AFvector%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E9%87%8D%E6%96%B0%E5%A3%B0%E6%98%8E%E8%BF%AD%E4%BB%A3%E5%99%A8%EF%BC%8C%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%8C%BA%E9%97%B4%5Bfirst%2Clast)%E5%8F%AF%E4%BB%A5%E6%98%AF%E4%BB%BB%E6%84%8F%E5%AE%B9%E5%99%A8%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%5Cn%20%20%20%20%20%20%20%20template%3Cclass%20InputIterator%3E%5Cn%20%20%20%20%20%20%20%20vector(InputIterator%20first%2C%20InputIterator%20last)%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20reserve(last%20-%20first)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20while%20(first%20!%3D%20last)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20push_back(*first)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bfirst%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20vector(const%20vector%3CT%3E%26%20v)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3A%20_start(nullptr)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2C%20_finish(nullptr)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2C%20_endOfStorage(nullptr)%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20reserve(v.capacity())%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20iterator%20it%20%3D%20begin()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20const_iterator%20vit%20%3D%20v.cbegin()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20while%20(vit%20!%3D%20v.cend())%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*it%2B%2B%20%3D%20*vit%2B%2B%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20vector%3CT%3E%26%20operator%3D(vector%3CT%3E%20v)%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20swap(v)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20*this%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20~vector()%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20delete%5B%5D%20_start%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_start%20%3D%20_finish%20%3D%20_endOfStorage%20%3D%20nullptr%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%2F%2F%20capacity%5Cn%20%20%20%20%20%20%20%20size_t%20size()%20const%20%7B%20return%20_finish%20-%20_start%3B%20%7D%5Cn%20%20%20%20%20%20%20%20size_t%20capacity()%20const%20%7B%20return%20_endOfStorage%20-%20_start%3B%20%7D%5Cn%20%20%20%20%20%20%20%20bool%20empty()%20const%20%7B%20return%20_first%20%3D%3D%20_finish%3B%20%7D%5Cn%20%20%20%20%20%20%20%20void%20reserve(size_t%20n)%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(n%20%3E%20capacity())%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20size_t%20oldSize%20%3D%20size()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20T*%20tmp%20%3D%20new%20T%5Bn%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E8%BF%99%E9%87%8C%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8memcpy%3F%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fif%20(_start)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20memcpy(tmp%2C%20_start%2C%20sizeof(T)*size)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(_start)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20(size_t%20i%20%3D%200%3B%20i%20%3C%20oldSize%3B%20%2B%2Bi)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tmp%5Bi%5D%20%3D%20_start%5Bi%5D%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_start%20%3D%20tmp%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_finish%20%3D%20_start%20%2B%20oldSize%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_endOfStorage%20%3D%20_start%20%2B%20n%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20void%20resize(size_t%20n%2C%20const%20T%26%20value%20%3D%20T())%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%201.%E5%A6%82%E6%9E%9Cn%E5%B0%8F%E4%BA%8E%E5%BD%93%E5%89%8D%E7%9A%84size%EF%BC%8C%E5%88%99%E6%95%B0%E6%8D%AE%E4%B8%AA%E6%95%B0%E7%BC%A9%E5%B0%8F%E5%88%B0n%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(n%20%3C%3D%20size())%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_finish%20%3D%20_start%20%2B%20n%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%202.%E7%A9%BA%E9%97%B4%E4%B8%8D%E5%A4%9F%E5%88%99%E5%A2%9E%E5%AE%B9%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(n%20%3E%20capacity())%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reserve(n)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%203.%E5%B0%86size%E6%89%A9%E5%A4%A7%E5%88%B0n%5Cn%20%20%20%20%20%20%20%20%20%20%20%20iterator%20it%20%3D%20_finish%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20_finish%20%3D%20_start%20%2B%20n%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20while%20(it%20!%3D%20_finish)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*it%20%3D%20value%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bit%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2Faccess%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%5Cn%20%20%20%20%20%20%20%20T%26%20operator%5B%5D(size_t%20pos)%20%7B%20return%20_start%5Bpos%5D%3B%20%7D%5Cn%20%20%20%20%20%20%20%20const%20T%26%20operator%5B%5D(size_t%20pos)const%20%7B%20return%20_start%5Bpos%5D%3B%20%7D%5Cn%20%20%20%20%20%20%20%20%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2Fmodify%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%5Cn%20%20%20%20%20%20%20%20void%20push_back(const%20T%26%20x)%20%7B%20insert(end()%2C%20x)%3B%20%7D%5Cn%20%20%20%20%20%20%20%20void%20pop_back()%20%7B%20erase(--end())%3B%20%7D%5Cn%20%20%20%20%20%20%20%20void%20swap(vector%3CT%3E%26%20v)%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20std%3A%3Aswap(_start%2C%20v._start)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20std%3A%3Aswap(_finish%2C%20v._finish)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20std%3A%3Aswap(_endOfStorage%2C%20v._endOfStorage)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20iterator%20insert(iterator%20pos%2C%20const%20T%26%20x)%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20assert(pos%20%3C%3D%20_finish)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E7%A9%BA%E9%97%B4%E4%B8%8D%E5%A4%9F%E5%85%88%E8%BF%9B%E8%A1%8C%E5%A2%9E%E5%AE%B9%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(_finish%20%3D%3D%20_endOfStorage)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fsize_t%20size%20%3D%20size()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20size_t%20newCapacity%20%3D%20(0%20%3D%3D%20capacity())%20%3F%201%20%3A%20capacity()%20*%202%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reserve(newCapacity)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%A6%82%E6%9E%9C%E5%8F%91%E7%94%9F%E4%BA%86%E5%A2%9E%E5%AE%B9%EF%BC%8C%E9%9C%80%E8%A6%81%E9%87%8D%E7%BD%AEpos%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pos%20%3D%20_start%20%2B%20size()%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20iterator%20end%20%3D%20_finish%20-%201%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20while%20(end%20%3E%3D%20pos)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*(end%20%2B%201)%20%3D%20*end%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20--end%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20*pos%20%3D%20x%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2B%2B_finish%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20pos%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E8%BF%94%E5%9B%9E%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E7%9A%84%E4%B8%8B%E4%B8%80%E4%B8%AA%E6%95%B0%E6%8D%AE%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%96%B9%E4%BE%BF%E8%A7%A3%E5%86%B3%3A%E4%B8%80%E8%BE%B9%E9%81%8D%E5%8E%86%E4%B8%80%E8%BE%B9%E5%88%A0%E9%99%A4%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98%5Cn%20%20%20%20%20%20%20%20iterator%20erase(iterator%20pos)%5Cn%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%8C%AA%E5%8A%A8%E6%95%B0%E6%8D%AE%E8%BF%9B%E8%A1%8C%E5%88%A0%E9%99%A4%5Cn%20%20%20%20%20%20%20%20%20%20%20%20iterator%20begin%20%3D%20pos%20%2B%201%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20while%20(begin%20!%3D%20_finish)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20*(begin%20-%201)%20%3D%20*begin%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bbegin%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20--_finish%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20pos%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20private%3A%5Cn%20%20%20%20%20%20%20%20iterator%20_start%3B%20%2F%2F%20%E6%8C%87%E5%90%91%E6%95%B0%E6%8D%AE%E5%9D%97%E7%9A%84%E5%BC%80%E5%A7%8B%5Cn%20%20%20%20%20%20%20%20iterator%20_finish%3B%20%2F%2F%20%E6%8C%87%E5%90%91%E6%9C%89%E6%95%88%E6%95%B0%E6%8D%AE%E7%9A%84%E5%B0%BE%5Cn%20%20%20%20%20%20%20%20iterator%20_endOfStorage%3B%20%2F%2F%20%E6%8C%87%E5%90%91%E5%AD%98%E5%82%A8%E5%AE%B9%E9%87%8F%E7%9A%84%E5%B0%BE%5Cn%20%20%20%20%7D%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22QN7uN%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h4 data-lake-id="bwTct" id="bwTct"><strong><span data-lake-id="ud613e5f8" id="ud613e5f8" class="lake-fontsize-12" style="color: rgb(51,51,51)">2.2 使用memcpy拷贝问题</span></strong></h4><p data-lake-id="u814643ee" id="u814643ee"><span data-lake-id="u0e8fd8e1" id="u0e8fd8e1" class="lake-fontsize-12" style="color: rgb(119,119,119)">假设模拟实现的vector中的reserve接口中，使用memcpy进行的拷贝，以下代码会发生什么问题？</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22int%20main()%5Cn%7B%5Cn%20bite%3A%3Avector%3Cbite%3A%3Astring%3E%20v%3B%5Cn%20v.push_back(%5C%221111%5C%22)%3B%5Cn%20v.push_back(%5C%222222%5C%22)%3B%5Cn%20v.push_back(%5C%223333%5C%22)%3B%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22ovPwn%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u04fc3950" id="u04fc3950"><span data-lake-id="u153c19de" id="u153c19de" class="lake-fontsize-12" style="color: rgb(119,119,119)">问题分析： </span></p><p data-lake-id="ub6e5c328" id="ub6e5c328"><span data-lake-id="u21626bb0" id="u21626bb0" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. memcpy</span><span data-lake-id="u9aeed2fc" id="u9aeed2fc" class="lake-fontsize-12" style="color: rgb(119,119,119)">是内存的二进制格式拷贝，将一段内存空间中内容原封不动的拷贝到另外一段内存空间中 </span></p><p data-lake-id="u287576ae" id="u287576ae"><span data-lake-id="ua0970543" id="ua0970543" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 如果拷贝的是自定义类型的元素，memcpy即高效又不会出错，但如果拷贝的是自定义类型元素，并且自定义类型元素中涉及到资源管理时，就会出错，因为memcpy的拷贝实际是浅拷贝。</span></p><p data-lake-id="u5d441d66" id="u5d441d66"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748522543236-a000549c-7f63-4272-99d7-043d3d8a84a2.png%22%2C%22taskId%22%3A%22ua3beb211-dd4b-4959-8cda-d177cc5b8c2%22%2C%22clientId%22%3A%22uf167b647-c52b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A589.3333333333334%2C%22height%22%3A677%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A3599447%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A884%2C%22originHeight%22%3A1016%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22%E6%8F%92%E5%85%A5%5C%222222%5C%22%E6%9C%9F%E9%97%B4%2C%E9%9C%80%E8%A6%81%E8%BF%9B%E8%A1%8C%E6%89%93%E6%89%A9%E5%AE%B9%3A%22%2C%22x%22%3A68%2C%22y%22%3A460%2C%22width%22%3A322%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%22%E6%8F%92%E5%85%A5%5C%221111%5C%22%E4%B9%8B%E5%90%8E%E7%9A%84VECTOR%22%2C%22x%22%3A92%2C%22y%22%3A55%2C%22width%22%3A273%2C%22height%22%3A28%7D%2C%7B%22text%22%3A%22%E7%A9%BA%E9%97%B4%E5%9C%B0%E5%9D%80%3A0X0012FFA0%22%2C%22x%22%3A577%2C%22y%22%3A511%2C%22width%22%3A253%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22%E7%A9%BA%E9%97%B4%E5%9C%B0%E5%9D%80%3A0X0012FFA0%22%2C%22x%22%3A485%2C%22y%22%3A119%2C%22width%22%3A229%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22BITE%3A%3AVECTOR%3CBITE%3A%3ASTRING%3EV%22%2C%22x%22%3A575%2C%22y%22%3A712%2C%22width%22%3A237%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22STR%3A0X0012FFA0%22%2C%22x%22%3A81%2C%22y%22%3A119%2C%22width%22%3A174%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22STR%3A0X0012FA0%22%2C%22x%22%3A86%2C%22y%22%3A512%2C%22width%22%3A168%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22CAPACITY%3AO%22%2C%22x%22%3A113%2C%22y%22%3A945%2C%22width%22%3A115%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22.%E5%BC%80%E8%BE%9F%E6%96%B0%E7%A9%BA%E9%97%B4%22%2C%22x%22%3A86%2C%22y%22%3A691%2C%22width%22%3A133%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22CAPACITY%3A4%22%2C%22x%22%3A109%2C%22y%22%3A203%2C%22width%22%3A118%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22CAPACITY%3AO%22%2C%22x%22%3A115%2C%22y%22%3A819%2C%22width%22%3A114%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22BITE%3A%3AVECTORBITE%3A%3ASTRING%3EV%22%2C%22x%22%3A537%2C%22y%22%3A215%2C%22width%22%3A245%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22V-PUSHBACK(2222)%3B%22%2C%22x%22%3A576%2C%22y%22%3A758%2C%22width%22%3A166%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22STR%3A0XO012FFC0%22%2C%22x%22%3A84%2C%22y%22%3A867%2C%22width%22%3A167%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22STR%3A0X0012FB0%22%2C%22x%22%3A85%2C%22y%22%3A741%2C%22width%22%3A166%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22V-PUSH_BACK(3333*)%3B%22%2C%22x%22%3A535%2C%22y%22%3A287%2C%22width%22%3A173%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22V.PUSH_BACK(3333)%3B%22%2C%22x%22%3A575%2C%22y%22%3A782%2C%22width%22%3A167%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22V.PUSH_BACK(2222*)%3B%22%2C%22x%22%3A536%2C%22y%22%3A263%2C%22width%22%3A174%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22VPUSHBACK(1111)%3B%22%2C%22x%22%3A536%2C%22y%22%3A239%2C%22width%22%3A182%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22V.PUSHBACK(1111)%3B%22%2C%22x%22%3A577%2C%22y%22%3A735%2C%22width%22%3A175%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22CAPACITY%3A4%22%2C%22x%22%3A116%2C%22y%22%3A593%2C%22width%22%3A115%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22SIZE%3A4%22%2C%22x%22%3A140%2C%22y%22%3A553%2C%22width%22%3A66%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%221111%5C%22%22%2C%22x%22%3A376%2C%22y%22%3A116%2C%22width%22%3A69%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22INTMAIN()%22%2C%22x%22%3A503%2C%22y%22%3A166%2C%22width%22%3A86%2C%22height%22%3A17%7D%2C%7B%22text%22%3A%22SIZE%3A0%22%2C%22x%22%3A133%2C%22y%22%3A779%2C%22width%22%3A69%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22RETURNE%3B%22%2C%22x%22%3A534%2C%22y%22%3A312%2C%22width%22%3A88%2C%22height%22%3A13%7D%2C%7B%22text%22%3A%221111%5C%22%22%2C%22x%22%3A456%2C%22y%22%3A510%2C%22width%22%3A68%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22RETURNOS%22%2C%22x%22%3A575%2C%22y%22%3A807%2C%22width%22%3A78%2C%22height%22%3A12%7D%2C%7B%22text%22%3A%22INTMAIN)%22%2C%22x%22%3A544%2C%22y%22%3A667%2C%22width%22%3A79%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22NEW%3A%22%2C%22x%22%3A16%2C%22y%22%3A846%2C%22width%22%3A58%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22SIZE%3A0%22%2C%22x%22%3A140%2C%22y%22%3A905%2C%22width%22%3A64%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22SIZE%3A4%22%2C%22x%22%3A139%2C%22y%22%3A162%2C%22width%22%3A69%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22V%3A%22%2C%22x%22%3A42%2C%22y%22%3A554%2C%22width%22%3A25%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22V%3A%22%2C%22x%22%3A32%2C%22y%22%3A163%2C%22width%22%3A27%2C%22height%22%3A21%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23d2b8ad%22%2C%22id%22%3A%22u3919df50%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="ue54253bb" id="ue54253bb"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748522548825-370b164e-2b06-488f-a462-629adcdb4189.png%22%2C%22taskId%22%3A%22uf9b5a319-918a-4d29-b395-d1660682d4a%22%2C%22clientId%22%3A%22uf167b647-c52b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A589.3333333333334%2C%22height%22%3A759%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A4035194%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A884%2C%22originHeight%22%3A1139%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22%E7%A9%BA%E9%97%B4%E5%9C%B0%E5%9D%80%3A0X0012FFA0%22%2C%22x%22%3A542%2C%22y%22%3A646%2C%22width%22%3A246%2C%22height%22%3A26%7D%2C%7B%22text%22%3A%222.%E6%8B%B7%E8%B4%9D%E5%85%83%E7%B4%A0%3A%E9%87%87%E7%94%A8MEMCPY%E6%8B%B7%E8%B4%9D%22%2C%22x%22%3A78%2C%22y%22%3A25%2C%22width%22%3A306%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22%E6%8C%87%E5%90%91%E4%BA%86%E4%B8%80%E5%9D%97%E5%B7%B1%E7%BB%8F%E8%A2%AB%E9%87%8A%E6%94%BE%E7%9A%84%E7%A9%BA%E9%97%B4%22%2C%22x%22%3A277%2C%22y%22%3A770%2C%22width%22%3A290%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22V.PUSH_BACK(1111%5C%22)%3B%22%2C%22x%22%3A530%2C%22y%22%3A195%2C%22width%22%3A180%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22%E9%97%B4%E5%9C%B0%E5%9D%80%3A0X0012FFA0%22%2C%22x%22%3A589%2C%22y%22%3A79%2C%22width%22%3A249%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22STR%3A0X0012FFA0%22%2C%22x%22%3A63%2C%22y%22%3A846%2C%22width%22%3A164%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22BITE%3A%3AVECTOR%3CBITE%3A%3ASTRING%3EV%22%2C%22x%22%3A528%2C%22y%22%3A172%2C%22width%22%3A246%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%223.%E9%87%8A%E6%94%BE%E6%97%A7%E7%A9%BA%E9%97%B4%22%2C%22x%22%3A45%2C%22y%22%3A598%2C%22width%22%3A137%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22STR%3A0XO012FA0%22%2C%22x%22%3A60%2C%22y%22%3A648%2C%22width%22%3A165%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22STR%3A0X0012FFC0%22%2C%22x%22%3A90%2C%22y%22%3A412%2C%22width%22%3A168%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22STR%3A0X0012FFA0%22%2C%22x%22%3A90%2C%22y%22%3A78%2C%22width%22%3A162%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22V.PUSHBACK(3333)%22%2C%22x%22%3A589%2C%22y%22%3A941%2C%22width%22%3A163%2C%22height%22%3A17%7D%2C%7B%22text%22%3A%22%E7%A9%BA%E9%97%B4%E4%B8%A2%E5%A4%B1%E4%BA%86%22%2C%22x%22%3A377%2C%22y%22%3A291%2C%22width%22%3A114%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22%E7%A9%BA%E9%97%B4%E4%B8%A2%E5%A4%B1%E4%BA%86%22%2C%22x%22%3A337%2C%22y%22%3A853%2C%22width%22%3A105%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22BITE%3A%3AVECTORBITE%3A%3ASTRING%3EV%22%2C%22x%22%3A589%2C%22y%22%3A873%2C%22width%22%3A236%2C%22height%22%3A17%7D%2C%7B%22text%22%3A%22CAPACITY%3A4%22%2C%22x%22%3A91%2C%22y%22%3A926%2C%22width%22%3A108%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22V.PUSHBACK(2222)%3B%22%2C%22x%22%3A531%2C%22y%22%3A220%2C%22width%22%3A169%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22V.PUSHBACK(1111)%3B%22%2C%22x%22%3A590%2C%22y%22%3A896%2C%22width%22%3A174%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22V.PUSH_BACK(3333%5C%22)%22%2C%22x%22%3A533%2C%22y%22%3A243%2C%22width%22%3A165%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22STR%3A0X0012FC0%22%2C%22x%22%3A61%2C%22y%22%3A972%2C%22width%22%3A161%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22STR%3A0X0012FA0%22%2C%22x%22%3A89%2C%22y%22%3A282%2C%22width%22%3A173%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22CAPACITY%3AO%22%2C%22x%22%3A119%2C%22y%22%3A493%2C%22width%22%3A115%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22CAPACITY%3A4%22%2C%22x%22%3A119%2C%22y%22%3A365%2C%22width%22%3A112%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22CAPACITY%3A4%22%2C%22x%22%3A80%2C%22y%22%3A730%2C%22width%22%3A113%2C%22height%22%3A17%7D%2C%7B%22text%22%3A%22VPUSH_BACK(2222)%3B%22%2C%22x%22%3A589%2C%22y%22%3A919%2C%22width%22%3A167%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22STR%E7%A7%B0%E4%B8%BA%E4%B9%9F%E6%8C%87%E9%92%88%2C%22%2C%22x%22%3A278%2C%22y%22%3A744%2C%22width%22%3A179%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22CAPACITY%3A4%22%2C%22x%22%3A114%2C%22y%22%3A163%2C%22width%22%3A118%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22CAPACITY%3AO%22%2C%22x%22%3A88%2C%22y%22%3A1051%2C%22width%22%3A109%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%221111%22%2C%22x%22%3A419%2C%22y%22%3A645%2C%22width%22%3A64%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%221111%22%2C%22x%22%3A461%2C%22y%22%3A78%2C%22width%22%3A68%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22NEW%3A%22%2C%22x%22%3A18%2C%22y%22%3A393%2C%22width%22%3A54%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22SIZE%3A4%22%2C%22x%22%3A138%2C%22y%22%3A122%2C%22width%22%3A74%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22INTMAIN()%22%2C%22x%22%3A537%2C%22y%22%3A827%2C%22width%22%3A111%2C%22height%22%3A17%7D%2C%7B%22text%22%3A%22SIZE%3A0%22%2C%22x%22%3A108%2C%22y%22%3A1011%2C%22width%22%3A66%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22RETURNO%22%2C%22x%22%3A588%2C%22y%22%3A966%2C%22width%22%3A82%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22INTMAIN()%22%2C%22x%22%3A488%2C%22y%22%3A125%2C%22width%22%3A96%2C%22height%22%3A17%7D%2C%7B%22text%22%3A%22_SIZE%3A4%22%2C%22x%22%3A101%2C%22y%22%3A886%2C%22width%22%3A78%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22RETURNO%22%2C%22x%22%3A535%2C%22y%22%3A267%2C%22width%22%3A83%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22SIZE%3A4%22%2C%22x%22%3A138%2C%22y%22%3A325%2C%22width%22%3A72%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22SIZE%3A4%22%2C%22x%22%3A100%2C%22y%22%3A689%2C%22width%22%3A81%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22SIZE%3A0%22%2C%22x%22%3A139%2C%22y%22%3A453%2C%22width%22%3A69%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22V%3A%22%2C%22x%22%3A36%2C%22y%22%3A120%2C%22width%22%3A28%2C%22height%22%3A27%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23d4c0b3%22%2C%22id%22%3A%22u90c4d18f%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u9b657725" id="u9b657725"><strong><span data-lake-id="udfdb87cf" id="udfdb87cf" class="lake-fontsize-12" style="color: rgb(119,119,119)">结论：如果对象中涉及到资源管理时，千万不能使用memcpy进行对象之间的拷贝，因为memcpy是 浅拷贝，否则可能会引起内存泄漏甚至程序崩溃。</span></strong></p><h4 data-lake-id="xqHuO" id="xqHuO"><strong><span data-lake-id="uad6611ab" id="uad6611ab" class="lake-fontsize-12" style="color: rgb(51,51,51)">2.2 对bit::vector核心接口的测试</span></strong></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20constructing%20vectors%5Cnvoid%20TestVector1()%5Cn%7B%5Cn%20%2F%2F%20constructors%20used%20in%20the%20same%20order%20as%20described%20above%3A%5Cn%20bite%3A%3Avector%3Cint%3E%20first%3B%20%2F%2F%20empty%20vector%20of%20%5Cn1%5Cn2%5Cn3%5Cn4%5Cn5%5Cn%E6%AF%94%E7%89%B9%E7%A7%91%E6%8A%80%5Cnints%5Cn%20bite%3A%3Avector%3Cint%3E%20second(4%2C%20100)%3B%20%2F%2F%20four%20ints%20with%20value%20%5Cn100%5Cn%20bite%3A%3Avector%3Cint%3E%20third(second.Begin()%2C%20second.End())%3B%20%2F%2F%20iterating%20through%20%5Cnsecond%5Cn%20bite%3A%3Avector%3Cint%3E%20fourth(third)%3B%20%2F%2F%20a%20copy%20of%20third%5Cn%20%2F%2F%20the%20iterator%20constructor%20can%20also%20be%20used%20to%20construct%20from%20arrays%3A%5Cn%20int%20myints%5B%5D%20%3D%20%7B%2016%2C%202%2C%2077%2C%2029%20%7D%3B%5Cn%20bit%3A%3Avector%3Cint%3E%20fifth(myints%2C%20myints%20%2B%20sizeof(myints)%20%2F%20sizeof(int))%3B%5Cn%20std%3A%3Acout%20%3C%3C%20%5C%22The%20contents%20of%20fifth%20are%3A%5C%22%3B%5Cn%20for%20(bit%3A%3Avector%3Cint%3E%3A%3Aiterator%20it%20%3D%20fifth.begin()%3B%20it%20!%3D%20fifth.end()%3B%20%2B%2Bit)%5Cn%20std%3A%3Acout%20%3C%3C*it%3C%3C%20%5C%22%20%5C%22%3B%5Cn%20std%3A%3Acout%20%3C%3C%20endl%3B%5Cn%20%2F%2F%20%E6%B5%8B%E8%AF%95T%E6%98%AFstring%E6%97%B6%EF%BC%8C%E6%8B%B7%E8%B4%9D%E9%97%AE%E9%A2%98%5Cn%20bit%3A%3Avector%3Cstring%3E%20strV%3B%5Cn%20strV.PushBack(%5C%221111%5C%22)%3B%5Cn%20strV.PushBack(%5C%222222%5C%22)%3B%5Cn%20strV.PushBack(%5C%223333%5C%22)%3B%5Cn%20strV.PushBack(%5C%224444%5C%22)%3B%5Cn%20for%20(size_t%20i%20%3D%200%3B%20i%20%3C%20strV.size()%3B%20%2B%2Bi)%5Cn%20%7B%5Cn%20cout%20%3C%3C%20strV%5Bi%5D%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%20%7D%5Cn%20cout%20%3C%3C%20endl%3B%5Cn%7D%5Cn%2F%2Fvector%20iterator%E7%9A%84%E4%BD%BF%E7%94%A8%5Cnvoid%20PrintVector(const%20bite%3A%3Avector%3Cint%3E%26%20v)%5Cn%7B%5Cn%20%2F%2F%20%E4%BD%BF%E7%94%A8const%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%BF%9B%E8%A1%8C%E9%81%8D%E5%8E%86%E6%89%93%E5%8D%B0%5Cn%20bit%3A%3Avector%3Cint%3E%3A%3Aconst_iterator%20it%20%3D%20v.begin()%3B%5Cn%20while%20(it%20!%3D%20v.end())%5Cn%20%7B%5Cn%20cout%20%3C%3C%20*it%20%3C%3C%20%5C%22%20%5C%22%3B%5Cn%20%2B%2Bit%3B%5Cn%20%7D%5Cn%20cout%20%3C%3C%20endl%3B%5Cn%7D%5Cnvoid%20TestVector2()%5Cn%7B%5Cn%20%2F%2F%20%E4%BD%BF%E7%94%A8push_back%E6%8F%92%E5%85%A54%E4%B8%AA%E6%95%B0%E6%8D%AE%5Cn%20bite%3A%3Avector%3Cint%3E%20v%3B%5Cn%20v.push_back(1)%3B%5Cn%20v.push_back(2)%3B%5Cn%20v.push_back(3)%3B%5Cn%20v.push_back(4)%3B%5Cn%20PrintVector(v)%3B%5Cn%20%2F%2F%20%E4%BD%BF%E7%94%A8%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%BF%9B%E8%A1%8C%E4%BF%AE%E6%94%B9%5Cn%20%20%20%20auto%20it%20%3D%20v.begin()%3B%5Cn%20while%20(it%20!%3D%20v.end())%5Cn%20%7B%5Cn%20*it%20*%3D%202%3B%5Cn%20%2B%2Bit%3B%5Cn%20%7D%5Cn%20PrintVector(v)%3B%5Cn%20%5Cn%20%2F%2F%20%E8%BF%99%E9%87%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%87%BAC%2B%2B11%E6%94%AF%E6%8C%81iterator%E5%8F%8A%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%B0%B1%E6%94%AF%E6%8C%81%E8%8C%83%E5%9B%B4for%5Cn%20for(auto%20e%20%3A%20v)%5Cn%20cout%3C%3Ce%3C%3C%5C%22%20%5C%22%3B%5Cn%7D%5Cn%2F%2F%20find%20%2F%20insert%20%2F%20erase%5Cnvoid%20TestVector3()%5Cn%7B%5Cn%20int%20a%5B%5D%20%3D%20%7B%201%2C%202%2C%203%2C%204%20%7D%3B%5Cn%20bite%3A%3Avector%3Cint%3E%20v(a%2C%20a%20%2B%20sizeof(a)%20%2F%20sizeof(a%5B0%5D))%3B%5Cn%20%2F%2F%20%E4%BD%BF%E7%94%A8find%E6%9F%A5%E6%89%BE3%E6%89%80%E5%9C%A8%E4%BD%8D%E7%BD%AE%E7%9A%84iterator%5Cn%20auto%20pos%20%3D%20find(v.begin()%2C%20v.end()%2C%203)%3B%5Cn%20%2F%2F%20%E5%9C%A8pos%E4%BD%8D%E7%BD%AE%E4%B9%8B%E5%89%8D%E6%8F%92%E5%85%A530%5Cn%20v.insert(pos%2C%2030)%3B%5Cn%20PrintVector(v)%3B%5Cn%20%2F%2F%20%E5%88%A0%E9%99%A4pos%E4%BD%8D%E7%BD%AE%E7%9A%84%E6%95%B0%E6%8D%AE%5Cn%20pos%20%3D%20find(v.begin()%2C%20v.end()%2C%203)%3B%5Cn%20v.Erase(pos)%3B%5Cn%20PrintVector(v)%3B%20%5Cn%7D%5Cn%2F%2F%20iterator%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98%5Cnvoid%20TestVector4()%5Cn%7B%5Cn%20int%20a%5B%5D%20%3D%20%7B%201%2C%202%2C%203%2C%204%20%7D%3B%5Cn%20bite%3A%3Avector%3Cint%3E%20v(a%2C%20a%20%2B%20sizeof(a)%20%2F%20sizeof(a%5B0%5D))%3B%5Cn%20%2F%2F%20%E5%88%A0%E9%99%A4pos%E4%BD%8D%E7%BD%AE%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%AF%BC%E8%87%B4pos%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%A4%B1%E6%95%88%5Cn%20auto%20pos%20%3D%20find(v.begin()%2C%20v.end()%2C%203)%3B%5Cn%20v.erase(pos)%3B%5Cn%20cout%20%3C%3C%20*pos%20%3C%3C%20endl%3B%20%2F%2F%20%E6%AD%A4%E5%A4%84%E4%BC%9A%E5%AF%BC%E8%87%B4%E9%9D%9E%E6%B3%95%E8%AE%BF%E9%97%AE%5Cn%20%2F%2F%20%E5%9C%A8pos%E4%BD%8D%E7%BD%AE%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%AF%BC%E8%87%B4pos%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%A4%B1%E6%95%88%E3%80%82%5Cn%20%2F%2F%20insert%E4%BC%9A%E5%AF%BC%E8%87%B4%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%A4%B1%E6%95%88%EF%BC%8C%E6%98%AF%E5%9B%A0%E4%B8%BAinsert%E5%8F%AF%5Cn%20%2F%2F%20%E8%83%BD%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%A2%9E%E5%AE%B9%EF%BC%8C%E5%A2%9E%E5%AE%B9%E5%90%8Epos%E8%BF%98%E6%8C%87%E5%90%91%E5%8E%9F%E6%9D%A5%E7%9A%84%E7%A9%BA%E9%97%B4%EF%BC%8C%E8%80%8C%E5%8E%9F%E6%9D%A5%E7%9A%84%E7%A9%BA%E9%97%B4%E5%B7%B2%E7%BB%8F%E9%87%8A%E6%94%BE%E4%BA%86%E3%80%82%5Cn%20pos%20%3D%20find(v.begin()%2C%20v.end()%2C%203)%3B%5Cn%20v.insert(pos%2C%2030)%3B%5Cn%20cout%20%3C%3C%20*pos%20%3C%3C%20endl%3B%20%2F%2F%20%E6%AD%A4%E5%A4%84%E4%BC%9A%E5%AF%BC%E8%87%B4%E9%9D%9E%E6%B3%95%E8%AE%BF%E9%97%AE%5Cn%20%2F%2F%20%E5%AE%9E%E7%8E%B0%E5%88%A0%E9%99%A4v%E4%B8%AD%E7%9A%84%E6%89%80%E6%9C%89%E5%81%B6%E6%95%B0%5Cn%20%2F%2F%20%E4%B8%8B%E9%9D%A2%E7%9A%84%E7%A8%8B%E5%BA%8F%E4%BC%9A%E5%B4%A9%E6%BA%83%E6%8E%89%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%98%AF%E5%81%B6%E6%95%B0%EF%BC%8Cerase%E5%AF%BC%E8%87%B4it%E5%A4%B1%E6%95%88%5Cn%20%20%20%20%2F%2F%20%E5%AF%B9%E5%A4%B1%E6%95%88%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%BF%9B%E8%A1%8C%2B%2Bit%EF%BC%8C%E4%BC%9A%E5%AF%BC%E8%87%B4%E7%A8%8B%E5%BA%8F%E5%B4%A9%E6%BA%83%5Cn%20auto%20it%20%3D%20v.begin()%3B%5Cn%20while%20(it%20!%3D%20v.end())%5Cn%20%7B%5Cn%20if%20(*it%20%25%202%20%3D%3D%200)%5Cn%20v.erase(it)%3B%5Cn%20%2B%2Bit%3B%5Cn%20%7D%5Cn%20%2F%2F%20%E4%BB%A5%E4%B8%8A%E7%A8%8B%E5%BA%8F%E8%A6%81%E6%94%B9%E6%88%90%E4%B8%8B%E9%9D%A2%E8%BF%99%E6%A0%B7%EF%BC%8Cerase%E4%BC%9A%E8%BF%94%E5%9B%9E%E5%88%A0%E9%99%A4%E4%BD%8D%E7%BD%AE%E7%9A%84%E4%B8%8B%E4%B8%80%E4%B8%AA%E4%BD%8D%E7%BD%AE%5Cn%20it%20%3D%20v.begin()%3B%5Cn%20while%20(it%20!%3D%20v.end())%5Cn%20%7B%5Cn%20if%20(*it%20%25%202%20%3D%3D%200)%5Cn%20it%20%3D%20v.erase(it)%3B%5Cn%20else%5Cn%20%2B%2Bit%3B%5Cn%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22IwMIT%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h4 data-lake-id="RurCT" id="RurCT"><span data-lake-id="u5d621752" id="u5d621752" style="color: rgb(119,119,119)">2.3 动态二维数组理解</span></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20%E4%BB%A5%E6%9D%A8%E6%85%A7%E4%B8%89%E8%A7%92%E7%9A%84%E5%89%8Dn%E8%A1%8C%E4%B8%BA%E4%BE%8B%EF%BC%9A%E5%81%87%E8%AE%BEn%E4%B8%BA5%5Cnvoid%20test5(size_t%20n)%5Cn%7B%5Cn%20%2F%2F%20%E4%BD%BF%E7%94%A8vector%E5%AE%9A%E4%B9%89%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84vv%EF%BC%8Cvv%E4%B8%AD%E7%9A%84%E6%AF%8F%E4%B8%AA%E5%85%83%E7%B4%A0%E9%83%BD%E6%98%AFvector%3Cint%3E%5Cn%20bit%3A%3Avector%3Cbit%3A%3Avector%3Cint%3E%3E%20vv(n)%3B%5Cn%20%5Cn%20%2F%2F%20%E5%B0%86%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E6%AF%8F%E4%B8%80%E8%A1%8C%E4%B8%AD%E7%9A%84vecotr%3Cint%3E%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0%E5%85%A8%E9%83%A8%E8%AE%BE%E7%BD%AE%E4%B8%BA1%5Cn%20for%20(size_t%20i%20%3D%200%3B%20i%20%3C%20n%3B%20%2B%2Bi)%5Cn%20vv%5Bi%5D.resize(i%20%2B%201%2C%201)%3B%5Cn%20%2F%2F%20%E7%BB%99%E6%9D%A8%E6%85%A7%E4%B8%89%E8%A7%92%E5%87%BA%E7%AC%AC%E4%B8%80%E5%88%97%E5%92%8C%E5%AF%B9%E8%A7%92%E7%BA%BF%E7%9A%84%E6%89%80%E6%9C%89%E5%85%83%E7%B4%A0%E8%B5%8B%E5%80%BC%5Cn%20for%20(int%20i%20%3D%202%3B%20i%20%3C%20n%3B%20%2B%2Bi)%5Cn%20%7B%5Cn%20for%20(int%20j%20%3D%201%3B%20j%20%3C%20i%3B%20%2B%2Bj)%5Cn%20%7B%5Cn%20vv%5Bi%5D%5Bj%5D%20%3D%20vv%5Bi%20-%201%5D%5Bj%5D%20%2B%20vv%5Bi%20-%201%5D%5Bj%20-%201%5D%3B%5Cn%20%7D%5Cn%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22A0kk9%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u9afd82f1" id="u9afd82f1"><span data-lake-id="u69595a68" id="u69595a68" class="lake-fontsize-12" style="color: rgb(51,51,51)">bit::vector&lt;bit::vector&lt;int&gt;&gt; vv(n); 构造一个vv动态二维数组，vv中总共有n个元素，每个元素都是vector类型的，每行没有包含任何元素，如果n为5时如下所示：</span></p><p data-lake-id="uaab184fa" id="uaab184fa"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748522677846-689e8a5e-dac8-4514-8705-301ca55ac76d.png%22%2C%22taskId%22%3A%22u4d602c1b-a69f-4fed-9828-bbc1d28a0c9%22%2C%22clientId%22%3A%22uf167b647-c52b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A453.3333333333333%2C%22height%22%3A431%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1760668%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A680%2C%22originHeight%22%3A646%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22ENDOFSTORAGE%22%2C%22x%22%3A352%2C%22y%22%3A607%2C%22width%22%3A96%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22ENDOFSTORAGE%22%2C%22x%22%3A21%2C%22y%22%3A267%2C%22width%22%3A102%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A542%2C%22y%22%3A100%2C%22width%22%3A74%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22ENDOFSTORAGE%22%2C%22x%22%3A350%2C%22y%22%3A480%2C%22width%22%3A97%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A545%2C%22y%22%3A190%2C%22width%22%3A71%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22ENDOFSTORAGE%22%2C%22x%22%3A350%2C%22y%22%3A229%2C%22width%22%3A97%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A543%2C%22y%22%3A354%2C%22width%22%3A72%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A542%2C%22y%22%3A605%2C%22width%22%3A73%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22ENDOFSTORAGE%22%2C%22x%22%3A350%2C%22y%22%3A356%2C%22width%22%3A96%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A546%2C%22y%22%3A27%2C%22width%22%3A69%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A544%2C%22y%22%3A478%2C%22width%22%3A72%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A540%2C%22y%22%3A529%2C%22width%22%3A75%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A544%2C%22y%22%3A566%2C%22width%22%3A71%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A544%2C%22y%22%3A404%2C%22width%22%3A71%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A541%2C%22y%22%3A153%2C%22width%22%3A75%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A543%2C%22y%22%3A277%2C%22width%22%3A71%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A542%2C%22y%22%3A227%2C%22width%22%3A73%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A545%2C%22y%22%3A63%2C%22width%22%3A72%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A544%2C%22y%22%3A440%2C%22width%22%3A71%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22NULLPTR%22%2C%22x%22%3A545%2C%22y%22%3A315%2C%22width%22%3A69%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22V%5B2%5D%22%2C%22x%22%3A266%2C%22y%22%3A318%2C%22width%22%3A63%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22VV%5BO%5D%22%2C%22x%22%3A265%2C%22y%22%3A63%2C%22width%22%3A63%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22V%5B3%5D%22%2C%22x%22%3A269%2C%22y%22%3A442%2C%22width%22%3A59%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22VV%5B4%5D%22%2C%22x%22%3A268%2C%22y%22%3A570%2C%22width%22%3A59%2C%22height%22%3A22%7D%2C%7B%22text%22%3A%22ENDOFSTORAG%22%2C%22x%22%3A349%2C%22y%22%3A103%2C%22width%22%3A96%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22FINISH%22%2C%22x%22%3A380%2C%22y%22%3A568%2C%22width%22%3A43%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22FINISH%22%2C%22x%22%3A380%2C%22y%22%3A441%2C%22width%22%3A41%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22FINISH%22%2C%22x%22%3A52%2C%22y%22%3A228%2C%22width%22%3A41%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A383%2C%22y%22%3A407%2C%22width%22%3A35%2C%22height%22%3A13%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A382%2C%22y%22%3A30%2C%22width%22%3A36%2C%22height%22%3A13%7D%2C%7B%22text%22%3A%22FINISH%22%2C%22x%22%3A379%2C%22y%22%3A318%2C%22width%22%3A42%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22VV%5B1%22%2C%22x%22%3A266%2C%22y%22%3A192%2C%22width%22%3A66%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A381%2C%22y%22%3A532%2C%22width%22%3A37%2C%22height%22%3A13%7D%2C%7B%22text%22%3A%22FINISH%22%2C%22x%22%3A378%2C%22y%22%3A64%2C%22width%22%3A46%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22FINLISH%22%2C%22x%22%3A380%2C%22y%22%3A193%2C%22width%22%3A43%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A382%2C%22y%22%3A282%2C%22width%22%3A37%2C%22height%22%3A12%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A55%2C%22y%22%3A192%2C%22width%22%3A37%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A383%2C%22y%22%3A156%2C%22width%22%3A34%2C%22height%22%3A12%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23f1f3ed%22%2C%22id%22%3A%22uebd20036%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u4fe978a5" id="u4fe978a5"><span data-lake-id="ube2bd601" id="ube2bd601" class="lake-fontsize-12" style="color: rgb(51,51,51)">vv中元素填充完成之后，如下图所示：</span></p><p data-lake-id="ub8e6849e" id="ub8e6849e"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748522687993-932dd834-fd67-4018-9143-fab6d130c399.png%22%2C%22taskId%22%3A%22uc1d2bf44-73f4-49da-95c8-9f1aeb37800%22%2C%22clientId%22%3A%22uf167b647-c52b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A573.3333333333334%2C%22height%22%3A429%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A2216212%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A860%2C%22originHeight%22%3A643%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22ENDOFSTORAGE%22%2C%22x%22%3A351%2C%22y%22%3A350%2C%22width%22%3A99%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22ENDOFSTORAGE%22%2C%22x%22%3A351%2C%22y%22%3A98%2C%22width%22%3A98%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22ENDOFSTORAGE%22%2C%22x%22%3A353%2C%22y%22%3A601%2C%22width%22%3A99%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22NDOFSTORAGE%22%2C%22x%22%3A28%2C%22y%22%3A263%2C%22width%22%3A95%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22ENDOFSTORAGE%22%2C%22x%22%3A354%2C%22y%22%3A224%2C%22width%22%3A96%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22V%5B2%5D%22%2C%22x%22%3A271%2C%22y%22%3A313%2C%22width%22%3A55%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22VV%5B3%5D%22%2C%22x%22%3A269%2C%22y%22%3A435%2C%22width%22%3A59%2C%22height%22%3A24%7D%2C%7B%22text%22%3A%22V%5B4%5D%22%2C%22x%22%3A266%2C%22y%22%3A563%2C%22width%22%3A63%2C%22height%22%3A25%7D%2C%7B%22text%22%3A%22ENDOFSTORAGE%22%2C%22x%22%3A349%2C%22y%22%3A476%2C%22width%22%3A100%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22FINISH%22%2C%22x%22%3A381%2C%22y%22%3A436%2C%22width%22%3A44%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22V%5B1%22%2C%22x%22%3A273%2C%22y%22%3A185%2C%22width%22%3A52%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22FINISH%22%2C%22x%22%3A377%2C%22y%22%3A188%2C%22width%22%3A46%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22FINISH%22%2C%22x%22%3A380%2C%22y%22%3A312%2C%22width%22%3A43%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22FINISH%22%2C%22x%22%3A377%2C%22y%22%3A60%2C%22width%22%3A49%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22V%5B0%5D%22%2C%22x%22%3A271%2C%22y%22%3A57%2C%22width%22%3A57%2C%22height%22%3A23%7D%2C%7B%22text%22%3A%22FINISH%22%2C%22x%22%3A378%2C%22y%22%3A562%2C%22width%22%3A48%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A379%2C%22y%22%3A25%2C%22width%22%3A42%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A383%2C%22y%22%3A276%2C%22width%22%3A38%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A380%2C%22y%22%3A402%2C%22width%22%3A40%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22FINISH%22%2C%22x%22%3A51%2C%22y%22%3A223%2C%22width%22%3A47%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A379%2C%22y%22%3A150%2C%22width%22%3A40%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22VV%22%2C%22x%22%3A54%2C%22y%22%3A152%2C%22width%22%3A36%2C%22height%22%3A17%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A378%2C%22y%22%3A526%2C%22width%22%3A45%2C%22height%22%3A13%7D%2C%7B%22text%22%3A%22START%22%2C%22x%22%3A53%2C%22y%22%3A188%2C%22width%22%3A38%2C%22height%22%3A15%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23e6f4e3%22%2C%22id%22%3A%22ud510c0bb%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="uc8d096a1" id="uc8d096a1"><span data-lake-id="u4f2ff6be" id="u4f2ff6be" class="lake-fontsize-12" style="color: rgb(51,51,51)">使用标准库中vector构建动态二维数组时与上图实际是一致的。</span></p><p data-lake-id="ua15fa3fd" id="ua15fa3fd"><br></p><h2 data-lake-id="NZ8R0" id="NZ8R0"><span data-lake-id="uab79aba3" id="uab79aba3">Lesson--继承</span></h2><h3 data-lake-id="UYgrK" id="UYgrK"><span data-lake-id="u15301e39" id="u15301e39" style="color: rgb(51,51,51)">1.继承的概念及定义</span></h3><p data-lake-id="ubd395da2" id="ubd395da2"><strong><span data-lake-id="u35ac6e9f" id="u35ac6e9f" class="lake-fontsize-12" style="color: rgb(51,51,51)">1.1继承的概念</span></strong></p><p data-lake-id="uabd6e768" id="uabd6e768"><strong><span data-lake-id="ud1a1b74a" id="ud1a1b74a" class="lake-fontsize-12" style="color: rgb(119,119,119)">继承</span></strong><span data-lake-id="ubc6016d1" id="ubc6016d1" class="lake-fontsize-12" style="color: rgb(119,119,119)">(inheritance)机制是面向对象程序设计</span><strong><span data-lake-id="udfcd1572" id="udfcd1572" class="lake-fontsize-12" style="color: rgb(119,119,119)">使代码可以复用</span></strong><span data-lake-id="uba513072" id="uba513072" class="lake-fontsize-12" style="color: rgb(119,119,119)">的最重要的手段，它允许程序员在</span><strong><span data-lake-id="u014ce36c" id="u014ce36c" class="lake-fontsize-12" style="color: rgb(119,119,119)">保持原有类特性的基础上进行扩展</span></strong><span data-lake-id="u424d4add" id="u424d4add" class="lake-fontsize-12" style="color: rgb(119,119,119)">，增加功能，这样产生新的类，称派生类。继承</span><strong><span data-lake-id="u6fc7680d" id="u6fc7680d" class="lake-fontsize-12" style="color: rgb(119,119,119)">呈现了面向对象程序设计的层次结构</span></strong><span data-lake-id="u785b3361" id="u785b3361" class="lake-fontsize-12" style="color: rgb(119,119,119)">，体现了由简单到复杂的认知过程。以前我们接触的复用都是函数复用，</span><strong><span data-lake-id="uc3839c21" id="uc3839c21" class="lake-fontsize-12" style="color: rgb(119,119,119)">继承是类设计层次的复用</span></strong><span data-lake-id="u8421d11e" id="u8421d11e" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><details data-lake-id="uea232593" id="uea232593" open="true" class="lake-collapse"><summary data-lake-id="u75b5d09b" id="u75b5d09b" class="lake-summary"><span data-lake-id="ua19b96ea" id="ua19b96ea" class="lake-fontsize-12">补充</span></summary><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Person%5Cn%7B%5Cnpublic%3A%5Cn%5Ctvoid%20Print()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22name%3A%5C%22%20%3C%3C%20_name%20%3C%3C%20endl%3B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22age%3A%5C%22%20%3C%3C%20_age%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cnprivate%3A%5Cn%5Ctstring%20_name%20%3D%20%5C%22peter%5C%22%3B%20%2F%2F%20%E5%A7%93%E5%90%8D%5Cn%5Ctint%20_age%20%3D%2018%3B%20%2F%2F%20%E5%B9%B4%E9%BE%84%5Cn%7D%3B%5Cn%2F%2F%20%E7%BB%A7%E6%89%BF%E5%90%8E%E7%88%B6%E7%B1%BB%E7%9A%84Person%E7%9A%84%E6%88%90%E5%91%98%EF%BC%88%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%2B%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%EF%BC%89%E9%83%BD%E4%BC%9A%E5%8F%98%E6%88%90%E5%AD%90%E7%B1%BB%E7%9A%84%E4%B8%80%E9%83%A8%E5%88%86%E3%80%82%E8%BF%99%E9%87%8C%E4%BD%93%E7%8E%B0%E5%87%BA%E4%BA%86Student%E5%92%8C%5Cn%2F%2FTeacher%E5%A4%8D%E7%94%A8%E4%BA%86Person%E7%9A%84%E6%88%90%E5%91%98%E3%80%82%E4%B8%8B%E9%9D%A2%E6%88%91%E4%BB%AC%E4%BD%BF%E7%94%A8%E7%9B%91%E8%A7%86%E7%AA%97%E5%8F%A3%E6%9F%A5%E7%9C%8BStudent%E5%92%8CTeacher%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E5%8F%98%E9%87%8F%E7%9A%84%E5%A4%8D%E7%94%A8%E3%80%82%5Cn%2F%2F%E8%B0%83%E7%94%A8Print%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E7%9A%84%E5%A4%8D%E7%94%A8%E3%80%82%5Cnclass%20Student%20%3A%20public%20Person%5Cn%7B%5Cnprotected%3A%5Cn%5Ctint%20_stuid%3B%20%2F%2F%20%E5%AD%A6%E5%8F%B7%5Cn%7D%3B%5Cnclass%20Teacher%20%3A%20public%20Person%5Cn%7B%5Cnprotected%3A%5Cn%5Ctint%20_jobid%3B%20%2F%2F%20%E5%B7%A5%E5%8F%B7%5Cn%7D%3B%5Cnint%20main()%5Cn%7B%5Cn%5CtStudent%20s%3B%5Cn%5CtTeacher%20t%3B%5Cn%5Cts.Print()%3B%5Cn%5Ctt.Print()%3B%5Cn%5Ctreturn%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22wG4KX%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h2 data-lake-id="426e7f93" id="426e7f93"><span data-lake-id="u89084a63" id="u89084a63">为什么能成功输出？</span></h2><h3 data-lake-id="9cf2de3b" id="9cf2de3b"><span data-lake-id="u3dc99e90" id="u3dc99e90">✅</span><span data-lake-id="u64705ef1" id="u64705ef1"> 总结 3 点原因：</span></h3><ol list="u5a25b4b3"><li fid="u88311664" data-lake-id="u8006a0fa" id="u8006a0fa"><code data-lake-id="u0ac83c02" id="u0ac83c02"><span data-lake-id="u9a538bac" id="u9a538bac">Student</span></code><span data-lake-id="u269ce326" id="u269ce326"> 是 </span><code data-lake-id="ueb240545" id="ueb240545"><span data-lake-id="u5dcad29b" id="u5dcad29b">Person</span></code><span data-lake-id="u86a2dc02" id="u86a2dc02"> 的子类，拥有 </span><code data-lake-id="uf7bcb864" id="uf7bcb864"><span data-lake-id="ua30c2c3a" id="ua30c2c3a">Person</span></code><span data-lake-id="u9ab4df24" id="u9ab4df24"> 的所有成员，包括 </span><code data-lake-id="u51c83d4c" id="u51c83d4c"><span data-lake-id="ufe4eb2b2" id="ufe4eb2b2">Print()</span></code><span data-lake-id="ubaeb9d5d" id="ubaeb9d5d"> 和私有成员 </span><code data-lake-id="u565ef076" id="u565ef076"><span data-lake-id="u68d27d88" id="u68d27d88">_name</span></code><code data-lake-id="ub0a0733b" id="ub0a0733b"><span data-lake-id="u4532145b" id="u4532145b">_age</span></code><span data-lake-id="u0f59641b" id="u0f59641b">（</span><strong><span data-lake-id="u03410fe0" id="u03410fe0" style="color: #DF2A3F">只是不能直接访问私有成员</span></strong><span data-lake-id="ud5930ac7" id="ud5930ac7">）；</span></li><li fid="u88311664" data-lake-id="u5f37a748" id="u5f37a748"><code data-lake-id="uccb5c664" id="uccb5c664"><span data-lake-id="ucbdcbf97" id="ucbdcbf97">Print()</span></code><span data-lake-id="u395c8e48" id="u395c8e48"> 是 </span><code data-lake-id="uac6fa2ad" id="uac6fa2ad"><span data-lake-id="ucca9bee3" id="ucca9bee3">Person</span></code><span data-lake-id="u653e70be" id="u653e70be"> 的</span><strong><span data-lake-id="u4c09f2be" id="u4c09f2be">成员函数</span></strong><span data-lake-id="u25fd12f5" id="u25fd12f5">，可以访问 </span><code data-lake-id="u83f89567" id="u83f89567"><span data-lake-id="u384dff5a" id="u384dff5a">Person</span></code><span data-lake-id="u2e6cc015" id="u2e6cc015"> 的私有成员；</span></li><li fid="u88311664" data-lake-id="u399891ea" id="u399891ea"><code data-lake-id="u8694398f" id="u8694398f"><span data-lake-id="u03a35a07" id="u03a35a07">s.Print()</span></code><span data-lake-id="u7d649c36" id="u7d649c36"> </span><u><span data-lake-id="u12b6c3f8" id="u12b6c3f8">实际是执行 </span></u><code data-lake-id="u4c3571a0" id="u4c3571a0"><u><span data-lake-id="ue6a77691" id="ue6a77691">Person::Print()</span></u></code><span data-lake-id="u16d42a3d" id="u16d42a3d">，这个函数内部可以</span><strong><span data-lake-id="u600cc6cf" id="u600cc6cf">访问自己的私有成员</span></strong><span data-lake-id="u97df415a" id="u97df415a">，即使调用者是 </span><code data-lake-id="u5ddb6e1b" id="u5ddb6e1b"><span data-lake-id="uc6418dee" id="uc6418dee">Student</span></code><span data-lake-id="u0a81d77b" id="u0a81d77b"> 类型的对象 </span><code data-lake-id="u5b1e7163" id="u5b1e7163"><span data-lake-id="ud6458473" id="ud6458473">s</span></code><span data-lake-id="ue620f79d" id="ue620f79d">，它仍然拥有这些成员。</span></li></ol></details><p data-lake-id="ua80d57c3" id="ua80d57c3" style="text-align: left"><strong><span data-lake-id="u38b7930b" id="u38b7930b" class="lake-fontsize-12" style="color: rgb(51,51,51)">1.2 </span></strong><strong><span data-lake-id="u84502446" id="u84502446" class="lake-fontsize-12" style="color: rgb(51,51,51)">继承定义</span></strong></p><p data-lake-id="u82c5302d" id="u82c5302d" style="text-align: left"><strong><span data-lake-id="uabdf83b9" id="uabdf83b9" class="lake-fontsize-12" style="color: rgb(119,119,119)">1.2.1定义格式</span></strong></p><p data-lake-id="u54e2041f" id="u54e2041f" style="text-align: left"><span data-lake-id="ua5af7687" id="ua5af7687" class="lake-fontsize-12" style="color: rgb(119,119,119)">下面我们看到Person是父类，也称作基类。  Student是子类，也称作派生类。</span></p><p data-lake-id="uc361ca20" id="uc361ca20"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1744810385017-45c2388e-ea46-4d27-9e6b-6785c42f89ca.png%22%2C%22taskId%22%3A%22u634138d5-bdf4-4268-8870-e03897eb290%22%2C%22clientId%22%3A%22u75a3956b-1df5-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A389.14285714285717%2C%22height%22%3A249%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1187367%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A681%2C%22originHeight%22%3A435%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E5%9F%BA%E7%B1%BB%20%E6%B4%BE%E7%94%9F%E7%B1%BB%20%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F%20STUDENT%20CLASS%20PUBLIC%20PERSON%20PUBLIC%3A%20_STUID%3B%2F%2F%E5%AD%A6%E5%8F%B7%20INT%201%2F%E4%B8%93%E4%B8%9A%20INT%20MAJOR%3B%20%E4%B8%8A%3B%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A500%2C%22y%22%3A17%2C%22width%22%3A78%2C%22height%22%3A39%2C%22text%22%3A%22%E5%9F%BA%E7%B1%BB%22%7D%2C%7B%22x%22%3A188%2C%22y%22%3A16%2C%22width%22%3A111%2C%22height%22%3A37%2C%22text%22%3A%22%E6%B4%BE%E7%94%9F%E7%B1%BB%22%7D%2C%7B%22x%22%3A321%2C%22y%22%3A18%2C%22width%22%3A156%2C%22height%22%3A38%2C%22text%22%3A%22%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F%22%7D%2C%7B%22x%22%3A178%2C%22y%22%3A125%2C%22width%22%3A128%2C%22height%22%3A31%2C%22text%22%3A%22STUDENT%22%7D%2C%7B%22x%22%3A68%2C%22y%22%3A125%2C%22width%22%3A92%2C%22height%22%3A32%2C%22text%22%3A%22CLASS%22%7D%2C%7B%22x%22%3A338%2C%22y%22%3A125%2C%22width%22%3A247%2C%22height%22%3A37%2C%22text%22%3A%22PUBLIC%20PERSON%22%7D%2C%7B%22x%22%3A65%2C%22y%22%3A220%2C%22width%22%3A128%2C%22height%22%3A37%2C%22text%22%3A%22PUBLIC%3A%22%7D%2C%7B%22x%22%3A228%2C%22y%22%3A270%2C%22width%22%3A244%2C%22height%22%3A36%2C%22text%22%3A%22_STUID%3B%2F%2F%E5%AD%A6%E5%8F%B7%22%7D%2C%7B%22x%22%3A142%2C%22y%22%3A275%2C%22width%22%3A55%2C%22height%22%3A27%2C%22text%22%3A%22INT%22%7D%2C%7B%22x%22%3A360%2C%22y%22%3A319%2C%22width%22%3A113%2C%22height%22%3A33%2C%22text%22%3A%221%2F%E4%B8%93%E4%B8%9A%22%7D%2C%7B%22x%22%3A142%2C%22y%22%3A323%2C%22width%22%3A54%2C%22height%22%3A27%2C%22text%22%3A%22INT%22%7D%2C%7B%22x%22%3A231%2C%22y%22%3A325%2C%22width%22%3A110%2C%22height%22%3A29%2C%22text%22%3A%22MAJOR%3B%22%7D%2C%7B%22x%22%3A64%2C%22y%22%3A365%2C%22width%22%3A37%2C%22height%22%3A40%2C%22text%22%3A%22%E4%B8%8A%3B%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23f4f4ef%22%2C%22id%22%3A%22u9a2044d8%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u8c233bd5" id="u8c233bd5"><strong><span data-lake-id="ua683e33c" id="ua683e33c" class="lake-fontsize-12" style="color: rgb(119,119,119)">1.2.2继承关系和访问限定符</span></strong></p><p data-lake-id="ud32e2014" id="ud32e2014"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1744810397490-205ef911-f48a-4d18-b0a1-b932ae7ce184.png%22%2C%22taskId%22%3A%22u8d1746b8-87b0-4d66-b3e3-b067fdc21aa%22%2C%22clientId%22%3A%22u75a3956b-1df5-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A579.4285714285714%2C%22height%22%3A170%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1211014%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1014%2C%22originHeight%22%3A298%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22PUBLIC%E7%BB%A7%E6%89%BF%20PUBLIC%E8%AE%BF%E9%97%AE%20%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F%20PROTECTED%E7%BB%A7%E6%89%BF%20%E8%AE%BF%E9%97%AE%E9%99%90%E5%AE%9A%E7%AC%A6%20PROTECTED%E8%AE%BF%E9%97%AE%20PRIVATE%E7%BB%A7%E6%89%BF%20PRIVATE%E8%AE%BF%E9%97%AE%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A265%2C%22y%22%3A39%2C%22width%22%3A128%2C%22height%22%3A31%2C%22text%22%3A%22PUBLIC%E7%BB%A7%E6%89%BF%22%7D%2C%7B%22x%22%3A786%2C%22y%22%3A52%2C%22width%22%3A127%2C%22height%22%3A24%2C%22text%22%3A%22PUBLIC%E8%AE%BF%E9%97%AE%22%7D%2C%7B%22x%22%3A48%2C%22y%22%3A130%2C%22width%22%3A113%2C%22height%22%3A28%2C%22text%22%3A%22%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F%22%7D%2C%7B%22x%22%3A266%2C%22y%22%3A131%2C%22width%22%3A164%2C%22height%22%3A27%2C%22text%22%3A%22PROTECTED%E7%BB%A7%E6%89%BF%22%7D%2C%7B%22x%22%3A542%2C%22y%22%3A140%2C%22width%22%3A140%2C%22height%22%3A29%2C%22text%22%3A%22%E8%AE%BF%E9%97%AE%E9%99%90%E5%AE%9A%E7%AC%A6%22%7D%2C%7B%22x%22%3A786%2C%22y%22%3A141%2C%22width%22%3A167%2C%22height%22%3A30%2C%22text%22%3A%22PROTECTED%E8%AE%BF%E9%97%AE%22%7D%2C%7B%22x%22%3A267%2C%22y%22%3A223%2C%22width%22%3A139%2C%22height%22%3A27%2C%22text%22%3A%22PRIVATE%E7%BB%A7%E6%89%BF%22%7D%2C%7B%22x%22%3A784%2C%22y%22%3A231%2C%22width%22%3A147%2C%22height%22%3A32%2C%22text%22%3A%22PRIVATE%E8%AE%BF%E9%97%AE%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23efefef%22%2C%22id%22%3A%22ue99f808a%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u639c9317" id="u639c9317"><strong><span data-lake-id="ua663fe49" id="ua663fe49" class="lake-fontsize-12" style="color: rgb(119,119,119)">1.2.3继承基类成员访问方式的变化</span></strong></p><table data-lake-id="KrBU5" id="KrBU5" margin="true" class="lake-table" style="width: 1066px"><colgroup><col width="262"><col width="276"><col width="276"><col width="252"></colgroup><tbody><tr data-lake-id="u3d235b0a" id="u3d235b0a"><td data-lake-id="u74d1fb70" id="u74d1fb70"><p data-lake-id="u0ee46469" id="u0ee46469" style="text-align: left"><strong><span data-lake-id="u425b6826" id="u425b6826" class="lake-fontsize-12" style="color: rgb(119,119,119)">类成员</span></strong><strong><span data-lake-id="u9d84978b" id="u9d84978b" class="lake-fontsize-12" style="color: rgb(119,119,119)">/</span></strong><strong><span data-lake-id="ufee2cf17" id="ufee2cf17" class="lake-fontsize-12" style="color: rgb(119,119,119)">继承方式</span></strong></p></td><td data-lake-id="u15277c25" id="u15277c25"><p data-lake-id="u8cab12d3" id="u8cab12d3" style="text-align: left"><strong><span data-lake-id="uc7d27bc6" id="uc7d27bc6" class="lake-fontsize-12" style="color: rgb(119,119,119)">public</span></strong><strong><span data-lake-id="u847e8f51" id="u847e8f51" class="lake-fontsize-12" style="color: rgb(119,119,119)">继承</span></strong></p></td><td data-lake-id="u4a5df26f" id="u4a5df26f"><p data-lake-id="u86b7a523" id="u86b7a523" style="text-align: left"><strong><span data-lake-id="u45e1b42c" id="u45e1b42c" class="lake-fontsize-12" style="color: rgb(119,119,119)">protected</span></strong><strong><span data-lake-id="u487b7517" id="u487b7517" class="lake-fontsize-12" style="color: rgb(119,119,119)">继承</span></strong></p></td><td data-lake-id="u01d75919" id="u01d75919"><p data-lake-id="ue9f54585" id="ue9f54585" style="text-align: left"><strong><span data-lake-id="u2a3c7b2f" id="u2a3c7b2f" class="lake-fontsize-12" style="color: rgb(119,119,119)">private</span></strong><strong><span data-lake-id="u80dd7649" id="u80dd7649" class="lake-fontsize-12" style="color: rgb(119,119,119)">继承</span></strong></p></td></tr><tr data-lake-id="u16a92fc4" id="u16a92fc4"><td data-lake-id="u07e518c2" id="u07e518c2"><p data-lake-id="u9835bfd3" id="u9835bfd3" style="text-align: left"><strong><span data-lake-id="u790c0b62" id="u790c0b62" class="lake-fontsize-12" style="color: rgb(119,119,119)">基类的</span></strong><strong><span data-lake-id="ue5711c8b" id="ue5711c8b" class="lake-fontsize-12" style="color: rgb(119,119,119)">public</span></strong><strong><span data-lake-id="u90987f12" id="u90987f12" class="lake-fontsize-12" style="color: rgb(119,119,119)">成员</span></strong></p></td><td data-lake-id="ubd790a7d" id="ubd790a7d"><p data-lake-id="u88401383" id="u88401383" style="text-align: left"><span data-lake-id="u935234b9" id="u935234b9" class="lake-fontsize-12" style="color: rgb(119,119,119)">派生类的</span><span data-lake-id="u6a61d710" id="u6a61d710" class="lake-fontsize-12" style="color: rgb(119,119,119)">public</span><span data-lake-id="ua8b61e6f" id="ua8b61e6f" class="lake-fontsize-12" style="color: rgb(119,119,119)">成员</span></p></td><td data-lake-id="u95123c65" id="u95123c65"><p data-lake-id="u7768cd25" id="u7768cd25" style="text-align: left"><span data-lake-id="u3e01a3fa" id="u3e01a3fa" class="lake-fontsize-12" style="color: rgb(119,119,119)">派生类的protected成员</span></p></td><td data-lake-id="ub1387646" id="ub1387646"><p data-lake-id="uaacc07c7" id="uaacc07c7" style="text-align: left"><span data-lake-id="u0424fe92" id="u0424fe92" class="lake-fontsize-12" style="color: rgb(119,119,119)">派生类的private成员</span></p></td></tr><tr data-lake-id="u00c12e01" id="u00c12e01"><td data-lake-id="u262cf768" id="u262cf768" style="background-color: rgb(248,248,248)"><p data-lake-id="u9aa760de" id="u9aa760de" style="text-align: left"><strong><span data-lake-id="ufbd852d6" id="ufbd852d6" class="lake-fontsize-12" style="color: rgb(119,119,119)">基类的protected成员</span></strong></p></td><td data-lake-id="u922fc67a" id="u922fc67a" style="background-color: rgb(248,248,248)"><p data-lake-id="u43c87fcd" id="u43c87fcd" style="text-align: left"><span data-lake-id="uaf3ff3f5" id="uaf3ff3f5" class="lake-fontsize-12" style="color: rgb(119,119,119)">派生类的protected成员</span></p></td><td data-lake-id="uff977be0" id="uff977be0" style="background-color: rgb(248,248,248)"><p data-lake-id="u5d324d80" id="u5d324d80" style="text-align: left"><span data-lake-id="u7b061b2c" id="u7b061b2c" class="lake-fontsize-12" style="color: rgb(119,119,119)">派生类的protected成员</span></p></td><td data-lake-id="udd51e631" id="udd51e631" style="background-color: rgb(248,248,248)"><p data-lake-id="u0a429990" id="u0a429990" style="text-align: left"><span data-lake-id="ub84a8ab4" id="ub84a8ab4" class="lake-fontsize-12" style="color: rgb(119,119,119)">派生类的private成员</span></p></td></tr><tr data-lake-id="u0dee9537" id="u0dee9537"><td data-lake-id="u729006b0" id="u729006b0"><p data-lake-id="u0b79d12f" id="u0b79d12f" style="text-align: left"><strong><span data-lake-id="uff696019" id="uff696019" class="lake-fontsize-12" style="color: rgb(119,119,119)">基类的</span></strong><strong><span data-lake-id="u1d49a173" id="u1d49a173" class="lake-fontsize-12" style="color: rgb(119,119,119)">private</span></strong><strong><span data-lake-id="u9d7f0b74" id="u9d7f0b74" class="lake-fontsize-12" style="color: rgb(119,119,119)">成员</span></strong></p></td><td data-lake-id="udf377b95" id="udf377b95"><p data-lake-id="u095103ae" id="u095103ae" style="text-align: left"><span data-lake-id="u4c8c9989" id="u4c8c9989" class="lake-fontsize-12" style="color: rgb(119,119,119)">在派生类中不可见</span></p></td><td data-lake-id="u16edc5b5" id="u16edc5b5"><p data-lake-id="u4bee76e8" id="u4bee76e8" style="text-align: left"><span data-lake-id="u4f6fd7dd" id="u4f6fd7dd" class="lake-fontsize-12" style="color: rgb(119,119,119)">在派生类中不可见</span></p></td><td data-lake-id="u1e2cdc74" id="u1e2cdc74"><p data-lake-id="u9759d3c7" id="u9759d3c7" style="text-align: left"><span data-lake-id="ud7791116" id="ud7791116" class="lake-fontsize-12" style="color: rgb(119,119,119)">在派生类中不可见</span></p></td></tr></tbody></table><p data-lake-id="ua7f4b048" id="ua7f4b048"><u><strong><span data-lake-id="u608be127" id="u608be127" class="lake-fontsize-12">不需要记，实际上看父类和继承方法谁的访问权限最小则取谁</span></strong></u></p><p data-lake-id="u52b122d6" id="u52b122d6" style="text-align: left"><strong><span data-lake-id="ud3ab82dd" id="ud3ab82dd" class="lake-fontsize-12" style="color: rgb(119,119,119)">总结：</span></strong></p><p data-lake-id="ufc456a45" id="ufc456a45" style="text-align: left"><span data-lake-id="u7f5e222a" id="u7f5e222a" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. 基类private成员在派生类中无论以什么方式继承都是不可见的。这里的</span><strong><span data-lake-id="u4b295dfc" id="u4b295dfc" class="lake-fontsize-12" style="color: #DF2A3F">不可见是指基类的私有成员还是 被继承到了派生类对象中</span></strong><strong><span data-lake-id="u7066b6c2" id="u7066b6c2" class="lake-fontsize-12" style="color: rgb(119,119,119)">，但是语法上限制派生类对象不管在类里面还是类外面都不能去访问它</span></strong><span data-lake-id="u5178c93f" id="u5178c93f" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="ufec0f5ba" id="ufec0f5ba" style="text-align: left"><span data-lake-id="u3e2b0bb8" id="u3e2b0bb8" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 基类private成员在派生类中是不能被访问，如果基类成员不想在类外直接被访问，但需要在派生类中能访问，就定义为protected。</span><strong><span data-lake-id="u2a2ccf6b" id="u2a2ccf6b" class="lake-fontsize-12" style="color: rgb(119,119,119)">可以看出保护成员限定符是因继承才出现的</span></strong><span data-lake-id="ucf818067" id="ucf818067" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="ue49ad00a" id="ue49ad00a" style="text-align: left"><span data-lake-id="u1e1ae0bb" id="u1e1ae0bb" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><span data-lake-id="u75b6fe83" id="u75b6fe83" class="lake-fontsize-12" style="color: rgb(119,119,119)">实际上面的表格我们进行一下总结会发现，</span><span data-lake-id="u2ca22d26" id="u2ca22d26" class="lake-fontsize-12" style="color: rgb(119,119,119)">基类的私有成员在子类都是不可见。基类的其他成员在子类</span><span data-lake-id="ucd912c76" id="ucd912c76" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="u6e17ba35" id="u6e17ba35" class="lake-fontsize-12" style="color: rgb(119,119,119)">的访问方式</span><span data-lake-id="udf15d684" id="udf15d684" class="lake-fontsize-12" style="color: rgb(119,119,119)">==</span><span data-lake-id="u441eb35b" id="u441eb35b" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="u9eb57835" id="u9eb57835" class="lake-fontsize-12" style="color: rgb(119,119,119)">Min</span><span data-lake-id="u62ae8e16" id="u62ae8e16" class="lake-fontsize-12" style="color: rgb(119,119,119)">(</span><span data-lake-id="u0c50355c" id="u0c50355c" class="lake-fontsize-12" style="color: rgb(119,119,119)">成员在基类的访问限定符，继承方式</span><span data-lake-id="u1f8bfb99" id="u1f8bfb99" class="lake-fontsize-12" style="color: rgb(119,119,119)">)</span><span data-lake-id="u11c463fe" id="u11c463fe" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="uaef79adc" id="uaef79adc" class="lake-fontsize-12" style="color: rgb(119,119,119)">，</span><span data-lake-id="u0cc55a3b" id="u0cc55a3b" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span><span data-lake-id="u68170695" id="u68170695" class="lake-fontsize-12" style="color: rgb(119,119,119)">public</span><span data-lake-id="u102ae692" id="u102ae692" class="lake-fontsize-12" style="color: rgb(119,119,119)">  &gt; </span><span data-lake-id="u5f25d647" id="u5f25d647" class="lake-fontsize-12" style="color: rgb(119,119,119)">protected</span><span data-lake-id="u55f21b0f" id="u55f21b0f" class="lake-fontsize-12" style="color: rgb(119,119,119)"> &gt; </span><span data-lake-id="u86218c15" id="u86218c15" class="lake-fontsize-12" style="color: rgb(119,119,119)">private</span><span data-lake-id="ue5ac1307" id="ue5ac1307" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="u18bfd5b1" id="u18bfd5b1" style="text-align: left"><span data-lake-id="ua81a8324" id="ua81a8324" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. 使用关键字class时默认的继承方式是private，使用struct时默认的继承方式是public ，</span><strong><span data-lake-id="u3a0bd3f3" id="u3a0bd3f3" class="lake-fontsize-12" style="color: rgb(119,119,119)">不过最好显示的写出继承方式</span></strong><span data-lake-id="uc9776726" id="uc9776726" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="uf9ddbbd1" id="uf9ddbbd1" style="text-align: left"><span data-lake-id="u79be7ad9" id="u79be7ad9" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. </span><strong><span data-lake-id="uece4f02e" id="uece4f02e" class="lake-fontsize-12" style="color: rgb(119,119,119)">在实际运用中一般使用都是public继承，几乎很少使用protetced/private继承</span></strong><span data-lake-id="ua2f681de" id="ua2f681de" class="lake-fontsize-12" style="color: rgb(119,119,119)">，也不提倡使用protetced/private继承，因为protetced/private继承下来的成员都只能在派生类的类里面使用，实际中扩展维护性不强。</span></p><h3 data-lake-id="Eff9M" id="Eff9M" collapsed="true"><span data-lake-id="u9bea3214" id="u9bea3214" style="color: rgb(51,51,51)">2.基类和派生类对象赋值转换</span></h3><p data-lake-id="uc8e24718" id="uc8e24718"><span data-lake-id="ubad0a0d4" id="ubad0a0d4">（子类与父类之间的赋值兼容规则）</span></p><ul list="u87003ea4"><li fid="udbbad40a" data-lake-id="u6a663ffb" id="u6a663ffb" style="text-align: left"><strong><span data-lake-id="u9203cc65" id="u9203cc65" class="lake-fontsize-12" style="color: #DF2A3F">派生类对象</span></strong><span data-lake-id="ud4c91876" id="ud4c91876" class="lake-fontsize-12" style="color: #DF2A3F">可以赋值给</span><strong><span data-lake-id="ud48bf2e4" id="ud48bf2e4" class="lake-fontsize-12" style="color: #DF2A3F">基类的对象/ 基类的指针/ 基类的引用</span></strong><span data-lake-id="u78ee3355" id="u78ee3355" class="lake-fontsize-12" style="color: #DF2A3F">。</span><span data-lake-id="u87c8e5e7" id="u87c8e5e7" class="lake-fontsize-12" style="color: rgb(119,119,119)">这里有个形象的说法叫切片或者切割。寓意把派生类中父类那部分切来赋值过去。</span></li><li fid="udbbad40a" data-lake-id="u1856a473" id="u1856a473" style="text-align: left"><span data-lake-id="u916084e9" id="u916084e9" class="lake-fontsize-12" style="color: #DF2A3F">基类对象不能赋值给派生类对象</span></li><li fid="udbbad40a" data-lake-id="u9ebbeddb" id="u9ebbeddb" style="text-align: left"><span data-lake-id="u26bc4202" id="u26bc4202" class="lake-fontsize-12" style="color: #DF2A3F">基类的指针可以通过强制类型转换赋值给派生类的指针。</span><span data-lake-id="ub6613fc4" id="ub6613fc4" class="lake-fontsize-12" style="color: rgb(119,119,119)">但是必须是基类的指针是指向派生类对象时才 是安全的。这里基类如果是多态类型，可以使用RTTI(Run-Time Type Information)的</span><a href="https://baike.baidu.com/item/dynamic_cast" target="_blank" data-lake-id="uc3dd6acb" id="uc3dd6acb"><span data-lake-id="u1501c8a4" id="u1501c8a4" class="lake-fontsize-12" style="color: #1DC0C9">dynamic_cast</span></a><span data-lake-id="ueb8cd621" id="ueb8cd621" class="lake-fontsize-12" style="color: rgb(119,119,119)">来进行识别后进行安全转换。（ps：这个我们有会讲，这里了解一下）</span></li></ul><p data-lake-id="u668c9b76" id="u668c9b76"><span data-lake-id="ucc5dc949" id="ucc5dc949">             </span><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1744812998754-fdfcd7d9-844e-4b99-bae1-52433490753c.png%22%2C%22taskId%22%3A%22uaac25da8-977e-4077-b661-fcde6333c45%22%2C%22clientId%22%3A%22u75a3956b-1df5-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A435.42857142857144%2C%22height%22%3A241%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1288841%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A762%2C%22originHeight%22%3A422%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22STUDENT%20PERSON%20NAME%20NAME%20SEX%20SEX%20AGE%20AGE%20NO%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A517%2C%22y%22%3A60%2C%22width%22%3A121%2C%22height%22%3A25%2C%22text%22%3A%22STUDENT%22%7D%2C%7B%22x%22%3A141%2C%22y%22%3A65%2C%22width%22%3A108%2C%22height%22%3A23%2C%22text%22%3A%22PERSON%22%7D%2C%7B%22x%22%3A552%2C%22y%22%3A128%2C%22width%22%3A71%2C%22height%22%3A17%2C%22text%22%3A%22NAME%22%7D%2C%7B%22x%22%3A158%2C%22y%22%3A131%2C%22width%22%3A71%2C%22height%22%3A17%2C%22text%22%3A%22NAME%22%7D%2C%7B%22x%22%3A562%2C%22y%22%3A190%2C%22width%22%3A52%2C%22height%22%3A19%2C%22text%22%3A%22SEX%22%7D%2C%7B%22x%22%3A166%2C%22y%22%3A195%2C%22width%22%3A54%2C%22height%22%3A20%2C%22text%22%3A%22SEX%22%7D%2C%7B%22x%22%3A561%2C%22y%22%3A250%2C%22width%22%3A52%2C%22height%22%3A22%2C%22text%22%3A%22AGE%22%7D%2C%7B%22x%22%3A169%2C%22y%22%3A256%2C%22width%22%3A51%2C%22height%22%3A21%2C%22text%22%3A%22AGE%22%7D%2C%7B%22x%22%3A567%2C%22y%22%3A307%2C%22width%22%3A38%2C%22height%22%3A24%2C%22text%22%3A%22NO%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23f5ddb5%22%2C%22id%22%3A%22u461905ed%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="uae482a61" id="uae482a61"><span data-lake-id="u5716b006" id="u5716b006">子类赋值给父类时，指针、引用、对象只给它原本有的内容，额外的不给</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Person%5Cn%7B%5Cnprotected%3A%5Cn%5Ctstring%20_name%3B%20%2F%2F%20%E5%A7%93%E5%90%8D%5Cn%5Ctstring%20_sex%3B%20%2F%2F%20%E6%80%A7%E5%88%AB%5Cn%5Ctint%20_age%3B%20%2F%2F%20%E5%B9%B4%E9%BE%84%5Cn%7D%3B%5Cnclass%20Student%20%3A%20public%20Person%5Cn%7B%5Cnpublic%3A%5Cn%5Ctint%20_No%3B%20%2F%2F%20%E5%AD%A6%E5%8F%B7%5Cn%7D%3B%5Cnvoid%20Test()%5Cn%7B%5Cn%5CtStudent%20sobj%3B%5Cn%5Ct%2F%2F%201.%E5%AD%90%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%8F%AF%E4%BB%A5%E8%B5%8B%E5%80%BC%E7%BB%99%E7%88%B6%E7%B1%BB%E5%AF%B9%E8%B1%A1%2F%E6%8C%87%E9%92%88%2F%E5%BC%95%E7%94%A8%5Cn%5CtPerson%20pobj%20%3D%20sobj%3B%5Cn%5CtPerson*%20pp%20%3D%20%26sobj%3B%5Cn%5CtPerson%26%20rp%20%3D%20sobj%3B%5Cn%5Cn%5Ct%2F%2F2.%E5%9F%BA%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%8D%E8%83%BD%E8%B5%8B%E5%80%BC%E7%BB%99%E6%B4%BE%E7%94%9F%E7%B1%BB%E5%AF%B9%E8%B1%A1%5Cn%5Ctsobj%20%3D%20pobj%3B%5Cn%5Cn%5Ct%2F%2F%203.%E5%9F%BA%E7%B1%BB%E7%9A%84%E6%8C%87%E9%92%88%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E8%B5%8B%E5%80%BC%E7%BB%99%E6%B4%BE%E7%94%9F%E7%B1%BB%E7%9A%84%E6%8C%87%E9%92%88%5Cn%5Ctpp%20%3D%20%26sobj%5Cn%5Ct%5CtStudent%20*%20ps1%20%3D%20(Student*)pp%3B%20%2F%2F%20%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E8%BD%AC%E6%8D%A2%E6%97%B6%E5%8F%AF%E4%BB%A5%E7%9A%84%E3%80%82%5Cn%5Ctps1-%3E_No%20%3D%2010%3B%5Cn%5Cn%5Ctpp%20%3D%20%26pobj%3B%5Cn%5CtStudent*%20ps2%20%3D%20(Student*)pp%3B%20%2F%2F%20%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E8%BD%AC%E6%8D%A2%E6%97%B6%E8%99%BD%E7%84%B6%E5%8F%AF%E4%BB%A5%EF%BC%8C%E4%BD%86%E6%98%AF%E4%BC%9A%E5%AD%98%E5%9C%A8%E8%B6%8A%E7%95%8C%E8%AE%BF%E9%97%AE%E7%9A%84%E9%97%AE%E9%A2%98%5Cn%5Ctps2-%3E_No%20%3D%2010%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22BN14R%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="mtU0y" id="mtU0y" collapsed="true"><span data-lake-id="ud851c2f5" id="ud851c2f5" style="color: rgb(51,51,51)">3.继承中的作用域</span></h3><p data-lake-id="u25e88a69" id="u25e88a69"><span data-lake-id="ud36b9616" id="ud36b9616" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. 在继承体系中</span><strong><span data-lake-id="u074df63b" id="u074df63b" class="lake-fontsize-12" style="color: rgb(119,119,119)">基类</span></strong><span data-lake-id="u89a6e0d7" id="u89a6e0d7" class="lake-fontsize-12" style="color: rgb(119,119,119)">和</span><strong><span data-lake-id="uf807aedd" id="uf807aedd" class="lake-fontsize-12" style="color: rgb(119,119,119)">派生类</span></strong><span data-lake-id="u10de6a86" id="u10de6a86" class="lake-fontsize-12" style="color: #DF2A3F">都有</span><strong><span data-lake-id="uc2bbfdc5" id="uc2bbfdc5" class="lake-fontsize-12" style="color: #DF2A3F">独立的作用域</span></strong><span data-lake-id="u2fc8783a" id="u2fc8783a" class="lake-fontsize-12" style="color: #DF2A3F">。 </span></p><p data-lake-id="uf5ca3036" id="uf5ca3036"><span data-lake-id="ue27bc10c" id="ue27bc10c" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><span data-lake-id="u2a115d44" id="u2a115d44" class="lake-fontsize-12" style="color: #DF2A3F">子类和父类中有同名成员，</span><strong><span data-lake-id="ua140e6ad" id="ua140e6ad" class="lake-fontsize-12">子类成员将屏蔽父类对同名成员的直接访问</span></strong><strong><span data-lake-id="u0832bccd" id="u0832bccd" class="lake-fontsize-12" style="color: #DF2A3F">，这种情况叫隐藏，也叫重定义。</span></strong><span data-lake-id="u523e0fef" id="u523e0fef" class="lake-fontsize-12" style="color: rgb(119,119,119)">（在子类成员函数中，可以</span><strong><span data-lake-id="u137ff2e7" id="u137ff2e7" class="lake-fontsize-12" style="color: rgb(119,119,119)">使用 基类::基类成员 显示访问</span></strong><span data-lake-id="ubd2ae899" id="ubd2ae899" class="lake-fontsize-12" style="color: rgb(119,119,119)">） </span></p><p data-lake-id="u18458bab" id="u18458bab"><span data-lake-id="u275ca90c" id="u275ca90c" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><span data-lake-id="u14d2a735" id="u14d2a735" class="lake-fontsize-12" style="color: rgb(119,119,119)">需要注意的是如果是成员函数的隐藏，只需要函数名相同就构成隐藏。 </span></p><p data-lake-id="u1d8cee58" id="u1d8cee58"><span data-lake-id="ubde83575" id="ubde83575" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. 注意在实际中在</span><strong><span data-lake-id="uc1c8f2ca" id="uc1c8f2ca" class="lake-fontsize-12" style="color: rgb(119,119,119)">继承体系里</span></strong><span data-lake-id="ude07c529" id="ude07c529" class="lake-fontsize-12" style="color: rgb(119,119,119)">面最好</span><strong><span data-lake-id="u44d6445b" id="u44d6445b" class="lake-fontsize-12" style="color: rgb(119,119,119)">不要定义同名的成员</span></strong><span data-lake-id="ud4618631" id="ud4618631" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%5Cn%2F%2F%20Student%E7%9A%84_num%E5%92%8CPerson%E7%9A%84_num%E6%9E%84%E6%88%90%E9%9A%90%E8%97%8F%E5%85%B3%E7%B3%BB%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%87%BA%E8%BF%99%E6%A0%B7%E4%BB%A3%E7%A0%81%E8%99%BD%E7%84%B6%E8%83%BD%E8%B7%91%EF%BC%8C%E4%BD%86%E6%98%AF%E9%9D%9E%E5%B8%B8%E5%AE%B9%E6%98%93%E6%B7%B7%E6%B7%86%5Cnclass%20Person%5Cn%7B%5Cnprotected%3A%5Cn%5Ctstring%20_name%20%3D%20%5C%22%E5%B0%8F%E6%9D%8E%E5%AD%90%5C%22%3B%20%2F%2F%20%E5%A7%93%E5%90%8D%5Cn%5Ctint%20_num%20%3D%20111%3B%20%2F%2F%20%E8%BA%AB%E4%BB%BD%E8%AF%81%E5%8F%B7%5Cn%7D%3B%5Cnclass%20Student%20%3A%20public%20Person%5Cn%7B%5Cnpublic%3A%5Cn%5Ctvoid%20Print()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22%20%E5%A7%93%E5%90%8D%3A%5C%22%20%3C%3C%20_name%20%3C%3C%20endl%3B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22%20%E8%BA%AB%E4%BB%BD%E8%AF%81%E5%8F%B7%3A%5C%22%20%3C%3C%20Person%3A%3A_num%20%3C%3C%20endl%3B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22%20%E5%AD%A6%E5%8F%B7%3A%5C%22%20%3C%3C%20_num%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cnprotected%3A%5Cn%5Ctint%20_num%20%3D%20999%3B%20%2F%2F%20%E5%AD%A6%E5%8F%B7%5Cn%7D%3B%5Cnvoid%20Test()%5Cn%7B%5Cn%5CtStudent%20s1%3B%5Cn%5Cts1.Print()%3B%5Cn%7D%3B%5Cn%5Cn%5Cn%5Cn%5Cn%5Cn%2F%2F%20B%E4%B8%AD%E7%9A%84fun%E5%92%8CA%E4%B8%AD%E7%9A%84fun%E4%B8%8D%E6%98%AF%E6%9E%84%E6%88%90%E9%87%8D%E8%BD%BD%EF%BC%8C%E5%9B%A0%E4%B8%BA%E4%B8%8D%E6%98%AF%E5%9C%A8%E5%90%8C%E4%B8%80%E4%BD%9C%E7%94%A8%E5%9F%9F%5Cn%2F%2F%20B%E4%B8%AD%E7%9A%84fun%E5%92%8CA%E4%B8%AD%E7%9A%84fun%E6%9E%84%E6%88%90%E9%9A%90%E8%97%8F%EF%BC%8C%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E6%BB%A1%E8%B6%B3%E5%87%BD%E6%95%B0%E5%90%8D%E7%9B%B8%E5%90%8C%E5%B0%B1%E6%9E%84%E6%88%90%E9%9A%90%E8%97%8F%E3%80%82%5Cnclass%20A%5Cn%7B%5Cnpublic%3A%5Cn%5Ctvoid%20fun()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22func()%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%7D%3B%5Cnclass%20B%20%3A%20public%20A%5Cn%7B%5Cnpublic%3A%5Cn%5Ctvoid%20fun(int%20i)%5Cn%5Ct%7B%5Cn%5Ct%5CtA%3A%3Afun()%3B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22func(int%20i)-%3E%5C%22%20%3C%3C%20i%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%7D%3B%5Cnvoid%20Test()%5Cn%7B%5Cn%5CtB%20b%3B%5Cn%5Ctb.fun(10)%3B%5Cn%7D%3B%5Cn%5Cn%E8%8B%A5%E6%83%B3%E8%B0%83%E7%94%A8a%E7%9A%84fun%EF%BC%8C%E5%88%99%E9%9C%80%E8%A6%81%E6%8C%87%E5%AE%9A%E5%8E%BB%E8%B0%83%E7%94%A8%20b.A%3A%3Afun()%3B%5Cn%5Cn%2F%2Fa.%E9%87%8D%E8%BD%BD%20%20b.%E9%87%8D%E5%86%99%20%20c.%E9%87%8D%E5%AE%9A%E4%B9%89%20%20d.%E7%BC%96%E8%AF%91%E4%B8%8D%E9%80%9A%E8%BF%87%5Cn%2F%2F%E2%9C%94c.%20%E5%AD%90%E7%B1%BB%E5%92%8C%E7%88%B6%E7%B1%BB%E4%B8%AD%E6%9C%89%E5%90%8C%E5%90%8D%E6%88%90%E5%91%98%EF%BC%8C%E5%AD%90%E7%B1%BB%E6%88%90%E5%91%98%E5%B0%86%E5%B1%8F%E8%94%BD%E7%88%B6%E7%B1%BB%E5%AF%B9%E5%90%8C%E5%90%8D%E6%88%90%E5%91%98%E7%9A%84%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%EF%BC%8C%5Cn%2F%2F%E8%BF%99%E7%A7%8D%E6%83%85%E5%86%B5%E5%8F%AB%E9%9A%90%E8%97%8F%EF%BC%8C%E4%B9%9F%E5%8F%AB%E9%87%8D%E5%AE%9A%E4%B9%89%E3%80%82%5Cn%2F%2F%EF%BC%88%E5%9C%A8%E5%AD%90%E7%B1%BB%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E4%B8%AD%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%20%E5%9F%BA%E7%B1%BB%3A%3A%E5%9F%BA%E7%B1%BB%E6%88%90%E5%91%98%20%E6%98%BE%E7%A4%BA%E8%AE%BF%E9%97%AE%EF%BC%89%5Cn%5Cn%2F%2F%EF%BC%88%E5%9C%A8%E5%AD%90%E7%B1%BB%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E4%B8%AD%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%20%E5%9F%BA%E7%B1%BB%3A%3A%E5%9F%BA%E7%B1%BB%E6%88%90%E5%91%98%20%E6%98%BE%E7%A4%BA%E8%AE%BF%E9%97%AE%EF%BC%89%E5%87%BD%E6%95%B0%E5%90%8D%E7%9B%B8%E5%90%8C%E5%B0%B1%E6%9E%84%E6%88%90%E9%9A%90%E8%97%8F%5Cn%2F%2Fa.%E9%87%8D%E8%BD%BD%E8%A6%81%E5%9C%A8%E5%90%8C%E4%B8%80%E4%BD%9C%E7%94%A8%E5%9F%9F%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22awTge%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="CPnZv" id="CPnZv"><strong><span data-lake-id="u7b6def94" id="u7b6def94" class="lake-fontsize-12" style="color: rgb(51,51,51)">4.派生类的默认成员函数</span></strong></h3><p data-lake-id="u9b3adbee" id="u9b3adbee"><span data-lake-id="u212a0aa8" id="u212a0aa8" class="lake-fontsize-12" style="color: rgb(119,119,119)">6个默认成员函数，</span><strong><span data-lake-id="uf62f4e42" id="uf62f4e42" class="lake-fontsize-12" style="color: rgb(119,119,119)">“默认”</span></strong><span data-lake-id="u57a2225d" id="u57a2225d" class="lake-fontsize-12" style="color: rgb(119,119,119)">的意思就是指我们不写，编译器会变我们自动生成一个，那么在派生类中，这几个成员函数是如何生成的呢？ </span></p><p data-lake-id="u45dd73f8" id="u45dd73f8"><span data-lake-id="ua09dc06e" id="ua09dc06e" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. 派生类的构造函数必须</span><strong><span data-lake-id="u84323018" id="u84323018" class="lake-fontsize-12" style="color: rgb(119,119,119)">调用基类的构造函数</span></strong><span data-lake-id="ud6bb843f" id="ud6bb843f" class="lake-fontsize-12" style="color: #DF2A3F">初始化基类的那一部分成员</span><span data-lake-id="uc2e455e9" id="uc2e455e9" class="lake-fontsize-12" style="color: rgb(119,119,119)">。如果基类没有默认的构造函数，则</span><strong><span data-lake-id="ueeaed348" id="ueeaed348" class="lake-fontsize-12" style="color: rgb(119,119,119)">必须在派生类构造函数的初始化列表阶段显示调用</span></strong><span data-lake-id="u4a7519f5" id="u4a7519f5" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><p data-lake-id="ue2110fb2" id="ue2110fb2"><span data-lake-id="u803bbb99" id="u803bbb99" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 派生类的拷贝构造函数</span><strong><span data-lake-id="ub0fb7c1a" id="ub0fb7c1a" class="lake-fontsize-12" style="color: rgb(119,119,119)">必须调用基类的拷贝构造</span></strong><span data-lake-id="u3066a2b9" id="u3066a2b9" class="lake-fontsize-12" style="color: rgb(119,119,119)">完成基类的拷贝初始化。 </span></p><p data-lake-id="u34464b72" id="u34464b72"><span data-lake-id="uc56223f2" id="uc56223f2" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><span data-lake-id="uc82978a9" id="uc82978a9" class="lake-fontsize-12" style="color: rgb(119,119,119)">派生类的</span><span data-lake-id="u83a6a479" id="u83a6a479" class="lake-fontsize-12" style="color: rgb(119,119,119)">operator=</span><span data-lake-id="uc4032407" id="uc4032407" class="lake-fontsize-12" style="color: rgb(119,119,119)">必须要调用基类的</span><span data-lake-id="udcfbcb7c" id="udcfbcb7c" class="lake-fontsize-12" style="color: rgb(119,119,119)">operator=</span><span data-lake-id="u9e4efc19" id="u9e4efc19" class="lake-fontsize-12" style="color: rgb(119,119,119)">完成基类的复制。 </span></p><p data-lake-id="u4f4eeb28" id="u4f4eeb28"><span data-lake-id="u34185995" id="u34185995" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. 派生类的析构函数会在被调用完成后</span><strong><span data-lake-id="u9772490c" id="u9772490c" class="lake-fontsize-12" style="color: #DF2A3F">自动调用基类的析构函数清理基类成员</span></strong><span data-lake-id="ub0a7c20a" id="ub0a7c20a" class="lake-fontsize-12" style="color: rgb(119,119,119)">。因为这样才能保证</span><strong><span data-lake-id="uf4b639ec" id="uf4b639ec" class="lake-fontsize-12" style="color: rgb(119,119,119)">派生类对象先清理派生类成员</span></strong><span data-lake-id="udfee3aee" id="udfee3aee" class="lake-fontsize-12" style="color: rgb(119,119,119)">再</span><strong><span data-lake-id="u2440ab17" id="u2440ab17" class="lake-fontsize-12" style="color: rgb(119,119,119)">清理基类成员</span></strong><span data-lake-id="u7b301bb2" id="u7b301bb2" class="lake-fontsize-12" style="color: rgb(119,119,119)">的顺序。 </span></p><p data-lake-id="u03a207f6" id="u03a207f6"><span data-lake-id="u5f22fcdb" id="u5f22fcdb" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. 派生类对象初始化</span><strong><span data-lake-id="u18b9a511" id="u18b9a511" class="lake-fontsize-12" style="color: rgb(119,119,119)">先调用基类构造</span></strong><span data-lake-id="u5e228b77" id="u5e228b77" class="lake-fontsize-12" style="color: rgb(119,119,119)">再</span><strong><span data-lake-id="ub8c06385" id="ub8c06385" class="lake-fontsize-12" style="color: rgb(119,119,119)">调派生类构造</span></strong><span data-lake-id="u2cb47128" id="u2cb47128" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><p data-lake-id="ufaf6d29d" id="ufaf6d29d"><span data-lake-id="u54612809" id="u54612809" class="lake-fontsize-12" style="color: rgb(119,119,119)">6. 派生类对象析构清理</span><strong><span data-lake-id="u33d6c754" id="u33d6c754" class="lake-fontsize-12" style="color: rgb(119,119,119)">先调用派生类析构</span></strong><span data-lake-id="u898bb477" id="u898bb477" class="lake-fontsize-12" style="color: rgb(119,119,119)">再</span><strong><span data-lake-id="ub5a78cf1" id="ub5a78cf1" class="lake-fontsize-12" style="color: rgb(119,119,119)">调基类的析构</span></strong><span data-lake-id="u11a02b1d" id="u11a02b1d" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><p data-lake-id="ue2c189b2" id="ue2c189b2"><span data-lake-id="ueb4f90d5" id="ueb4f90d5" class="lake-fontsize-12" style="color: rgb(119,119,119)">​</span><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1744894723205-497fa495-3cc1-4aac-b1c2-55723264972c.png%22%2C%22taskId%22%3A%22uc9d11f58-e0e2-4684-946d-8839b4a7c51%22%2C%22clientId%22%3A%22u547eaae9-2f14-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.4285714285714%2C%22height%22%3A197%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1494421%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A344%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%BB%E8%A6%81%E5%AE%8C%E6%88%90%E5%88%9D%E5%A7%8B%E5%8C%96%E5%B7%A5%E4%BD%9C%20%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%B8%85%E7%90%86%20%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E4%B8%BB%E8%A6%81%E5%AE%8C%E6%88%90%E6%B8%85%E7%90%86%E5%B7%A5%E4%BD%9C%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%98%AF%E4%BD%BF%E7%94%A8%E5%90%8C%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%206%E4%B8%AA%E9%BB%98%E8%AE%A4%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%20%E6%8B%B7%E8%B4%9D%E5%A4%8D%E5%88%B6%20%E8%B5%8B%E5%80%BC%E9%87%8D%E8%BD%BD%E4%B8%BB%E8%A6%81%E6%98%AF%E6%8A%8A%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E8%B5%8B%E5%80%BC%E7%BB%99%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%20%E4%B8%BB%E8%A6%81%E6%98%AF%E6%99%AE%E9%80%9A%E5%AF%B9%E8%B1%A1%E5%92%8CCONST%E5%AF%B9%E8%B1%A1%E5%8F%96%E5%9C%B0%E5%9D%80%2C%E8%BF%99%E4%B8%A4%E4%B8%AA%E5%BE%88%E5%B0%91%E4%BC%9A%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%20%E5%8F%96%E5%9C%B0%E5%9D%80%E9%87%8D%E8%BD%BD%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A522%2C%22y%22%3A27%2C%22width%22%3A274%2C%22height%22%3A22%2C%22text%22%3A%22%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%BB%E8%A6%81%E5%AE%8C%E6%88%90%E5%88%9D%E5%A7%8B%E5%8C%96%E5%B7%A5%E4%BD%9C%22%7D%2C%7B%22x%22%3A333%2C%22y%22%3A55%2C%22width%22%3A142%2C%22height%22%3A25%2C%22text%22%3A%22%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E6%B8%85%E7%90%86%22%7D%2C%7B%22x%22%3A521%2C%22y%22%3A91%2C%22width%22%3A258%2C%22height%22%3A23%2C%22text%22%3A%22%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E4%B8%BB%E8%A6%81%E5%AE%8C%E6%88%90%E6%B8%85%E7%90%86%E5%B7%A5%E4%BD%9C%22%7D%2C%7B%22x%22%3A483%2C%22y%22%3A150%2C%22width%22%3A382%2C%22height%22%3A25%2C%22text%22%3A%22%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%98%AF%E4%BD%BF%E7%94%A8%E5%90%8C%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%22%7D%2C%7B%22x%22%3A44%2C%22y%22%3A169%2C%22width%22%3A202%2C%22height%22%3A30%2C%22text%22%3A%226%E4%B8%AA%E9%BB%98%E8%AE%A4%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%22%7D%2C%7B%22x%22%3A340%2C%22y%22%3A182%2C%22width%22%3A92%2C%22height%22%3A23%2C%22text%22%3A%22%E6%8B%B7%E8%B4%9D%E5%A4%8D%E5%88%B6%22%7D%2C%7B%22x%22%3A485%2C%22y%22%3A214%2C%22width%22%3A425%2C%22height%22%3A24%2C%22text%22%3A%22%E8%B5%8B%E5%80%BC%E9%87%8D%E8%BD%BD%E4%B8%BB%E8%A6%81%E6%98%AF%E6%8A%8A%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E8%B5%8B%E5%80%BC%E7%BB%99%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%22%7D%2C%7B%22x%22%3A492%2C%22y%22%3A278%2C%22width%22%3A558%2C%22height%22%3A26%2C%22text%22%3A%22%E4%B8%BB%E8%A6%81%E6%98%AF%E6%99%AE%E9%80%9A%E5%AF%B9%E8%B1%A1%E5%92%8CCONST%E5%AF%B9%E8%B1%A1%E5%8F%96%E5%9C%B0%E5%9D%80%2C%E8%BF%99%E4%B8%A4%E4%B8%AA%E5%BE%88%E5%B0%91%E4%BC%9A%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%22%7D%2C%7B%22x%22%3A334%2C%22y%22%3A284%2C%22width%22%3A111%2C%22height%22%3A23%2C%22text%22%3A%22%E5%8F%96%E5%9C%B0%E5%9D%80%E9%87%8D%E8%BD%BD%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fbfcf9%22%2C%22id%22%3A%22u2cc0c089%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u1731d73c" id="u1731d73c"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1744894730064-aa09d7d7-822d-44df-b579-d16529ea0fde.png%22%2C%22taskId%22%3A%22u2403edce-ed71-4df0-9045-45902bb2e0d%22%2C%22clientId%22%3A%22u547eaae9-2f14-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.4285714285714%2C%22height%22%3A217%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1650806%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A380%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E5%9F%BA%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0()%20%E6%B4%BE%E7%94%9F%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0()%20%E5%9F%BA%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0()%20%E6%B4%BE%E7%94%9F%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0()%20%E5%9F%BA%E7%B1%BB%E8%A1%8C%E4%B8%BA%20%E6%B4%BE%E7%94%9F%E7%B1%BB%E8%A1%8C%E4%B8%BA%20%E6%B4%BE%E7%94%9F%E7%B1%BB%E8%A1%8C%E4%B8%BA%20%E6%B4%BE%E7%94%9F%E7%B1%BB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0()%20~%E5%9F%BA%E7%B1%BB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0()%20%E6%B4%BE%E7%94%9F%E7%B1%BB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0()%20%E5%9F%BA%E7%B1%BB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0()%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A785%2C%22y%22%3A63%2C%22width%22%3A162%2C%22height%22%3A25%2C%22text%22%3A%22%E5%9F%BA%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0()%22%7D%2C%7B%22x%22%3A773%2C%22y%22%3A117%2C%22width%22%3A187%2C%22height%22%3A28%2C%22text%22%3A%22%E6%B4%BE%E7%94%9F%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0()%22%7D%2C%7B%22x%22%3A55%2C%22y%22%3A120%2C%22width%22%3A161%2C%22height%22%3A24%2C%22text%22%3A%22%E5%9F%BA%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0()%22%7D%2C%7B%22x%22%3A359%2C%22y%22%3A121%2C%22width%22%3A184%2C%22height%22%3A23%2C%22text%22%3A%22%E6%B4%BE%E7%94%9F%E7%B1%BB%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0()%22%7D%2C%7B%22x%22%3A89%2C%22y%22%3A184%2C%22width%22%3A93%2C%22height%22%3A27%2C%22text%22%3A%22%E5%9F%BA%E7%B1%BB%E8%A1%8C%E4%B8%BA%22%7D%2C%7B%22x%22%3A809%2C%22y%22%3A185%2C%22width%22%3A116%2C%22height%22%3A26%2C%22text%22%3A%22%E6%B4%BE%E7%94%9F%E7%B1%BB%E8%A1%8C%E4%B8%BA%22%7D%2C%7B%22x%22%3A392%2C%22y%22%3A185%2C%22width%22%3A117%2C%22height%22%3A27%2C%22text%22%3A%22%E6%B4%BE%E7%94%9F%E7%B1%BB%E8%A1%8C%E4%B8%BA%22%7D%2C%7B%22x%22%3A775%2C%22y%22%3A247%2C%22width%22%3A189%2C%22height%22%3A26%2C%22text%22%3A%22%E6%B4%BE%E7%94%9F%E7%B1%BB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0()%22%7D%2C%7B%22x%22%3A50%2C%22y%22%3A250%2C%22width%22%3A173%2C%22height%22%3A27%2C%22text%22%3A%22~%E5%9F%BA%E7%B1%BB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0()%22%7D%2C%7B%22x%22%3A364%2C%22y%22%3A251%2C%22width%22%3A186%2C%22height%22%3A26%2C%22text%22%3A%22%E6%B4%BE%E7%94%9F%E7%B1%BB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0()%22%7D%2C%7B%22x%22%3A786%2C%22y%22%3A300%2C%22width%22%3A167%2C%22height%22%3A26%2C%22text%22%3A%22%E5%9F%BA%E7%B1%BB%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0()%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23dae85d%22%2C%22id%22%3A%22ue23a5a86%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E4%B8%BB%E5%8A%A8%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%20%E4%B8%BA%E5%AD%90%E7%B1%BB%E5%88%9D%E5%A7%8B%E5%8C%96%5Cn%5Cn%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cnclass%20Person%5Cn%7B%5Cnpublic%3A%5Cn%5CtPerson(const%20char*%20name%20%3D%20%5C%22peter%5C%22)%5Cn%5Ct%5Ct%3A%20_name(name)%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Person()%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%5Cn%5CtPerson(const%20Person%26%20p)%5Cn%5Ct%5Ct%3A%20_name(p._name)%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Person(const%20Person%26%20p)%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%5Cn%5CtPerson%26%20operator%3D(const%20Person%26%20p)%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Person%20operator%3D(const%20Person%26%20p)%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%5Ctif%20(this%20!%3D%20%26p)%5Cn%5Ct%5Ct%5Ct_name%20%3D%20p._name%3B%5Cn%5Cn%5Ct%5Ctreturn%20*this%3B%5Cn%5Ct%7D%5Cn%5Cn%5Ct~Person()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22~Person()%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cnprotected%3A%5Cn%5Ctstring%20_name%3B%20%2F%2F%20%E5%A7%93%E5%90%8D%5Cn%7D%3B%5Cnclass%20Student%20%3A%20public%20Person%5Cn%7B%5Cnpublic%3A%5Cn%5CtStudent(const%20char*%20name%2C%20int%20num)%5Cn%5Ct%5Ct%3A%20Person(name)%5Cn%5Ct%5Ct%2C%20_num(num)%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Student()%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%5Cn%5CtStudent(const%20Student%26%20s)%5Cn%5Ct%5Ct%3A%20Person(s)%5Cn%5Ct%5Ct%2C%20_num(s._num)%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Student(const%20Student%26%20s)%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%5Cn%5CtStudent%26%20operator%20%3D%20(const%20Student%26%20s)%5Cn%5Ct%7B%20%20%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Student%26%20operator%3D%20(const%20Student%26%20s)%5C%22%20%3C%3C%20endl%3B%5Cn%20%20%20%20%20%20%20%20%E6%B3%A8%E6%84%8F%EF%BC%9A%E6%AD%A4%E5%A4%84%E5%BF%85%E9%A1%BB%E6%98%BE%E7%A4%BA%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E7%9A%84operator%EF%BC%8C%E5%90%A6%E5%88%99%E4%BC%9A%E4%B8%8D%E6%96%AD%E9%80%92%E5%BD%92%E5%AF%BC%E8%87%B4%E6%A0%88%E6%BA%A2%E5%87%BA%5Cn%20%20%20%20%20%20%20%20%E5%9B%A0%E4%B8%BA%E8%8B%A5%E4%B8%8D%E5%A6%82%E6%AD%A4%EF%BC%8C%E5%87%BD%E6%95%B0%E9%87%8D%E5%90%8D%EF%BC%8C%E7%88%B6%E7%B1%BB%E5%87%BD%E6%95%B0%E5%B0%86%E8%A2%AB%E9%9A%90%E8%97%8F%5Cn%20%20%20%20%20%20%20%20%E5%87%BD%E6%95%B0%E9%87%8D%E5%90%8D%E6%98%AF%E5%9B%A0%E4%B8%BA%20%E5%AD%90%E7%B1%BB%E4%B9%9F%E7%BB%A7%E6%89%BF%E4%BA%86%E7%88%B6%E7%B1%BB%E7%9A%84operator%E5%87%BD%E6%95%B0%5Cn%5Ct%5Ctif%20(this%20!%3D%20%26s)%5Cn%5Ct%5Ct%7B%5Cn%5Ct%5Ct%5CtPerson%3A%3Aoperator%20%3D(s)%3B%2F%2F%E6%89%80%E4%BB%A5%E7%BB%9D%E5%AF%B9%E6%9C%89%E5%BF%85%E8%A6%81%E6%8C%87%E5%AE%9A%E4%BD%9C%E7%94%A8%E5%9F%9F%5Cn%5Ct%5Ct%5Ct_num%20%3D%20s%20._num%3B%5Cn%5Ct%5Ct%7D%5Cn%5Ct%5Ctreturn%20*this%20%3B%5Cn%5Ct%7D%20%5Cn%20%5Cn%20~Student()%5Cn%2F%2F%E5%AD%90%E7%B1%BB%E7%9A%84%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E5%92%8C%E7%88%B6%E7%B1%BB%E7%9A%84%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E6%9E%84%E6%88%90%E9%9A%90%E8%97%8F%EF%BC%8C%5Cn%EF%BF%A5%2F%2F%E5%9B%A0%E4%B8%BA%E4%BB%96%E4%BB%AC%E7%9A%84%E5%90%8D%E5%AD%97%E4%BC%9A%E8%A2%AB%E7%BC%96%E8%AF%91%E5%99%A8%E5%A4%84%E7%90%86%E6%88%90destructor()%20%EF%BC%8C%E4%B8%8E%E5%A4%9A%E6%80%81%E6%9C%89%E5%85%B3%5Cn%20%7B%5Cn%20%20%20%20%20Person%3A%3A~Person()%3B%5Cn%5Ctcout%3C%3C%5C%22~Student()%5C%22%20%3C%3Cendl%3B%5Cn%20%7D%5Cnprotected%20%3A%5Cn%20int%20_num%20%3B%20%2F%2F%E5%AD%A6%E5%8F%B7%5Cn%7D%3B%5Cnvoid%20Test%20()%5Cn%7B%5Ct%5Ct%5Ct%2F%2F%E5%B0%B1%E7%AE%97%E4%B8%8D%E5%86%99%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8%20c%2B%2B%E4%B9%9F%E4%BC%9A%E8%B0%83%E7%94%A8%E9%BB%98%E8%AE%A4%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B9%9F%E5%A6%82%E6%AD%A4%5Cn%20Student%20s1%20(%5C%22jack%5C%22%2C%2018)%3B%2F%2F%E5%AD%90%E7%B1%BB%E5%BF%85%E9%A1%BB%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%BA%E5%85%B6%E8%B5%8B%E5%80%BC%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AD%90%E7%B1%BB%E7%BB%A7%E6%89%BF%E4%BA%86%E7%88%B6%E7%B1%BB%E7%9A%84%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9%5Cn%20Student%20s2%20(s1)%3B%5Cn%20Student%20s3%20(%5C%22rose%5C%22%2C%2017)%3B%5Cn%20s1%20%3D%20s3%20%3B%5Cn%7D%5Cn%5Cn%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E4%B8%BB%E5%8A%A8%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Zzw81%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u0d6cc85c" id="u0d6cc85c"><span data-lake-id="ue676a921" id="ue676a921">注意：</span></p><p data-lake-id="u0afab888" id="u0afab888"><span data-lake-id="ue045a63e" id="ue045a63e">就算不写初始化列表 c++也会调用默认构造函数 拷贝构造函数也如此</span></p><p data-lake-id="u34114a85" id="u34114a85"><span data-lake-id="u55762d26" id="u55762d26">子类只管属于自己的那一部分 ，管不到的父类部分调用父类的函数来管理</span></p><p data-lake-id="u53b74808" id="u53b74808"><strong><span data-lake-id="u3589cb7e" id="u3589cb7e">子类必须调用父类的构造函数为其赋值（</span></strong><span data-lake-id="u6fbf8129" id="u6fbf8129">赋值掉父类那一部分</span><strong><span data-lake-id="ud408a9cb" id="ud408a9cb">）</span></strong><span data-lake-id="u9b08cbae" id="u9b08cbae">，因为子类继承了父类的相关内容</span></p><p data-lake-id="u5a49d3ec" id="u5a49d3ec"><span data-lake-id="uaedffd61" id="uaedffd61">正确用法：父类析构函数不需要主动调，因为结束后，父类会自动调用，否则破坏析构顺序。</span></p><p data-lake-id="u638d0108" id="u638d0108"><span data-lake-id="ue80cdc33" id="ue80cdc33">​</span><br></p><p data-lake-id="u6fe1cb12" id="u6fe1cb12"><span data-lake-id="u66dbfd1c" id="u66dbfd1c">面试小题：</span></p><p data-lake-id="u3665ce9f" id="u3665ce9f"><strong><span data-lake-id="u04b9f63e" id="u04b9f63e">如何设计一个不能被继承的类？</span></strong></p><p data-lake-id="u594efd80" id="u594efd80"><span data-lake-id="u8ed3c7b2" id="u8ed3c7b2">将 构造/析构 函数私有化</span></p><p data-lake-id="uaae8038d" id="uaae8038d"><span data-lake-id="ufbdd4048" id="ufbdd4048">因为若B继承了A，A的构造函数或析构函数被私有，B无法调用并初始化，因此B无法实例化</span></p><h3 data-lake-id="iPysu" id="iPysu"><span data-lake-id="uccce661d" id="uccce661d" style="color: rgb(51,51,51)">5.继承与友元</span></h3><p data-lake-id="u7191b52e" id="u7191b52e"><strong><span data-lake-id="u3ef77198" id="u3ef77198" class="lake-fontsize-12" style="color: rgb(119,119,119)">友元关系不能继承</span></strong><span data-lake-id="ube8c8197" id="ube8c8197" class="lake-fontsize-12" style="color: rgb(119,119,119)">，也就是说</span><strong><span data-lake-id="u61b06c53" id="u61b06c53" class="lake-fontsize-12" style="color: rgb(119,119,119)">基类友元</span></strong><span data-lake-id="ubf1ad3f1" id="ubf1ad3f1" class="lake-fontsize-12" style="color: rgb(119,119,119)">不能访问子类私有和保护成员</span></p><p data-lake-id="u65d59e60" id="u65d59e60"><span data-lake-id="u306a6192" id="u306a6192" class="lake-fontsize-12" style="color: rgb(119,119,119)"> 所以我在访问基类和派生类的时候，两个类都要加上一样的友元</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%E9%94%99%E8%AF%AF%E7%A4%BA%E8%8C%83%5Cn%5Cnclass%20Student%3B%5Cn%5Cnclass%20Person%5Cn%7B%5Cnpublic%3A%5Cn%5Ctfriend%20void%20Display(const%20Person%26%20p%2C%20const%20Student%26%20s)%3B%5Cnprotected%3A%5Cn%5Ctstring%20_name%3B%20%2F%2F%20%E5%A7%93%E5%90%8D%5Cn%7D%3B%5Cn%5Cnclass%20Student%20%3A%20public%20Person%5Cn%7B%5Cn%20%20%20%20%2F%2Ffriend%20void%20Display(const%20Person%26%20p%2C%20const%20Student%26%20s)%3B%2F%2F%E5%A1%AB%E4%B8%8A%E5%8D%B3%E5%8F%AF%5Cnprotected%3A%5Cn%5Ctint%20_stuNum%3B%20%2F%2F%20%E5%AD%A6%E5%8F%B7%5Cn%7D%3B%5Cn%5Cnvoid%20Display(const%20Person%26%20p%2C%20const%20Student%26%20s)%5Cn%7B%5Cn%5Ctcout%20%3C%3C%20p._name%20%3C%3C%20endl%3B%5Cn%5Ctcout%20%3C%3C%20s._stuNum%20%3C%3C%20endl%3B%5Cn%7D%5Cn%5Cnvoid%20main()%5Cn%7B%5Cn%5CtPerson%20p%3B%5Cn%5CtStudent%20s%3B%5Cn%5CtDisplay(p%2C%20s)%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22cTSKp%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="gcfHM" id="gcfHM" collapsed="true"><span data-lake-id="u4383e7fb" id="u4383e7fb" style="color: rgb(51,51,51)">6. 继承与静态成员</span></h3><p data-lake-id="ua2c04cf8" id="ua2c04cf8"><strong><span data-lake-id="u9f649bb9" id="u9f649bb9" class="lake-fontsize-12" style="color: rgb(119,119,119)">基类定义了static静态成员，则整个继承体系里面只有一个这样的成员</span></strong><span data-lake-id="ua945b298" id="ua945b298" class="lake-fontsize-12" style="color: rgb(119,119,119)">。无论派生出多少个子类，都只有一个static成员实例 。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Person%5Cn%7B%5Cnpublic%20%3A%5Cn%20Person%20()%20%7B%2B%2B%20_count%20%3B%7D%5Cnprotected%20%3A%5Cn%20string%20_name%20%3B%20%2F%2F%20%E5%A7%93%E5%90%8D%5Cnpublic%20%3A%5Cn%20static%20int%20_count%3B%20%2F%2F%20%E7%BB%9F%E8%AE%A1%E4%BA%BA%E7%9A%84%E4%B8%AA%E6%95%B0%E3%80%82%5Cn%7D%3B%5Cnint%20Person%20%3A%3A%20_count%20%3D%200%3B%5Cnclass%20Student%20%3A%20public%20Person%5Cn%7B%5Cnprotected%20%3A%5Cn%20int%20_stuNum%20%3B%20%2F%2F%20%E5%AD%A6%E5%8F%B7%5Cn%7D%3B%5Cnclass%20Graduate%20%3A%20public%20Student%5Cn%7B%5Cnprotected%20%3A%5Cn%20string%20_seminarCourse%20%3B%20%2F%2F%20%E7%A0%94%E7%A9%B6%E7%A7%91%E7%9B%AE%5Cn%7D%3B%5Cnvoid%20TestPerson()%5Cn%7B%5Cn%20Student%20s1%20%3B%5Cn%20Student%20s2%20%3B%5Cn%20Student%20s3%20%3B%5Cn%20Graduate%20s4%20%3B%5Cn%20cout%20%3C%3C%5C%22%20%E4%BA%BA%E6%95%B0%20%3A%5C%22%3C%3C%20Person%20%3A%3A_count%20%3C%3C%20endl%3B%5Cn%20Student%20%3A%3A_count%20%3D%200%3B%5Cn%20cout%20%3C%3C%5C%22%20%E4%BA%BA%E6%95%B0%20%3A%5C%22%3C%3C%20Person%20%3A%3A_count%20%3C%3C%20endl%3B%5Cn%7D%5Cn%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20void%20TestPerson()%3B%5Cn%20%20%20%20return%200%3B%5Cn%7D%5Cn%5Cn%20%20%20%20%E4%BC%9A%E5%8F%91%E7%8E%B0%20%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E7%BB%A7%E6%89%BF%E5%90%8E%EF%BC%8C%E5%AF%B9%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E6%89%80%E6%8C%87%E5%90%91%E7%9A%84%E5%9C%B0%E5%9D%80%E6%98%AF%E5%90%8C%E4%B8%80%E4%B8%AA%E3%80%82%5Cn%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%AF%B4%EF%BC%8C%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E7%BB%A7%E6%89%BF%E7%9A%84%E6%98%AF%E5%90%8C%E4%B8%80%E4%B8%AA%E4%B8%9C%E8%A5%BF%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22bXZu4%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="OS5Zs" id="OS5Zs" collapsed="true"><span data-lake-id="uf65ead6b" id="uf65ead6b" style="color: rgb(51,51,51)">7.复杂的菱形继承及菱形虚拟继承</span></h3><p data-lake-id="u45b58e21" id="u45b58e21"><strong><span data-lake-id="u4e85ed31" id="u4e85ed31" class="lake-fontsize-12" style="color: rgb(119,119,119)">单继承：  一个子类只有一个直接父类时称这个继承关系为单继承</span></strong></p><p data-lake-id="ufc5da2f6" id="ufc5da2f6"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745203118489-0510c042-3d20-4b28-825a-751042b75c5d.png%22%2C%22taskId%22%3A%22u07c9927f-0f17-42a4-986b-ce5ee84f857%22%2C%22clientId%22%3A%22u5d6e0394-9456-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A303.42857142857144%2C%22height%22%3A189%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A702459%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A531%2C%22originHeight%22%3A330%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22CLASS%20PERSON%20CLASS%20STUDENT%3APUBLIC%20PERSON%20STUDENT.%20CLASS%20POSTGRADUATE%3APUBLIC%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A189%2C%22y%22%3A49%2C%22width%22%3A151%2C%22height%22%3A18%2C%22text%22%3A%22CLASS%20PERSON%22%7D%2C%7B%22x%22%3A97%2C%22y%22%3A161%2C%22width%22%3A332%2C%22height%22%3A19%2C%22text%22%3A%22CLASS%20STUDENT%3APUBLIC%20PERSON%22%7D%2C%7B%22x%22%3A378%2C%22y%22%3A273%2C%22width%22%3A88%2C%22height%22%3A18%2C%22text%22%3A%22STUDENT.%22%7D%2C%7B%22x%22%3A60%2C%22y%22%3A273%2C%22width%22%3A309%2C%22height%22%3A19%2C%22text%22%3A%22CLASS%20POSTGRADUATE%3APUBLIC%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fcfdf9%22%2C%22id%22%3A%22u5c081a58%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u1acd1e60" id="u1acd1e60"><strong><span data-lake-id="u5197fafc" id="u5197fafc" class="lake-fontsize-12" style="color: rgb(119,119,119)">多继承：一个子类有两个或以上直接父类时称这个继承关系为多继承</span></strong></p><p data-lake-id="u1ed9d717" id="u1ed9d717"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745203153691-ab7f084f-1bdf-45fe-9c22-52e8e3b94331.png%22%2C%22taskId%22%3A%22u9e10c103-43a3-42d1-8154-099071c5974%22%2C%22clientId%22%3A%22u5d6e0394-9456-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A345.14285714285717%2C%22height%22%3A154%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A653722%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A604%2C%22originHeight%22%3A270%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22CLASS%20TEACHER%20STUDENT%20CLASS%20CLASS%20ASSISTANT%3APUBLIC%20STUDENT%20PUBLIC%20TEACHER%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A372%2C%22y%22%3A38%2C%22width%22%3A162%2C%22height%22%3A22%2C%22text%22%3A%22CLASS%20TEACHER%22%7D%2C%7B%22x%22%3A135%2C%22y%22%3A42%2C%22width%22%3A87%2C%22height%22%3A17%2C%22text%22%3A%22STUDENT%22%7D%2C%7B%22x%22%3A62%2C%22y%22%3A43%2C%22width%22%3A63%2C%22height%22%3A17%2C%22text%22%3A%22CLASS%22%7D%2C%7B%22x%22%3A22%2C%22y%22%3A214%2C%22width%22%3A554%2C%22height%22%3A21%2C%22text%22%3A%22CLASS%20ASSISTANT%3APUBLIC%20STUDENT%20PUBLIC%20TEACHER%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fafcf6%22%2C%22id%22%3A%22ufdc448ca%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u6b7f1a0d" id="u6b7f1a0d"><strong><span data-lake-id="ucdaccd0d" id="ucdaccd0d" class="lake-fontsize-12" style="color: rgb(119,119,119)">菱形继承：菱形继承是多继承的一种特殊情况。</span></strong></p><p data-lake-id="u37e3ad08" id="u37e3ad08"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745203171811-81c96bc2-987d-4d65-b0ee-775333e1f95e.png%22%2C%22taskId%22%3A%22ubebbf8a6-455b-4956-9f69-e6a5ec7381a%22%2C%22clientId%22%3A%22u5d6e0394-9456-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A483.42857142857144%2C%22height%22%3A246%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1461375%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A846%2C%22originHeight%22%3A431%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22CLASS%20PERSON%20CLASS%20TEACHER%3APUBLIC%20PERSON%20STUDENT%3APUBLIE%20PERSON%20CLASS%20CLASS%20ASSISTANT%3APUBLIC%20STUDENT%2CPUBLIC%20TEACHER%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A347%2C%22y%22%3A53%2C%22width%22%3A149%2C%22height%22%3A18%2C%22text%22%3A%22CLASS%20PERSON%22%7D%2C%7B%22x%22%3A471%2C%22y%22%3A215%2C%22width%22%3A336%2C%22height%22%3A21%2C%22text%22%3A%22CLASS%20TEACHER%3APUBLIC%20PERSON%22%7D%2C%7B%22x%22%3A110%2C%22y%22%3A215%2C%22width%22%3A261%2C%22height%22%3A20%2C%22text%22%3A%22STUDENT%3APUBLIE%20PERSON%22%7D%2C%7B%22x%22%3A38%2C%22y%22%3A218%2C%22width%22%3A63%2C%22height%22%3A15%2C%22text%22%3A%22CLASS%22%7D%2C%7B%22x%22%3A145%2C%22y%22%3A378%2C%22width%22%3A551%2C%22height%22%3A19%2C%22text%22%3A%22CLASS%20ASSISTANT%3APUBLIC%20STUDENT%2CPUBLIC%20TEACHER%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fcfcf7%22%2C%22id%22%3A%22uddeda9d5%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u16b8440c" id="u16b8440c"><strong><span data-lake-id="udb15169e" id="udb15169e" class="lake-fontsize-12" style="color: rgb(119,119,119)">菱形继承的问题：从下面的对象成员模型构造，可以看出菱形继承有数据冗余和二义性的问题。在Assistant 的对象中Person成员会有两份。</span></strong></p><p data-lake-id="u858cd03a" id="u858cd03a"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745203192256-280ce8a1-908c-4822-ac1c-f21f02347e38.png%22%2C%22taskId%22%3A%22u3f421fd8-d45d-4d63-9d63-8583aeb5bb6%22%2C%22clientId%22%3A%22u5d6e0394-9456-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A329.14285714285717%2C%22height%22%3A333%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1346072%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A576%2C%22originHeight%22%3A583%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22PERSON%20STRING%20_NAME%3A%20STUDENT%20INT%20NUM%20PERSON%20STRING%20NAME%3B%20TEACHER%20INT%20ID.%20STRING%20MAJORCOURSE%20ASSISTANT%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A446%2C%22y%22%3A82%2C%22width%22%3A76%2C%22height%22%3A17%2C%22text%22%3A%22PERSON%22%7D%2C%7B%22x%22%3A101%2C%22y%22%3A106%2C%22width%22%3A159%2C%22height%22%3A20%2C%22text%22%3A%22STRING%20_NAME%3A%22%7D%2C%7B%22x%22%3A446%2C%22y%22%3A140%2C%22width%22%3A78%2C%22height%22%3A20%2C%22text%22%3A%22STUDENT%22%7D%2C%7B%22x%22%3A126%2C%22y%22%3A165%2C%22width%22%3A102%2C%22height%22%3A21%2C%22text%22%3A%22INT%20NUM%22%7D%2C%7B%22x%22%3A445%2C%22y%22%3A268%2C%22width%22%3A76%2C%22height%22%3A16%2C%22text%22%3A%22PERSON%22%7D%2C%7B%22x%22%3A101%2C%22y%22%3A293%2C%22width%22%3A77%2C%22height%22%3A18%2C%22text%22%3A%22STRING%22%7D%2C%7B%22x%22%3A199%2C%22y%22%3A294%2C%22width%22%3A60%2C%22height%22%3A16%2C%22text%22%3A%22NAME%3B%22%7D%2C%7B%22x%22%3A447%2C%22y%22%3A328%2C%22width%22%3A77%2C%22height%22%3A17%2C%22text%22%3A%22TEACHER%22%7D%2C%7B%22x%22%3A133%2C%22y%22%3A353%2C%22width%22%3A91%2C%22height%22%3A19%2C%22text%22%3A%22INT%20ID.%22%7D%2C%7B%22x%22%3A62%2C%22y%22%3A412%2C%22width%22%3A245%2C%22height%22%3A21%2C%22text%22%3A%22STRING%20MAJORCOURSE%22%7D%2C%7B%22x%22%3A425%2C%22y%22%3A525%2C%22width%22%3A111%2C%22height%22%3A18%2C%22text%22%3A%22ASSISTANT%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23faf9f1%22%2C%22id%22%3A%22u94b3c1a3%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Person%5Cn%7B%5Cnpublic%3A%5Cn%5Ctstring%20_name%3B%20%2F%2F%20%E5%A7%93%E5%90%8D%5Cn%7D%3B%5Cn%5Cnclass%20Student%20%3A%20public%20Person%5Cn%7B%5Cnprotected%3A%5Cn%5Ctint%20_num%3B%20%2F%2F%E5%AD%A6%E5%8F%B7%5Cn%7D%3B%5Cnclass%20Teacher%20%3A%20public%20Person%5Cn%7B%5Cnprotected%3A%5Cn%5Ctint%20_id%3B%20%2F%2F%20%E8%81%8C%E5%B7%A5%E7%BC%96%E5%8F%B7%5Cn%7D%3B%5Cnclass%20Assistant%20%3A%20public%20Student%2C%20public%20Teacher%5Cn%7B%5Cnprotected%3A%5Cn%5Ctstring%20_majorCourse%3B%20%2F%2F%20%E4%B8%BB%E4%BF%AE%E8%AF%BE%E7%A8%8B%5Cn%7D%3B%5Cnvoid%20Test()%5Cn%7B%5Cn%5Ct%2F%2F%20%E8%BF%99%E6%A0%B7%E4%BC%9A%E6%9C%89%E4%BA%8C%E4%B9%89%E6%80%A7%E6%97%A0%E6%B3%95%E6%98%8E%E7%A1%AE%E7%9F%A5%E9%81%93%E8%AE%BF%E9%97%AE%E7%9A%84%E6%98%AF%E5%93%AA%E4%B8%80%E4%B8%AA%5Cn%5CtAssistant%20a%3B%5Cn%5Cta._name%20%3D%20%5C%22peter%5C%22%3B%5Cn%5Cn%5Ct%2F%2F%20%E9%9C%80%E8%A6%81%E6%98%BE%E7%A4%BA%E6%8C%87%E5%AE%9A%E8%AE%BF%E9%97%AE%E5%93%AA%E4%B8%AA%E7%88%B6%E7%B1%BB%E7%9A%84%E6%88%90%E5%91%98%E5%8F%AF%E4%BB%A5%E8%A7%A3%E5%86%B3%E4%BA%8C%E4%B9%89%E6%80%A7%E9%97%AE%E9%A2%98%EF%BC%8C%E4%BD%86%E6%98%AF%E6%95%B0%E6%8D%AE%E5%86%97%E4%BD%99%E9%97%AE%E9%A2%98%E6%97%A0%E6%B3%95%E8%A7%A3%E5%86%B3%5Cn%5Cta.Student%3A%3A_name%20%3D%20%5C%22xxx%5C%22%3B%5Cn%5Cta.Teacher%3A%3A_name%20%3D%20%5C%22yyy%5C%22%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22DHcUL%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u678c9fd6" id="u678c9fd6"><strong><span data-lake-id="uc55827d7" id="uc55827d7" class="lake-fontsize-12" style="color: rgb(119,119,119)">虚拟继承可以解决菱形继承的二义性和数据冗余的问题。如上面的继承关系，在Student和Teacher的继承 Person时使用虚拟继承，即可解决问题。需要注意的是，虚拟继承不要在其他地方去使用。</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%20%E5%AE%98%E6%96%B9%E8%A7%A3%E5%86%B3%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Person%5Cn%7B%5Cnpublic%3A%5Cn%5Ctstring%20_name%3B%20%2F%2F%20%E5%A7%93%E5%90%8D%5Cn%7D%3B%5Cnclass%20Student%20%3A%20virtual%20public%20Person%5Cn%7B%5Cnprotected%3A%5Cn%5Ctint%20_num%3B%20%2F%2F%E5%AD%A6%E5%8F%B7%5Cn%7D%3B%5Cnclass%20Teacher%20%3A%20virtual%20public%20Person%5Cn%7B%5Cnprotected%3A%5Cn%5Ctint%20_id%3B%20%2F%2F%20%E8%81%8C%E5%B7%A5%E7%BC%96%E5%8F%B7%5Cn%7D%3B%5Cnclass%20Assistant%20%3A%20public%20Student%2C%20public%20Teacher%5Cn%7B%5Cnprotected%3A%5Cn%5Ctstring%20_majorCourse%3B%20%2F%2F%20%E4%B8%BB%E4%BF%AE%E8%AF%BE%E7%A8%8B%5Cn%7D%3B%5Cnvoid%20Test()%5Cn%7B%5Cn%5CtAssistant%20a%3B%5Cn%5Cta._name%20%3D%20%5C%22peter%5C%22%3B%5Cn%7D%5Cn%5Cn%E5%8F%91%E7%8E%B0%E4%BB%96%E4%BB%AC%E9%87%8D%E5%8F%A0%E7%BB%A7%E6%89%BF%E9%83%A8%E5%88%86%E7%9A%84%E7%B1%BB%E5%85%B6%E5%AE%9E%E6%98%AF%E5%90%8C%E4%B8%80%E5%9C%B0%E5%9D%80%E7%9A%84%E7%B1%BB%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%20%E5%AE%98%E6%96%B9%E8%A7%A3%E5%86%B3%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22IWRmc%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uf7d29f4b" id="uf7d29f4b"><strong><span data-lake-id="ua04bce52" id="ua04bce52" class="lake-fontsize-12" style="color: rgb(119,119,119)">虚拟继承解决数据冗余和二义性的原理 </span></strong></p><p data-lake-id="ue77de4bd" id="ue77de4bd"><span data-lake-id="uf8d44cee" id="uf8d44cee" class="lake-fontsize-12" style="color: rgb(119,119,119)">为了研究虚拟继承原理，我们给出了一个简化的菱形继承继承体系，再借助</span><strong><span data-lake-id="u35a7661b" id="u35a7661b" class="lake-fontsize-12" style="color: rgb(119,119,119)">内存窗口观察对象成员的模型。</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20A%5Cn%7B%5Cnpublic%3A%5Cn%5Ctint%20_a%3B%5Cn%7D%3B%5Cn%2F%2F%20class%20B%20%3A%20public%20A%5Cnclass%20B%20%3A%20public%20A%5Cn%7B%5Cnpublic%3A%5Cn%5Ctint%20_b%3B%5Cn%7D%3B%5Cn%2F%2F%20class%20C%20%3A%20public%20A%5Cnclass%20C%20%3A%20public%20A%5Cn%7B%5Cnpublic%3A%5Cn%5Ctint%20_c%3B%5Cn%7D%3B%5Cnclass%20D%20%3A%20public%20B%2C%20public%20C%5Cn%7B%5Cnpublic%3A%5Cn%5Ctint%20_d%3B%5Cn%7D%3B%5Cnint%20main()%5Cn%7B%5Cn%5CtD%20d%3B%5Cn%5Ctd.B%3A%3A_a%20%3D%201%3B%5Cn%5Ctd.C%3A%3A_a%20%3D%202%3B%5Cn%5Ctd._b%20%3D%203%3B%5Cn%5Ctd._c%20%3D%204%3B%5Cn%5Ctd._d%20%3D%205%3B%5Cn%5Ctreturn%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22aMzGS%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ue2d69d9b" id="ue2d69d9b"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745492618109-a5c5a350-e62f-44e1-8e8e-ac0ddd9de09e.png%22%2C%22taskId%22%3A%22uf8d6c574-009e-4f89-bf57-b35d1ecacc2%22%2C%22clientId%22%3A%22u51129dbb-4d33-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A432.57142857142856%2C%22height%22%3A224%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A218098%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A757%2C%22originHeight%22%3A392%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22INT%20MAIN()%20%E5%86%85%E5%AD%98%20%E5%9C%B0%E5%9D%80%3A0X00B3FADC%2001000000%200X00B3FADC%20%3CSIZEOF(D)%3C%3C%3C%3CENDL%3A%2F%2FOX00B3FACO%2000%2003%2000%2000%20COUT%2010X00B3FAF4%2002%2000%2000%2000%20%E7%B2%A4X00B3FAFS%2004%2000%2000%2000%20OXOOB3FAEC%2005000000%20D.B%3AA%201%3B%20%3F%3F%3F%3F%20OXOOB3FAFO%20CCCCCCCC%20D.C%3AA%20%E4%BA%8C%202%3B%20D%3F%3F.%2000%2044%20FB%20B3%20OX00B3FAF4%20D.B%203%20%3B%200X00B3FAF8%200962%20.%20BG.%2000%2067%20D.%20C%204%3B%200X00B3FAFC%2000%2000%2001%2000%20D._D%205%20%3B%2000%20%3FR%3F.%2052%200X00B3FB00%20CO%20E0%202095%2000%200X00B3FB04%20E0%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A3%2C%22y%22%3A16%2C%22width%22%3A118%2C%22height%22%3A26%2C%22text%22%3A%22INT%20MAIN()%22%7D%2C%7B%22x%22%3A418%2C%22y%22%3A38%2C%22width%22%3A29%2C%22height%22%3A12%2C%22text%22%3A%22%E5%86%85%E5%AD%98%22%7D%2C%7B%22x%22%3A422%2C%22y%22%3A61%2C%22width%22%3A112%2C%22height%22%3A13%2C%22text%22%3A%22%E5%9C%B0%E5%9D%80%3A0X00B3FADC%22%7D%2C%7B%22x%22%3A558%2C%22y%22%3A84%2C%22width%22%3A132%2C%22height%22%3A21%2C%22text%22%3A%2201000000%22%7D%2C%7B%22x%22%3A418%2C%22y%22%3A83%2C%22width%22%3A120%2C%22height%22%3A19%2C%22text%22%3A%220X00B3FADC%22%7D%2C%7B%22x%22%3A115%2C%22y%22%3A104%2C%22width%22%3A419%2C%22height%22%3A31%2C%22text%22%3A%22%3CSIZEOF(D)%3C%3C%3C%3CENDL%3A%2F%2FOX00B3FACO%22%7D%2C%7B%22x%22%3A665%2C%22y%22%3A113%2C%22width%22%3A25%2C%22height%22%3A17%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A559%2C%22y%22%3A113%2C%22width%22%3A96%2C%22height%22%3A18%2C%22text%22%3A%2203%2000%2000%22%7D%2C%7B%22x%22%3A56%2C%22y%22%3A117%2C%22width%22%3A55%2C%22height%22%3A16%2C%22text%22%3A%22COUT%22%7D%2C%7B%22x%22%3A413%2C%22y%22%3A137%2C%22width%22%3A123%2C%22height%22%3A26%2C%22text%22%3A%2210X00B3FAF4%22%7D%2C%7B%22x%22%3A557%2C%22y%22%3A143%2C%22width%22%3A132%2C%22height%22%3A19%2C%22text%22%3A%2202%2000%2000%2000%22%7D%2C%7B%22x%22%3A416%2C%22y%22%3A166%2C%22width%22%3A126%2C%22height%22%3A23%2C%22text%22%3A%22%E7%B2%A4X00B3FAFS%22%7D%2C%7B%22x%22%3A559%2C%22y%22%3A170%2C%22width%22%3A132%2C%22height%22%3A20%2C%22text%22%3A%2204%2000%2000%2000%22%7D%2C%7B%22x%22%3A416%2C%22y%22%3A196%2C%22width%22%3A120%2C%22height%22%3A23%2C%22text%22%3A%22OXOOB3FAEC%22%7D%2C%7B%22x%22%3A559%2C%22y%22%3A199%2C%22width%22%3A131%2C%22height%22%3A18%2C%22text%22%3A%2205000000%22%7D%2C%7B%22x%22%3A55%2C%22y%22%3A204%2C%22width%22%3A167%2C%22height%22%3A24%2C%22text%22%3A%22D.B%3AA%201%3B%22%7D%2C%7B%22x%22%3A713%2C%22y%22%3A226%2C%22width%22%3A42%2C%22height%22%3A20%2C%22text%22%3A%22%3F%3F%3F%3F%22%7D%2C%7B%22x%22%3A419%2C%22y%22%3A226%2C%22width%22%3A116%2C%22height%22%3A21%2C%22text%22%3A%22OXOOB3FAFO%22%7D%2C%7B%22x%22%3A559%2C%22y%22%3A231%2C%22width%22%3A129%2C%22height%22%3A14%2C%22text%22%3A%22CCCCCCCC%22%7D%2C%7B%22x%22%3A53%2C%22y%22%3A235%2C%22width%22%3A152%2C%22height%22%3A23%2C%22text%22%3A%22D.C%3AA%20%E4%BA%8C%202%3B%22%7D%2C%7B%22x%22%3A711%2C%22y%22%3A255%2C%22width%22%3A41%2C%22height%22%3A20%2C%22text%22%3A%22D%3F%3F.%22%7D%2C%7B%22x%22%3A664%2C%22y%22%3A256%2C%22width%22%3A25%2C%22height%22%3A19%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A561%2C%22y%22%3A256%2C%22width%22%3A93%2C%22height%22%3A19%2C%22text%22%3A%2244%20FB%20B3%22%7D%2C%7B%22x%22%3A417%2C%22y%22%3A255%2C%22width%22%3A121%2C%22height%22%3A22%2C%22text%22%3A%22OX00B3FAF4%22%7D%2C%7B%22x%22%3A54%2C%22y%22%3A265%2C%22width%22%3A114%2C%22height%22%3A24%2C%22text%22%3A%22D.B%203%20%3B%22%7D%2C%7B%22x%22%3A419%2C%22y%22%3A282%2C%22width%22%3A117%2C%22height%22%3A20%2C%22text%22%3A%220X00B3FAF8%22%7D%2C%7B%22x%22%3A559%2C%22y%22%3A284%2C%22width%22%3A59%2C%22height%22%3A18%2C%22text%22%3A%220962%22%7D%2C%7B%22x%22%3A713%2C%22y%22%3A284%2C%22width%22%3A39%2C%22height%22%3A21%2C%22text%22%3A%22.%20BG.%22%7D%2C%7B%22x%22%3A665%2C%22y%22%3A284%2C%22width%22%3A24%2C%22height%22%3A18%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A631%2C%22y%22%3A285%2C%22width%22%3A22%2C%22height%22%3A18%2C%22text%22%3A%2267%22%7D%2C%7B%22x%22%3A52%2C%22y%22%3A299%2C%22width%22%3A117%2C%22height%22%3A25%2C%22text%22%3A%22D.%20C%204%3B%22%7D%2C%7B%22x%22%3A418%2C%22y%22%3A311%2C%22width%22%3A117%2C%22height%22%3A20%2C%22text%22%3A%220X00B3FAFC%22%7D%2C%7B%22x%22%3A596%2C%22y%22%3A312%2C%22width%22%3A22%2C%22height%22%3A18%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A664%2C%22y%22%3A312%2C%22width%22%3A24%2C%22height%22%3A19%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A559%2C%22y%22%3A312%2C%22width%22%3A21%2C%22height%22%3A18%2C%22text%22%3A%2201%22%7D%2C%7B%22x%22%3A630%2C%22y%22%3A313%2C%22width%22%3A24%2C%22height%22%3A17%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A52%2C%22y%22%3A327%2C%22width%22%3A114%2C%22height%22%3A27%2C%22text%22%3A%22D._D%205%20%3B%22%7D%2C%7B%22x%22%3A665%2C%22y%22%3A339%2C%22width%22%3A25%2C%22height%22%3A20%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A713%2C%22y%22%3A339%2C%22width%22%3A38%2C%22height%22%3A20%2C%22text%22%3A%22%3FR%3F.%22%7D%2C%7B%22x%22%3A595%2C%22y%22%3A340%2C%22width%22%3A24%2C%22height%22%3A19%2C%22text%22%3A%2252%22%7D%2C%7B%22x%22%3A418%2C%22y%22%3A340%2C%22width%22%3A119%2C%22height%22%3A19%2C%22text%22%3A%220X00B3FB00%22%7D%2C%7B%22x%22%3A559%2C%22y%22%3A340%2C%22width%22%3A24%2C%22height%22%3A19%2C%22text%22%3A%22CO%22%7D%2C%7B%22x%22%3A629%2C%22y%22%3A341%2C%22width%22%3A25%2C%22height%22%3A18%2C%22text%22%3A%22E0%22%7D%2C%7B%22x%22%3A560%2C%22y%22%3A368%2C%22width%22%3A60%2C%22height%22%3A20%2C%22text%22%3A%222095%22%7D%2C%7B%22x%22%3A665%2C%22y%22%3A368%2C%22width%22%3A24%2C%22height%22%3A19%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A419%2C%22y%22%3A369%2C%22width%22%3A118%2C%22height%22%3A19%2C%22text%22%3A%220X00B3FB04%22%7D%2C%7B%22x%22%3A629%2C%22y%22%3A370%2C%22width%22%3A26%2C%22height%22%3A18%2C%22text%22%3A%22E0%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fbfbfa%22%2C%22id%22%3A%22u9719695e%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><strong><span data-lake-id="u1cd4244a" id="u1cd4244a">		引起冗余</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20A%5Cn%7B%5Cnpublic%3A%5Cn%5Ctint%20_a%3B%5Cn%7D%3B%5Cn%2F%2F%20class%20B%20%3A%20public%20A%5Cnclass%20B%20%3A%20virtual%20public%20A%5Cn%7B%5Cnpublic%3A%5Cn%5Ctint%20_b%3B%5Cn%7D%3B%5Cn%2F%2F%20class%20C%20%3A%20public%20A%5Cnclass%20C%20%3A%20virtual%20public%20A%5Cn%7B%5Cnpublic%3A%5Cn%5Ctint%20_c%3B%5Cn%7D%3B%5Cnclass%20D%20%3A%20public%20B%2C%20public%20C%5Cn%7B%5Cnpublic%3A%5Cn%5Ctint%20_d%3B%5Cn%7D%3B%5Cnint%20main()%5Cn%7B%5Cn%5CtD%20d%3B%5Cn%5Ctd.B%3A%3A_a%20%3D%201%3B%5Cn%5Ctd.C%3A%3A_a%20%3D%202%3B%5Cn%5Ctd._b%20%3D%203%3B%5Cn%5Ctd._c%20%3D%204%3B%5Cn%5Ctd._d%20%3D%205%3B%5Cn%5Ctreturn%200%3B%5Cn%7D%5Cn%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22ub2BW%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u4ef2077b" id="u4ef2077b"><strong><span data-lake-id="u7358ffd2" id="u7358ffd2">D</span></strong><span data-lake-id="u4b1ca0e9" id="u4b1ca0e9"> </span><strong><span data-lake-id="u1365619d" id="u1365619d">中的成员有：</span></strong></p><ul list="u099137d4"><li fid="udc7a0370" data-lake-id="ud1e2d33e" id="ud1e2d33e"><strong><span data-lake-id="u33d087cc" id="u33d087cc">1份共享的 A（4 字节）</span></strong></li><li fid="udc7a0370" data-lake-id="uc46927aa" id="uc46927aa"><strong><span data-lake-id="u74d5ab32" id="u74d5ab32">B（8 字节）【含 _b + vbp】</span></strong></li><li fid="udc7a0370" data-lake-id="u74a4510b" id="u74a4510b"><strong><span data-lake-id="u07f252ba" id="u07f252ba">C（8 字节）【含 _c + vbp】</span></strong></li><li fid="udc7a0370" data-lake-id="u2ffc48b9" id="u2ffc48b9"><strong><span data-lake-id="u981cd464" id="u981cd464">D 自己的 _d（4 字节）</span></strong></li></ul><p data-lake-id="u3e858076" id="u3e858076"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745493462489-28233b90-e36f-46af-99b5-1e71d963485a.png%22%2C%22taskId%22%3A%22u41544966-f3eb-40be-b3b9-b575bf8788d%22%2C%22clientId%22%3A%22u51129dbb-4d33-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A484.57142857142856%2C%22height%22%3A233%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A222770%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A848%2C%22originHeight%22%3A408%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22INT%20MA%20%E5%86%85%E5%AD%981%20%E5%9C%B0%E5%9D%80%3A0X005BFA80%207C%20CA%2084%2000%20%3F%3F.%200X005BFA80%20D%20D%3B%2003%2000%2000%2000%200X005BFA84%20%3C%3C%20END1%3B%20COUT%20%3C%20SIZEOF(D)%20%3F%3F%3F%2000%2084%2088%200X005BFA88%20CA%2004%2000-00%2000%200X005BFA8C%20D.B%3A%201%3B%20A%2005%2000%2000%2000%200X005BFA90%20%E4%BA%8C%20D.C%3A%20A%2000%2000%2000%2090%200X005BFA94%203%3A%20%3F%3F%3F%3F%200X005DFA98%20CC%20CC%20CC%20CC%20D.%20C%204%3B%20%3F%3F%5B.%2000%200X005BFA9C%205B%20FA%20EC%20DD%20D.%20D%205%20%3A%2029%2000%205F%200X005BFAA0%2084%20010000%2000%200X005BFAA4%200X005BFAA8%20CO%2052%2099%2000%20%3FR%3F.%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A15%2C%22y%22%3A19%2C%22width%22%3A35%2C%22height%22%3A17%2C%22text%22%3A%22INT%22%7D%2C%7B%22x%22%3A65%2C%22y%22%3A21%2C%22width%22%3A29%2C%22height%22%3A15%2C%22text%22%3A%22MA%22%7D%2C%7B%22x%22%3A413%2C%22y%22%3A28%2C%22width%22%3A33%2C%22height%22%3A12%2C%22text%22%3A%22%E5%86%85%E5%AD%981%22%7D%2C%7B%22x%22%3A415%2C%22y%22%3A50%2C%22width%22%3A112%2C%22height%22%3A14%2C%22text%22%3A%22%E5%9C%B0%E5%9D%80%3A0X005BFA80%22%7D%2C%7B%22x%22%3A555%2C%22y%22%3A74%2C%22width%22%3A128%2C%22height%22%3A20%2C%22text%22%3A%227C%20CA%2084%2000%22%7D%2C%7B%22x%22%3A717%2C%22y%22%3A75%2C%22width%22%3A30%2C%22height%22%3A21%2C%22text%22%3A%22%3F%3F.%22%7D%2C%7B%22x%22%3A412%2C%22y%22%3A75%2C%22width%22%3A118%2C%22height%22%3A19%2C%22text%22%3A%220X005BFA80%22%7D%2C%7B%22x%22%3A64%2C%22y%22%3A78%2C%22width%22%3A47%2C%22height%22%3A23%2C%22text%22%3A%22D%20D%3B%22%7D%2C%7B%22x%22%3A553%2C%22y%22%3A103%2C%22width%22%3A94%2C%22height%22%3A19%2C%22text%22%3A%2203%2000%2000%22%7D%2C%7B%22x%22%3A658%2C%22y%22%3A103%2C%22width%22%3A25%2C%22height%22%3A19%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A412%2C%22y%22%3A103%2C%22width%22%3A119%2C%22height%22%3A19%2C%22text%22%3A%220X005BFA84%22%7D%2C%7B%22x%22%3A296%2C%22y%22%3A109%2C%22width%22%3A101%2C%22height%22%3A23%2C%22text%22%3A%22%3C%3C%20END1%3B%22%7D%2C%7B%22x%22%3A65%2C%22y%22%3A107%2C%22width%22%3A217%2C%22height%22%3A26%2C%22text%22%3A%22COUT%20%3C%20SIZEOF(D)%22%7D%2C%7B%22x%22%3A706%2C%22y%22%3A132%2C%22width%22%3A37%2C%22height%22%3A19%2C%22text%22%3A%22%3F%3F%3F%22%7D%2C%7B%22x%22%3A659%2C%22y%22%3A132%2C%22width%22%3A24%2C%22height%22%3A19%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A624%2C%22y%22%3A132%2C%22width%22%3A23%2C%22height%22%3A18%2C%22text%22%3A%2284%22%7D%2C%7B%22x%22%3A554%2C%22y%22%3A132%2C%22width%22%3A22%2C%22height%22%3A19%2C%22text%22%3A%2288%22%7D%2C%7B%22x%22%3A413%2C%22y%22%3A132%2C%22width%22%3A116%2C%22height%22%3A20%2C%22text%22%3A%220X005BFA88%22%7D%2C%7B%22x%22%3A588%2C%22y%22%3A137%2C%22width%22%3A25%2C%22height%22%3A14%2C%22text%22%3A%22CA%22%7D%2C%7B%22x%22%3A553%2C%22y%22%3A158%2C%22width%22%3A94%2C%22height%22%3A21%2C%22text%22%3A%2204%2000-00%22%7D%2C%7B%22x%22%3A658%2C%22y%22%3A160%2C%22width%22%3A24%2C%22height%22%3A19%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A414%2C%22y%22%3A161%2C%22width%22%3A118%2C%22height%22%3A18%2C%22text%22%3A%220X005BFA8C%22%7D%2C%7B%22x%22%3A65%2C%22y%22%3A171%2C%22width%22%3A47%2C%22height%22%3A22%2C%22text%22%3A%22D.B%3A%22%7D%2C%7B%22x%22%3A191%2C%22y%22%3A173%2C%22width%22%3A24%2C%22height%22%3A21%2C%22text%22%3A%221%3B%22%7D%2C%7B%22x%22%3A141%2C%22y%22%3A177%2C%22width%22%3A15%2C%22height%22%3A15%2C%22text%22%3A%22A%22%7D%2C%7B%22x%22%3A552%2C%22y%22%3A188%2C%22width%22%3A96%2C%22height%22%3A19%2C%22text%22%3A%2205%2000%2000%22%7D%2C%7B%22x%22%3A659%2C%22y%22%3A189%2C%22width%22%3A25%2C%22height%22%3A19%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A413%2C%22y%22%3A188%2C%22width%22%3A117%2C%22height%22%3A19%2C%22text%22%3A%220X005BFA90%22%7D%2C%7B%22x%22%3A164%2C%22y%22%3A198%2C%22width%22%3A17%2C%22height%22%3A24%2C%22text%22%3A%22%E4%BA%8C%22%7D%2C%7B%22x%22%3A65%2C%22y%22%3A202%2C%22width%22%3A45%2C%22height%22%3A21%2C%22text%22%3A%22D.C%3A%22%7D%2C%7B%22x%22%3A138%2C%22y%22%3A208%2C%22width%22%3A16%2C%22height%22%3A18%2C%22text%22%3A%22A%22%7D%2C%7B%22x%22%3A659%2C%22y%22%3A216%2C%22width%22%3A24%2C%22height%22%3A19%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A623%2C%22y%22%3A217%2C%22width%22%3A25%2C%22height%22%3A19%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A588%2C%22y%22%3A217%2C%22width%22%3A25%2C%22height%22%3A18%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A554%2C%22y%22%3A217%2C%22width%22%3A22%2C%22height%22%3A18%2C%22text%22%3A%2290%22%7D%2C%7B%22x%22%3A411%2C%22y%22%3A216%2C%22width%22%3A119%2C%22height%22%3A21%2C%22text%22%3A%220X005BFA94%22%7D%2C%7B%22x%22%3A153%2C%22y%22%3A232%2C%22width%22%3A27%2C%22height%22%3A23%2C%22text%22%3A%223%3A%22%7D%2C%7B%22x%22%3A707%2C%22y%22%3A246%2C%22width%22%3A45%2C%22height%22%3A17%2C%22text%22%3A%22%3F%3F%3F%3F%22%7D%2C%7B%22x%22%3A411%2C%22y%22%3A247%2C%22width%22%3A118%2C%22height%22%3A19%2C%22text%22%3A%220X005DFA98%22%7D%2C%7B%22x%22%3A624%2C%22y%22%3A250%2C%22width%22%3A22%2C%22height%22%3A14%2C%22text%22%3A%22CC%22%7D%2C%7B%22x%22%3A661%2C%22y%22%3A250%2C%22width%22%3A21%2C%22height%22%3A14%2C%22text%22%3A%22CC%22%7D%2C%7B%22x%22%3A555%2C%22y%22%3A250%2C%22width%22%3A21%2C%22height%22%3A14%2C%22text%22%3A%22CC%22%7D%2C%7B%22x%22%3A590%2C%22y%22%3A251%2C%22width%22%3A23%2C%22height%22%3A13%2C%22text%22%3A%22CC%22%7D%2C%7B%22x%22%3A70%2C%22y%22%3A265%2C%22width%22%3A107%2C%22height%22%3A22%2C%22text%22%3A%22D.%20C%204%3B%22%7D%2C%7B%22x%22%3A708%2C%22y%22%3A272%2C%22width%22%3A40%2C%22height%22%3A20%2C%22text%22%3A%22%3F%3F%5B.%22%7D%2C%7B%22x%22%3A659%2C%22y%22%3A274%2C%22width%22%3A23%2C%22height%22%3A18%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A412%2C%22y%22%3A273%2C%22width%22%3A120%2C%22height%22%3A21%2C%22text%22%3A%220X005BFA9C%22%7D%2C%7B%22x%22%3A624%2C%22y%22%3A274%2C%22width%22%3A23%2C%22height%22%3A18%2C%22text%22%3A%225B%22%7D%2C%7B%22x%22%3A589%2C%22y%22%3A275%2C%22width%22%3A24%2C%22height%22%3A17%2C%22text%22%3A%22FA%22%7D%2C%7B%22x%22%3A554%2C%22y%22%3A278%2C%22width%22%3A23%2C%22height%22%3A14%2C%22text%22%3A%22EC%22%7D%2C%7B%22x%22%3A63%2C%22y%22%3A287%2C%22width%22%3A19%2C%22height%22%3A63%2C%22text%22%3A%22DD%22%7D%2C%7B%22x%22%3A71%2C%22y%22%3A294%2C%22width%22%3A102%2C%22height%22%3A24%2C%22text%22%3A%22D.%20D%205%20%3A%22%7D%2C%7B%22x%22%3A553%2C%22y%22%3A301%2C%22width%22%3A23%2C%22height%22%3A20%2C%22text%22%3A%2229%22%7D%2C%7B%22x%22%3A659%2C%22y%22%3A302%2C%22width%22%3A24%2C%22height%22%3A19%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A589%2C%22y%22%3A302%2C%22width%22%3A22%2C%22height%22%3A18%2C%22text%22%3A%225F%22%7D%2C%7B%22x%22%3A412%2C%22y%22%3A302%2C%22width%22%3A119%2C%22height%22%3A19%2C%22text%22%3A%220X005BFAA0%22%7D%2C%7B%22x%22%3A624%2C%22y%22%3A302%2C%22width%22%3A24%2C%22height%22%3A18%2C%22text%22%3A%2284%22%7D%2C%7B%22x%22%3A554%2C%22y%22%3A329%2C%22width%22%3A93%2C%22height%22%3A20%2C%22text%22%3A%22010000%22%7D%2C%7B%22x%22%3A658%2C%22y%22%3A330%2C%22width%22%3A24%2C%22height%22%3A19%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A412%2C%22y%22%3A330%2C%22width%22%3A118%2C%22height%22%3A19%2C%22text%22%3A%220X005BFAA4%22%7D%2C%7B%22x%22%3A412%2C%22y%22%3A358%2C%22width%22%3A120%2C%22height%22%3A20%2C%22text%22%3A%220X005BFAA8%22%7D%2C%7B%22x%22%3A551%2C%22y%22%3A358%2C%22width%22%3A133%2C%22height%22%3A22%2C%22text%22%3A%22CO%2052%2099%2000%22%7D%2C%7B%22x%22%3A707%2C%22y%22%3A359%2C%22width%22%3A38%2C%22height%22%3A19%2C%22text%22%3A%22%3FR%3F.%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fbfaf9%22%2C%22id%22%3A%22u605d003d%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><blockquote data-lake-id="u181bec92" id="u181bec92" class="lake-alert lake-alert-tips"><p data-lake-id="udb5fd67b" id="udb5fd67b"><span data-lake-id="u0306776b" id="u0306776b">补充：</span></p><p data-lake-id="u0871945c" id="u0871945c"><code data-lake-id="u770d5f14" id="u770d5f14"><span data-lake-id="u8fd50c1c" id="u8fd50c1c">D</span></code><span data-lake-id="u09c98b04" id="u09c98b04"> 会通过 </span><code data-lake-id="u80ab569e" id="u80ab569e"><span data-lake-id="ua0ebd9be" id="ua0ebd9be">B</span></code><span data-lake-id="u13094ff4" id="u13094ff4"> 和 </span><code data-lake-id="u9e293e03" id="u9e293e03"><span data-lake-id="ub2bac337" id="ub2bac337">C</span></code><span data-lake-id="u8a82e4f8" id="u8a82e4f8"> 分别继承 </span><code data-lake-id="u0a943824" id="u0a943824"><span data-lake-id="uea4db9f7" id="uea4db9f7">A</span></code><span data-lake-id="u2c3af396" id="u2c3af396">，但 </span><strong><span data-lake-id="ub26b0392" id="ub26b0392">虚继承保证 D 中只会有一份 A</span></strong><span data-lake-id="u9354cf03" id="u9354cf03">。<br /></span><span data-lake-id="uc3ff0430" id="uc3ff0430">问题是：</span><code data-lake-id="u4d39ebde" id="u4d39ebde"><span data-lake-id="u779b55be" id="u779b55be">B</span></code><span data-lake-id="u4826b504" id="u4826b504"> 和 </span><code data-lake-id="uff0647ad" id="uff0647ad"><span data-lake-id="uccdd9d70" id="uccdd9d70">C</span></code><span data-lake-id="ub5a6ddb7" id="ub5a6ddb7"> 怎么知道这份 </span><code data-lake-id="ua5e08318" id="ua5e08318"><span data-lake-id="u762e3467" id="u762e3467">A</span></code><span data-lake-id="uee7e72ad" id="uee7e72ad"> 在 </span><code data-lake-id="ube5ba2be" id="ube5ba2be"><span data-lake-id="u3346946e" id="u3346946e">D</span></code><span data-lake-id="u77f1205d" id="u77f1205d"> 对象的什么地方？</span></p><p data-lake-id="u2d3efab3" id="u2d3efab3"><span data-lake-id="u03d77d6f" id="u03d77d6f">于是就有了</span><strong><span data-lake-id="u8e87af09" id="u8e87af09">虚基类表</span></strong><span data-lake-id="u44aee66b" id="u44aee66b">和</span><strong><span data-lake-id="u914e6b3d" id="u914e6b3d">虚基类表指针</span></strong><span data-lake-id="u953b2260" id="u953b2260">的出现。</span></p><p data-lake-id="u5fbdfaa6" id="u5fbdfaa6"><span data-lake-id="udc800900" id="udc800900">​</span><br></p><p data-lake-id="u43412ea6" id="u43412ea6"><code data-lake-id="u667ee458" id="u667ee458"><span data-lake-id="udde9aadd" id="udde9aadd">sizeof(D)</span></code><span data-lake-id="u77dcec73" id="u77dcec73"> 大于 </span><code data-lake-id="ued31dfe9" id="ued31dfe9"><span data-lake-id="u88df4cd3" id="u88df4cd3">sizeof(B) + sizeof(C) + sizeof(A)</span></code><span data-lake-id="u41d842e1" id="u41d842e1">，因为它还包含了两个 vbp（一个来自 B，一个来自 C）；  </span></p><p data-lake-id="u3043027e" id="u3043027e"><span data-lake-id="udb00e613" id="udb00e613">这就意味着 </span><strong><span data-lake-id="u23bce43f" id="u23bce43f">A 的子对象在 D 中只保留一份</span></strong><span data-lake-id="u71727e25" id="u71727e25">，解决了菱形继承中“重复 A”的问题。</span></p><p data-lake-id="u88c51bdb" id="u88c51bdb"><span data-lake-id="u43ce1f37" id="u43ce1f37">但是虚继承是通过**虚基表指针（vbp）+ 虚基表（vbt）**来实现的，它 </span><strong><span data-lake-id="ub0dd4d63" id="ub0dd4d63">必须记录“虚基类 A 在 D 中的偏移”</span></strong><span data-lake-id="ua727cd21" id="ua727cd21">。</span></p><p data-lake-id="u8908fb68" id="u8908fb68"><span data-lake-id="uc6b0b342" id="uc6b0b342">​</span><br></p><p data-lake-id="u3353d4c1" id="u3353d4c1"><span data-lake-id="u627e3550" id="u627e3550">访问虚基类（如 </span><code data-lake-id="u5f2482ac" id="u5f2482ac"><span data-lake-id="uacc605c3" id="uacc605c3">A::a</span></code><span data-lake-id="ubadf1837" id="ubadf1837">）的过程如下：</span></p><ol list="u1a967fe4"><li fid="u7f378cd5" data-lake-id="ub3ed2f10" id="ub3ed2f10"><span data-lake-id="u4e81e851" id="u4e81e851">从对象（如 </span><code data-lake-id="u9b7ec251" id="u9b7ec251"><span data-lake-id="u017610ef" id="u017610ef">B</span></code><span data-lake-id="u2f5d8115" id="u2f5d8115">）中先拿到它的 </span><code data-lake-id="u6d80cdaa" id="u6d80cdaa"><span data-lake-id="u2f0488b2" id="u2f0488b2">vbp</span></code><span data-lake-id="ucc8c2dfe" id="ucc8c2dfe">；</span></li><li fid="u7f378cd5" data-lake-id="u67c0578e" id="u67c0578e"><code data-lake-id="uf2b7e815" id="uf2b7e815"><span data-lake-id="u4f2977d4" id="u4f2977d4">vbp</span></code><span data-lake-id="ue894348c" id="ue894348c"> 指向一张虚基类表（</span><code data-lake-id="u865f3244" id="u865f3244"><span data-lake-id="u95328fc1" id="u95328fc1">vbt</span></code><span data-lake-id="u38bb6698" id="u38bb6698">）；</span></li><li fid="u7f378cd5" data-lake-id="ue378eb20" id="ue378eb20"><span data-lake-id="u12d82616" id="u12d82616">虚基类表中有一条记录说明了虚基类 </span><code data-lake-id="udfaf7928" id="udfaf7928"><span data-lake-id="ubb97b079" id="ubb97b079">A</span></code><span data-lake-id="ud547d5f5" id="ud547d5f5"> 距离当前对象起始地址的</span><strong><span data-lake-id="ub473e2cc" id="ub473e2cc">偏移量</span></strong><span data-lake-id="u26bd8e20" id="u26bd8e20">；</span></li><li fid="u7f378cd5" data-lake-id="u9d835094" id="u9d835094"><span data-lake-id="u34a42841" id="u34a42841">通过这个偏移量跳转找到 </span><code data-lake-id="ud80cf71d" id="ud80cf71d"><span data-lake-id="u573184d3" id="u573184d3">A</span></code><span data-lake-id="u135b3204" id="u135b3204"> 的成员；</span></li><li fid="u7f378cd5" data-lake-id="u69223118" id="u69223118"><span data-lake-id="u9752f985" id="u9752f985">完成访问。</span></li></ol><p data-lake-id="ud6e4c5cb" id="ud6e4c5cb"><span data-lake-id="ubd3c7a35" id="ubd3c7a35">这就是为什么虚继承会</span><strong><span data-lake-id="ud11e75e6" id="ud11e75e6">增加访问开销</span></strong><span data-lake-id="uf56a48b0" id="uf56a48b0">：</span></p><p data-lake-id="udd0ac9ff" id="udd0ac9ff"><span data-lake-id="u1a042317" id="u1a042317">多了一次表查询（查偏移）和地址偏移。</span></p></blockquote><p data-lake-id="ue8353c82" id="ue8353c82"><br></p><p data-lake-id="ub51c3a61" id="ub51c3a61"><span data-lake-id="u049cd5ed" id="u049cd5ed" class="lake-fontsize-12" style="color: rgb(119,119,119)">下图是菱形继承的内存对象成员模型：这里可以看到数据冗余</span></p><p data-lake-id="ua72ad590" id="ua72ad590"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745203694979-244044b6-e0e4-465e-9e1b-73b7f688a85c.png%22%2C%22taskId%22%3A%22u481b11cd-d608-4240-9781-933f59d28b9%22%2C%22clientId%22%3A%22u5d6e0394-9456-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A483.42857142857144%2C%22height%22%3A225%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1332533%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A846%2C%22originHeight%22%3A393%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E5%86%85%E5%AD%981%20D%20D%3A%20%E5%9C%B0%E5%9D%80%3A%20OX00EFFB40%20D.B%3AA%2001%2000%2000%2000A...%200X00EFFB40%20D.C%3AA%202%3A0%2000EFFB44000000000000000%2003%2000%2000%2000%20D._B3%3B%20-02%2000%2000%2000A...%200X00EFFB48%20D.-C4%3B%2004%2000%2000%2000%2010XO0EFFB4C%20D._D%205%3B%200X00EFFB50-D05%2000%2000%2000%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A304%2C%22y%22%3A64%2C%22width%22%3A40%2C%22height%22%3A17%2C%22text%22%3A%22%E5%86%85%E5%AD%981%22%7D%2C%7B%22x%22%3A85%2C%22y%22%3A79%2C%22width%22%3A62%2C%22height%22%3A27%2C%22text%22%3A%22D%20D%3A%22%7D%2C%7B%22x%22%3A308%2C%22y%22%3A94%2C%22width%22%3A39%2C%22height%22%3A18%2C%22text%22%3A%22%E5%9C%B0%E5%9D%80%3A%22%7D%2C%7B%22x%22%3A359%2C%22y%22%3A95%2C%22width%22%3A94%2C%22height%22%3A15%2C%22text%22%3A%22OX00EFFB40%22%7D%2C%7B%22x%22%3A88%2C%22y%22%3A119%2C%22width%22%3A139%2C%22height%22%3A24%2C%22text%22%3A%22D.B%3AA%22%7D%2C%7B%22x%22%3A487%2C%22y%22%3A124%2C%22width%22%3A269%2C%22height%22%3A29%2C%22text%22%3A%2201%2000%2000%2000A...%22%7D%2C%7B%22x%22%3A298%2C%22y%22%3A124%2C%22width%22%3A164%2C%22height%22%3A29%2C%22text%22%3A%220X00EFFB40%22%7D%2C%7B%22x%22%3A86%2C%22y%22%3A156%2C%22width%22%3A666%2C%22height%22%3A39%2C%22text%22%3A%22D.C%3AA%202%3A0%2000EFFB44000000000000000%22%7D%2C%7B%22x%22%3A491%2C%22y%22%3A162%2C%22width%22%3A32%2C%22height%22%3A29%2C%22text%22%3A%2203%22%7D%2C%7B%22x%22%3A539%2C%22y%22%3A164%2C%22width%22%3A80%2C%22height%22%3A25%2C%22text%22%3A%2200%2000%22%7D%2C%7B%22x%22%3A634%2C%22y%22%3A165%2C%22width%22%3A31%2C%22height%22%3A24%2C%22text%22%3A%2200%22%7D%2C%7B%22x%22%3A84%2C%22y%22%3A191%2C%22width%22%3A144%2C%22height%22%3A33%2C%22text%22%3A%22D._B3%3B%22%7D%2C%7B%22x%22%3A492%2C%22y%22%3A201%2C%22width%22%3A263%2C%22height%22%3A29%2C%22text%22%3A%22-02%2000%2000%2000A...%22%7D%2C%7B%22x%22%3A302%2C%22y%22%3A202%2C%22width%22%3A162%2C%22height%22%3A27%2C%22text%22%3A%220X00EFFB48%22%7D%2C%7B%22x%22%3A84%2C%22y%22%3A232%2C%22width%22%3A143%2C%22height%22%3A30%2C%22text%22%3A%22D.-C4%3B%22%7D%2C%7B%22x%22%3A492%2C%22y%22%3A239%2C%22width%22%3A173%2C%22height%22%3A26%2C%22text%22%3A%2204%2000%2000%2000%22%7D%2C%7B%22x%22%3A302%2C%22y%22%3A239%2C%22width%22%3A159%2C%22height%22%3A27%2C%22text%22%3A%2210XO0EFFB4C%22%7D%2C%7B%22x%22%3A85%2C%22y%22%3A266%2C%22width%22%3A151%2C%22height%22%3A35%2C%22text%22%3A%22D._D%205%3B%22%7D%2C%7B%22x%22%3A299%2C%22y%22%3A276%2C%22width%22%3A321%2C%22height%22%3A27%2C%22text%22%3A%220X00EFFB50-D05%2000%2000%22%7D%2C%7B%22x%22%3A633%2C%22y%22%3A278%2C%22width%22%3A31%2C%22height%22%3A24%2C%22text%22%3A%2200%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23edede9%22%2C%22id%22%3A%22ud58f4d1d%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="ufafc1cc5" id="ufafc1cc5"><span data-lake-id="ub7c641b2" id="ub7c641b2" class="lake-fontsize-12" style="color: rgb(119,119,119)">下图是菱形虚拟继承的内存对象成员模型：这里可以分析出D对象中将A放到的了对象组成的最下面，这个A   同时属于B和C，那么B和C如何去找到公共的A呢？</span><strong><span data-lake-id="u9c47518b" id="u9c47518b" class="lake-fontsize-12" style="color: rgb(119,119,119)">这里是通过了B和C的两个指针，指向的一张表。这两个指针叫虚基表指针，这两个表叫虚基表。虚基表中存的偏移量。通过偏移量可以找到下面的A</span></strong><span data-lake-id="udd1db654" id="udd1db654" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="u68b369e3" id="u68b369e3"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745203715448-2687fb49-7562-46de-9206-c2b12d1be67c.png%22%2C%22taskId%22%3A%22ubc5699a6-c1da-4a85-883b-f73189c03d9%22%2C%22clientId%22%3A%22u5d6e0394-9456-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.4285714285714%2C%22height%22%3A282%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A2146019%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A494%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E5%86%85%E5%AD%982%20DX00BC5F50%20%E5%9C%B0%E5%9D%80%3A%20%E5%AF%B9%3A%2000%2000%20%2000%20%2000%200X00BC5F50%2014%2000%2000%2000%200X00BC5F54%20%E5%86%85%E5%AD%981%20D%20D%3A%20%E5%9C%B0%E5%9D%80%3A0XD05EF75C%20D.B%3AA%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E5%86%85%E5%AD%983%200X005EF75C%2050%205F%20BC%2000%20D.C%3A%3A%202%3A%20B%20%E5%9C%B0%E5%9D%80%3A0X00BC5F5C%200X005EF760%2003%2000%20%2000%2000%20DB3%3A%200X00BC5F5C%2000%2000%20%2000%20%2000%205C%205F%20BC%2000%200X005EF764%20D_C4%3B%200X00BC5F60%20OC%20%2000%2000%2000%20104%2000%2000%2000%200X005BF768%20D.5%205%3A%200X005EF76CD05%2000%2000%2000%200X005EF770A02000000%200X005EF774%20%3F2%3F%3F%20CCCCCCCC%20%3F%3F.%200X005EF778%20C8%20F7%205E%2000%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A198%2C%22y%22%3A29%2C%22width%22%3A41%2C%22height%22%3A14%2C%22text%22%3A%22%E5%86%85%E5%AD%982%22%7D%2C%7B%22x%22%3A247%2C%22y%22%3A55%2C%22width%22%3A83%2C%22height%22%3A15%2C%22text%22%3A%22DX00BC5F50%22%7D%2C%7B%22x%22%3A203%2C%22y%22%3A55%2C%22width%22%3A35%2C%22height%22%3A16%2C%22text%22%3A%22%E5%9C%B0%E5%9D%80%3A%22%7D%2C%7B%22x%22%3A921%2C%22y%22%3A57%2C%22width%22%3A15%2C%22height%22%3A14%2C%22text%22%3A%22%E5%AF%B9%3A%22%7D%2C%7B%22x%22%3A359%2C%22y%22%3A81%2C%22width%22%3A151%2C%22height%22%3A27%2C%22text%22%3A%2200%2000%20%2000%20%2000%22%7D%2C%7B%22x%22%3A198%2C%22y%22%3A81%2C%22width%22%3A138%2C%22height%22%3A27%2C%22text%22%3A%220X00BC5F50%22%7D%2C%7B%22x%22%3A361%2C%22y%22%3A114%2C%22width%22%3A150%2C%22height%22%3A24%2C%22text%22%3A%2214%2000%2000%2000%22%7D%2C%7B%22x%22%3A198%2C%22y%22%3A114%2C%22width%22%3A137%2C%22height%22%3A25%2C%22text%22%3A%220X00BC5F54%22%7D%2C%7B%22x%22%3A200%2C%22y%22%3A166%2C%22width%22%3A39%2C%22height%22%3A15%2C%22text%22%3A%22%E5%86%85%E5%AD%981%22%7D%2C%7B%22x%22%3A24%2C%22y%22%3A168%2C%22width%22%3A53%2C%22height%22%3A23%2C%22text%22%3A%22D%20D%3A%22%7D%2C%7B%22x%22%3A204%2C%22y%22%3A191%2C%22width%22%3A129%2C%22height%22%3A18%2C%22text%22%3A%22%E5%9C%B0%E5%9D%80%3A0XD05EF75C%22%7D%2C%7B%22x%22%3A24%2C%22y%22%3A201%2C%22width%22%3A162%2C%22height%22%3A22%2C%22text%22%3A%22D.B%3AA%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%7D%2C%7B%22x%22%3A643%2C%22y%22%3A217%2C%22width%22%3A42%2C%22height%22%3A15%2C%22text%22%3A%22%E5%86%85%E5%AD%983%22%7D%2C%7B%22x%22%3A201%2C%22y%22%3A219%2C%22width%22%3A138%2C%22height%22%3A26%2C%22text%22%3A%220X005EF75C%22%7D%2C%7B%22x%22%3A361%2C%22y%22%3A219%2C%22width%22%3A151%2C%22height%22%3A25%2C%22text%22%3A%2250%205F%20BC%2000%22%7D%2C%7B%22x%22%3A25%2C%22y%22%3A232%2C%22width%22%3A162%2C%22height%22%3A24%2C%22text%22%3A%22D.C%3A%3A%202%3A%22%7D%2C%7B%22x%22%3A340%2C%22y%22%3A235%2C%22width%22%3A16%2C%22height%22%3A26%2C%22text%22%3A%22B%22%7D%2C%7B%22x%22%3A644%2C%22y%22%3A241%2C%22width%22%3A131%2C%22height%22%3A21%2C%22text%22%3A%22%E5%9C%B0%E5%9D%80%3A0X00BC5F5C%22%7D%2C%7B%22x%22%3A199%2C%22y%22%3A252%2C%22width%22%3A138%2C%22height%22%3A24%2C%22text%22%3A%220X005EF760%22%7D%2C%7B%22x%22%3A362%2C%22y%22%3A252%2C%22width%22%3A150%2C%22height%22%3A24%2C%22text%22%3A%2203%2000%20%2000%2000%22%7D%2C%7B%22x%22%3A25%2C%22y%22%3A264%2C%22width%22%3A121%2C%22height%22%3A25%2C%22text%22%3A%22DB3%3A%22%7D%2C%7B%22x%22%3A640%2C%22y%22%3A265%2C%22width%22%3A141%2C%22height%22%3A30%2C%22text%22%3A%220X00BC5F5C%22%7D%2C%7B%22x%22%3A804%2C%22y%22%3A269%2C%22width%22%3A155%2C%22height%22%3A24%2C%22text%22%3A%2200%2000%20%2000%20%2000%22%7D%2C%7B%22x%22%3A364%2C%22y%22%3A283%2C%22width%22%3A149%2C%22height%22%3A27%2C%22text%22%3A%225C%205F%20BC%2000%22%7D%2C%7B%22x%22%3A200%2C%22y%22%3A285%2C%22width%22%3A140%2C%22height%22%3A25%2C%22text%22%3A%220X005EF764%22%7D%2C%7B%22x%22%3A24%2C%22y%22%3A298%2C%22width%22%3A122%2C%22height%22%3A25%2C%22text%22%3A%22D_C4%3B%22%7D%2C%7B%22x%22%3A640%2C%22y%22%3A300%2C%22width%22%3A141%2C%22height%22%3A28%2C%22text%22%3A%220X00BC5F60%22%7D%2C%7B%22x%22%3A801%2C%22y%22%3A302%2C%22width%22%3A156%2C%22height%22%3A24%2C%22text%22%3A%22OC%20%2000%2000%2000%22%7D%2C%7B%22x%22%3A363%2C%22y%22%3A316%2C%22width%22%3A149%2C%22height%22%3A24%2C%22text%22%3A%22104%2000%2000%2000%22%7D%2C%7B%22x%22%3A200%2C%22y%22%3A316%2C%22width%22%3A139%2C%22height%22%3A25%2C%22text%22%3A%220X005BF768%22%7D%2C%7B%22x%22%3A25%2C%22y%22%3A330%2C%22width%22%3A121%2C%22height%22%3A25%2C%22text%22%3A%22D.5%205%3A%22%7D%2C%7B%22x%22%3A200%2C%22y%22%3A349%2C%22width%22%3A313%2C%22height%22%3A27%2C%22text%22%3A%220X005EF76CD05%2000%2000%2000%22%7D%2C%7B%22x%22%3A200%2C%22y%22%3A382%2C%22width%22%3A313%2C%22height%22%3A26%2C%22text%22%3A%220X005EF770A02000000%22%7D%2C%7B%22x%22%3A201%2C%22y%22%3A416%2C%22width%22%3A137%2C%22height%22%3A22%2C%22text%22%3A%220X005EF774%22%7D%2C%7B%22x%22%3A539%2C%22y%22%3A417%2C%22width%22%3A54%2C%22height%22%3A20%2C%22text%22%3A%22%3F2%3F%3F%22%7D%2C%7B%22x%22%3A362%2C%22y%22%3A419%2C%22width%22%3A150%2C%22height%22%3A19%2C%22text%22%3A%22CCCCCCCC%22%7D%2C%7B%22x%22%3A540%2C%22y%22%3A446%2C%22width%22%3A44%2C%22height%22%3A26%2C%22text%22%3A%22%3F%3F.%22%7D%2C%7B%22x%22%3A201%2C%22y%22%3A447%2C%22width%22%3A136%2C%22height%22%3A22%2C%22text%22%3A%220X005EF778%22%7D%2C%7B%22x%22%3A362%2C%22y%22%3A448%2C%22width%22%3A149%2C%22height%22%3A23%2C%22text%22%3A%22C8%20F7%205E%2000%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23edeeea%22%2C%22id%22%3A%22u1bc54d6b%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22example%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20%E6%9C%89%E7%AB%A5%E9%9E%8B%E4%BC%9A%E6%9C%89%E7%96%91%E9%97%AE%E4%B8%BA%E4%BB%80%E4%B9%88D%E4%B8%ADB%E5%92%8CC%E9%83%A8%E5%88%86%E8%A6%81%E5%8E%BB%E6%89%BE%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84A%EF%BC%9F%E9%82%A3%E4%B9%88%E5%A4%A7%E5%AE%B6%E7%9C%8B%E7%9C%8B%E5%BD%93%E4%B8%8B%E9%9D%A2%E7%9A%84%E8%B5%8B%E5%80%BC%E5%8F%91%E7%94%9F%E6%97%B6%EF%BC%8C%20%20d%E6%98%AF%E4%B8%8D%E6%98%AF%20%E8%A6%81%E5%8E%BB%E6%89%BE%E5%87%BAB%2FC%E6%88%90%E5%91%98%E4%B8%AD%E7%9A%84A%E6%89%8D%E8%83%BD%E8%B5%8B%E5%80%BC%E8%BF%87%E5%8E%BB%EF%BC%9F%5CnD%20d%3B%5CnB%20b%20%3D%20d%3B%5CnC%20c%20%3D%20d%3B%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22example%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22WDSdr%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uc2962b7c" id="uc2962b7c"><span data-lake-id="u4a079df3" id="u4a079df3" class="lake-fontsize-12" style="color: rgb(119,119,119)">下面是上面的Person关系菱形虚拟继承的原理解释：</span></p><p data-lake-id="u59f6fb61" id="u59f6fb61"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745203745535-b5079ce3-ec29-40a6-9ce2-5f5dbde190c5.png%22%2C%22taskId%22%3A%22u09678e1b-79b0-4469-a75a-e0f47838ab5%22%2C%22clientId%22%3A%22u5d6e0394-9456-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A493.7142857142857%2C%22height%22%3A377%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A2285385%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A864%2C%22originHeight%22%3A660%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22PERSON%E5%81%8F%E7%A7%BB%E9%87%8F%E5%9C%B0%E5%9D%80%20STUDENT%20INT%20_NUM%3B%20PERSON%E5%81%8F%E7%A7%BB%E9%87%8F%E5%80%BC%20PERSON%E5%81%8F%E7%A7%BB%E9%87%8F%E5%9C%B0%E5%9D%80%20TEACHER%201D%20INT%20PERSON%E5%81%8F%E7%A7%BB%E9%87%8F%E5%80%BC%20MAJORCOURSE%20STRING%20STRING%20NAME%20PERSON%20ASSISTANT%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A366%2C%22y%22%3A121%2C%22width%22%3A187%2C%22height%22%3A25%2C%22text%22%3A%22PERSON%E5%81%8F%E7%A7%BB%E9%87%8F%E5%9C%B0%E5%9D%80%22%7D%2C%7B%22x%22%3A724%2C%22y%22%3A162%2C%22width%22%3A76%2C%22height%22%3A18%2C%22text%22%3A%22STUDENT%22%7D%2C%7B%22x%22%3A407%2C%22y%22%3A189%2C%22width%22%3A109%2C%22height%22%3A19%2C%22text%22%3A%22INT%20_NUM%3B%22%7D%2C%7B%22x%22%3A33%2C%22y%22%3A242%2C%22width%22%3A163%2C%22height%22%3A23%2C%22text%22%3A%22PERSON%E5%81%8F%E7%A7%BB%E9%87%8F%E5%80%BC%22%7D%2C%7B%22x%22%3A367%2C%22y%22%3A248%2C%22width%22%3A187%2C%22height%22%3A23%2C%22text%22%3A%22PERSON%E5%81%8F%E7%A7%BB%E9%87%8F%E5%9C%B0%E5%9D%80%22%7D%2C%7B%22x%22%3A727%2C%22y%22%3A290%2C%22width%22%3A74%2C%22height%22%3A17%2C%22text%22%3A%22TEACHER%22%7D%2C%7B%22x%22%3A471%2C%22y%22%3A315%2C%22width%22%3A31%2C%22height%22%3A18%2C%22text%22%3A%221D%22%7D%2C%7B%22x%22%3A413%2C%22y%22%3A316%2C%22width%22%3A36%2C%22height%22%3A17%2C%22text%22%3A%22INT%22%7D%2C%7B%22x%22%3A31%2C%22y%22%3A390%2C%22width%22%3A166%2C%22height%22%3A25%2C%22text%22%3A%22PERSON%E5%81%8F%E7%A7%BB%E9%87%8F%E5%80%BC%22%7D%2C%7B%22x%22%3A433%2C%22y%22%3A400%2C%22width%22%3A144%2C%22height%22%3A17%2C%22text%22%3A%22MAJORCOURSE%22%7D%2C%7B%22x%22%3A337%2C%22y%22%3A400%2C%22width%22%3A75%2C%22height%22%3A17%2C%22text%22%3A%22STRING%22%7D%2C%7B%22x%22%3A381%2C%22y%22%3A466%2C%22width%22%3A77%2C%22height%22%3A17%2C%22text%22%3A%22STRING%22%7D%2C%7B%22x%22%3A477%2C%22y%22%3A468%2C%22width%22%3A58%2C%22height%22%3A14%2C%22text%22%3A%22NAME%22%7D%2C%7B%22x%22%3A726%2C%22y%22%3A488%2C%22width%22%3A76%2C%22height%22%3A16%2C%22text%22%3A%22PERSON%22%7D%2C%7B%22x%22%3A710%2C%22y%22%3A594%2C%22width%22%3A113%2C%22height%22%3A18%2C%22text%22%3A%22ASSISTANT%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fbf0e3%22%2C%22id%22%3A%22uc7dd201d%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="ue4f09528" id="ue4f09528"><span data-lake-id="u43ac9db3" id="u43ac9db3" class="lake-fontsize-12" style="color: rgb(119,119,119)">面试题：</span></p><p data-lake-id="ud482c5a4" id="ud482c5a4"><strong><span data-lake-id="u7ccc2e9c" id="u7ccc2e9c" class="lake-fontsize-12" style="color: rgb(119,119,119)">C++的缺陷有哪些？</span></strong></p><p data-lake-id="u6db42663" id="u6db42663"><span data-lake-id="u17992eef" id="u17992eef" class="lake-fontsize-12" style="color: rgb(119,119,119)">多继承就是一个问题 -&gt;菱形继承  -&gt;虚继承  -&gt;底层结构的对象模型非常复杂，且有一定效率损失</span></p><p data-lake-id="u5661e302" id="u5661e302"><span data-lake-id="u29f247bf" id="u29f247bf" class="lake-fontsize-12" style="color: rgb(119,119,119)">什么是菱形继承？菱形继承问题是什么？如何解决？-&gt;虚继承  -&gt;解决原理是什么？</span></p><p data-lake-id="ub88d7e34" id="ub88d7e34"><span data-lake-id="u6c45741d" id="u6c45741d" class="lake-fontsize-12" style="color: rgb(119,119,119)">内存对象模型（对象在内存中是怎样存的？）</span></p><h3 data-lake-id="xAzjW" id="xAzjW" collapsed="true"><span data-lake-id="u3f909de0" id="u3f909de0" style="color: rgb(51,51,51)">8.继承的总结和反思</span></h3><blockquote data-lake-id="u27e04dcc" id="u27e04dcc"><ul list="u47c9c49e"><li fid="ub3117296" data-lake-id="uff00134e" id="uff00134e"><span data-lake-id="u921eef49" id="u921eef49" class="lake-fontsize-12" style="color: rgb(119,119,119)">public继承是一种</span><strong><span data-lake-id="u0c94bb73" id="u0c94bb73" class="lake-fontsize-12" style="color: rgb(119,119,119)">is-a</span></strong><span data-lake-id="uc55a541b" id="uc55a541b" class="lake-fontsize-12" style="color: rgb(119,119,119)">的关系。也就是说每个派生类对象都是一个基类对象。 </span></li><li fid="ub3117296" data-lake-id="u6ae48854" id="u6ae48854"><span data-lake-id="u5926c287" id="u5926c287" class="lake-fontsize-12" style="color: rgb(119,119,119)">组合是一种</span><strong><span data-lake-id="u872d16bb" id="u872d16bb" class="lake-fontsize-12" style="color: rgb(119,119,119)">has-a</span></strong><span data-lake-id="u955cdd7f" id="u955cdd7f" class="lake-fontsize-12" style="color: rgb(119,119,119)">的关系。假设</span><span data-lake-id="u84991ce4" id="u84991ce4" class="lake-fontsize-12" style="color: rgb(119,119,119)">B</span><span data-lake-id="u39f07298" id="u39f07298" class="lake-fontsize-12" style="color: rgb(119,119,119)">组合了</span><span data-lake-id="ub7e7d12b" id="ub7e7d12b" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="u58ebfa75" id="u58ebfa75" class="lake-fontsize-12" style="color: rgb(119,119,119)">，每个</span><span data-lake-id="ud1db6350" id="ud1db6350" class="lake-fontsize-12" style="color: rgb(119,119,119)">B</span><span data-lake-id="u012c1bfd" id="u012c1bfd" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象中都有一个</span><span data-lake-id="udfb6e4eb" id="udfb6e4eb" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="u85a30bb1" id="u85a30bb1" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象。 </span></li><li fid="ub3117296" data-lake-id="u0ac1b38d" id="u0ac1b38d"><span data-lake-id="ua2f80ff2" id="ua2f80ff2" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">优先使用对象组合，而不是类继承 。 </span></li><li fid="ub3117296" data-lake-id="u7e60f053" id="u7e60f053"><span data-lake-id="u8805316d" id="u8805316d" class="lake-fontsize-12" style="color: rgb(119,119,119)">继承允许你根据基类的实现来定义派生类的实现。这种通过生成派生类的复用通常被称为白箱复用(white-box reuse)。术语“白箱”是相对可视性而言：在继承方式中，基类的内部细节对子类可见 。继承一定程度破坏了基类的封装，基类的改变，对派生类有很大的影响。派生类和基类间的依赖关系很强，耦合度高。 </span></li><li fid="ub3117296" data-lake-id="uc8ea3d6a" id="uc8ea3d6a"><span data-lake-id="u5227adaf" id="u5227adaf" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象组合是类继承之外的另一种复用选择。新的更复杂的功能可以通过组装或组合对象来获得。对象组合要求被组合的对象具有良好定义的接口。这种复用风格被称为黑箱复用(black-box reuse)， 因为对象的内部细节是不可见的。对象只以“黑箱”的形式出现。 组合类之间没有很强的依赖关系，耦合度低。优先使用对象组合有助于你保持每个类被封装。 </span></li><li fid="ub3117296" data-lake-id="u4b25de79" id="u4b25de79"><span data-lake-id="ub20e4ce7" id="ub20e4ce7" class="lake-fontsize-12" style="color: rgb(119,119,119)">实际尽量多去用组合。组合的耦合度低，代码维护性好。不过继承也有用武之地的，有些关系就适合继承那就用继承，另外要实现多态，也必须要继承。类之间的关系可以用继承，可以用组合，就用组合。</span></li></ul></blockquote><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20A%7B%7D%3B%5Cnclass%20B%20%3A%20public%20A%20%20%20%20%20%20A%E5%92%8CB%E5%85%B3%E7%B3%BB%E5%B0%B1%E6%98%AF%E7%BB%A7%E6%89%BF%5Cn%7B%7D%3B%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%5Ct%E9%83%BD%E5%AE%8C%E6%88%90%E7%B1%BB%E5%B1%82%E6%AC%A1%E7%9A%84%E5%A4%8D%E7%94%A8%5Cn%5Cnclass%20C%7B%7D%5Ct%5Ct%5Ct%5CtC%E5%92%8CD%E7%9A%84%E5%85%B3%E7%B3%BB%E5%B0%B1%E6%98%AF%E7%BB%84%E5%90%88%5Cnclass%20D%5Cn%7B%5Cn%20%20%20%20C%20c%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22OP7o8%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20Car%E5%92%8CBMW%20Car%E5%92%8CBenz%E6%9E%84%E6%88%90is-a%E7%9A%84%E5%85%B3%E7%B3%BB%5Cnclass%20Car%20%7B%5Cnprotected%3A%5Cn%5Ctstring%20_colour%20%3D%20%5C%22%E7%99%BD%E8%89%B2%5C%22%3B%20%2F%2F%20%E9%A2%9C%E8%89%B2%5Cn%5Ctstring%20_num%20%3D%20%5C%22%E9%99%95ABIT00%5C%22%3B%20%2F%2F%20%E8%BD%A6%E7%89%8C%E5%8F%B7%5Cn%7D%3B%5Cn%5Cnclass%20BMW%20%3A%20public%20Car%20%7B%5Cnpublic%3A%5Cn%5Ctvoid%20Drive()%20%7B%20cout%20%3C%3C%20%5C%22%E5%A5%BD%E5%BC%80-%E6%93%8D%E6%8E%A7%5C%22%20%3C%3C%20endl%3B%20%7D%5Cn%7D%3B%5Cn%5Cnclass%20Benz%20%3A%20public%20Car%20%7B%5Cnpublic%3A%5Cn%5Ctvoid%20Drive()%20%7B%20cout%20%3C%3C%20%5C%22%E5%A5%BD%E5%9D%90-%E8%88%92%E9%80%82%5C%22%20%3C%3C%20endl%3B%20%7D%5Cn%7D%3B%5Cn%5Cn%2F%2F%20Tire%E5%92%8CCar%E6%9E%84%E6%88%90has-a%E7%9A%84%E5%85%B3%E7%B3%BB%5Cn%5Cnclass%20Tire%20%7B%5Cnprotected%3A%5Cn%5Ctstring%20_brand%20%3D%20%5C%22Michelin%5C%22%3B%20%2F%2F%20%E5%93%81%E7%89%8C%5Cn%5Ctsize_t%20_size%20%3D%2017%3B%20%2F%2F%20%E5%B0%BA%E5%AF%B8%5Cn%5Cn%7D%3B%5Cn%5Cnclass%20Car%20%7B%5Cnprotected%3A%5Cn%5Ctstring%20_colour%20%3D%20%5C%22%E7%99%BD%E8%89%B2%5C%22%3B%20%2F%2F%20%E9%A2%9C%E8%89%B2%5Cn%5Ctstring%20_num%20%3D%20%5C%22%E9%99%95ABIT00%5C%22%3B%20%2F%2F%20%E8%BD%A6%E7%89%8C%E5%8F%B7%5Cn%5CtTire%20_t%3B%20%2F%2F%20%E8%BD%AE%E8%83%8E%5Cn%7D%3B%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22sVHfm%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u96e68e92" id="u96e68e92"><span data-lake-id="u7eb4d86e" id="u7eb4d86e" class="lake-fontsize-12">面试题：</span></p><p data-lake-id="udb961593" id="udb961593"><span data-lake-id="u89075fbf" id="u89075fbf" class="lake-fontsize-12">使用继承还是组合？</span></p><ul list="u48143aae"><li fid="u2c90a523" data-lake-id="u2e9e54c2" id="u2e9e54c2"><span data-lake-id="u02cc7de2" id="u02cc7de2" class="lake-fontsize-12">符合is-a就使用继承</span></li><li fid="u2c90a523" data-lake-id="u30d8ef36" id="u30d8ef36"><span data-lake-id="u0a9f66db" id="u0a9f66db" class="lake-fontsize-12">符合has-a就使用组合</span></li><li fid="u2c90a523" data-lake-id="u84971c35" id="u84971c35"><span data-lake-id="u5242f605" id="u5242f605" class="lake-fontsize-12">都可以，优先使用组合</span></li></ul><h3 data-lake-id="qtNZn" id="qtNZn" collapsed="true"><span data-lake-id="u38d44829" id="u38d44829" style="color: rgb(51,51,51)">9.笔试面试题 </span></h3><p data-lake-id="u12401d73" id="u12401d73"><span data-lake-id="u5e088abd" id="u5e088abd" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><span data-lake-id="u49e0672f" id="u49e0672f" class="lake-fontsize-12" style="color: rgb(119,119,119)">什么是菱形继承？菱形继承的问题是什么？ </span></p><p data-lake-id="u80caebc6" id="u80caebc6"><span data-lake-id="u26e9365c" id="u26e9365c" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><span data-lake-id="u5e5a8dbd" id="u5e5a8dbd" class="lake-fontsize-12" style="color: rgb(119,119,119)">什么是菱形虚拟继承？如何解决数据冗余和二义性的 </span></p><p data-lake-id="udf412151" id="udf412151"><span data-lake-id="u7d5370b5" id="u7d5370b5" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. 继承和组合的区别？什么时候用继承？什么时候用组合</span></p><h2 data-lake-id="BXCNc" id="BXCNc"><span data-lake-id="ufe28a109" id="ufe28a109">Lesson--多态</span></h2><h3 data-lake-id="DYKrS" id="DYKrS" collapsed="true"><span data-lake-id="ua439fc72" id="ua439fc72" style="color: rgb(51,51,51)">前言</span></h3><p data-lake-id="u1dbeadd8" id="u1dbeadd8"><strong><span data-lake-id="u9b9afa06" id="u9b9afa06" class="lake-fontsize-12" style="color: rgb(119,119,119)">需要声明的，本节课件中的代码及解释都是在</span></strong><strong><span data-lake-id="u76686e06" id="u76686e06" class="lake-fontsize-12" style="color: rgb(119,119,119)">vs2013</span></strong><strong><span data-lake-id="u64708d9f" id="u64708d9f" class="lake-fontsize-12" style="color: rgb(119,119,119)">下的</span></strong><strong><span data-lake-id="u7d302562" id="u7d302562" class="lake-fontsize-12" style="color: rgb(119,119,119)">x86</span></strong><strong><span data-lake-id="u04843631" id="u04843631" class="lake-fontsize-12" style="color: rgb(119,119,119)">程序中，涉及的指针都是</span></strong><strong><span data-lake-id="u56dbb29e" id="u56dbb29e" class="lake-fontsize-12" style="color: rgb(119,119,119)">4bytes</span></strong><strong><span data-lake-id="ua45a4e2d" id="ua45a4e2d" class="lake-fontsize-12" style="color: rgb(119,119,119)">。如果要其他 </span></strong></p><p data-lake-id="u1ec6d3a5" id="u1ec6d3a5"><strong><span data-lake-id="uf156c985" id="uf156c985" class="lake-fontsize-12" style="color: rgb(119,119,119)">平台下，部分代码需要改动。比如：如果是x64程序，则需要考虑指针是8bytes问题等等</span></strong></p><h3 data-lake-id="hpFyq" id="hpFyq"><span data-lake-id="u1c6a1fc6" id="u1c6a1fc6" style="color: rgb(51,51,51)">1. 多态的概念</span></h3><p data-lake-id="u58cab04f" id="u58cab04f"><strong><span data-lake-id="uffa28f8a" id="uffa28f8a" class="lake-fontsize-12" style="color: rgb(119,119,119)">1.1 </span></strong><strong><span data-lake-id="u292d7376" id="u292d7376" class="lake-fontsize-12" style="color: rgb(119,119,119)">概念 </span></strong></p><p data-lake-id="u23a7934f" id="u23a7934f"><span data-lake-id="udd235af3" id="udd235af3" class="lake-fontsize-12" style="color: rgb(119,119,119)">多态的概念：通俗来说，就是多种形态，</span><strong><span data-lake-id="u5822e1e6" id="u5822e1e6" class="lake-fontsize-12" style="color: rgb(119,119,119)">具体点就是去完成某个行为，当不同的对象去完成时会产生出不同的状态</span></strong><span data-lake-id="u82d233da" id="u82d233da" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="u8467ead4" id="u8467ead4"><strong><span data-lake-id="uf9509d0c" id="uf9509d0c" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">多态（动态绑定）</span></strong><span data-lake-id="u17baed66" id="u17baed66" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">是面向对象程序设计语言中的一种机制。这种机制实现了方法的定义与具体的对象无关，而对方法的调用则可以关联于具体的对象。 </span></p><p data-lake-id="uf7227c5a" id="uf7227c5a"><strong><span data-lake-id="u3dfb00e3" id="u3dfb00e3" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">补充：动态绑定（Dynamic Binding）</span></strong><span data-lake-id="u460781f7" id="u460781f7" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">，也称为 </span><strong><span data-lake-id="ub4ee6bc6" id="ub4ee6bc6" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">运行时多态（Runtime Polymorphism）</span></strong><span data-lake-id="ube95b160" id="ube95b160" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">。</span></p><p data-lake-id="u89168750" id="u89168750"><span data-lake-id="ud93a57aa" id="ud93a57aa" class="lake-fontsize-12" style="color: rgb(119,119,119)">举个栗子：比如</span><strong><span data-lake-id="u2f7cbfd3" id="u2f7cbfd3" class="lake-fontsize-12" style="color: rgb(119,119,119)">买票这个行为</span></strong><span data-lake-id="u0e73f564" id="u0e73f564" class="lake-fontsize-12" style="color: rgb(119,119,119)">，当</span><strong><span data-lake-id="u44bf98d8" id="u44bf98d8" class="lake-fontsize-12" style="color: rgb(119,119,119)">普通人</span></strong><span data-lake-id="u27231e05" id="u27231e05" class="lake-fontsize-12" style="color: rgb(119,119,119)">买票时，是全价买票；</span><strong><span data-lake-id="uf4324779" id="uf4324779" class="lake-fontsize-12" style="color: rgb(119,119,119)">学生</span></strong><span data-lake-id="u5b7eec78" id="u5b7eec78" class="lake-fontsize-12" style="color: rgb(119,119,119)">买票时，是半价买票；</span><strong><span data-lake-id="ub99b1f48" id="ub99b1f48" class="lake-fontsize-12" style="color: rgb(119,119,119)">军人</span></strong><span data-lake-id="ue4a38b63" id="ue4a38b63" class="lake-fontsize-12" style="color: rgb(119,119,119)">买票时是优先买票。 </span></p><p data-lake-id="ua53f02ed" id="ua53f02ed"><span data-lake-id="ub7351a11" id="ub7351a11" class="lake-fontsize-12" style="color: rgb(119,119,119)">再举个栗子： 最近为了</span><strong><span data-lake-id="u87c5c987" id="u87c5c987" class="lake-fontsize-12" style="color: rgb(119,119,119)">争夺在线支付市场</span></strong><span data-lake-id="u4810cd43" id="u4810cd43" class="lake-fontsize-12" style="color: rgb(119,119,119)">，支付宝年底经常会做诱人的</span><strong><span data-lake-id="u723bc50f" id="u723bc50f" class="lake-fontsize-12" style="color: rgb(119,119,119)">扫红包-支付-给奖励金</span></strong><span data-lake-id="ue3a0957f" id="ue3a0957f" class="lake-fontsize-12" style="color: rgb(119,119,119)">的活动。那么大家想想为什么有人扫的红包又大又新鲜8块、10块...，而有人扫的红包都是1毛，5毛....。其实这背后也是一个多态行为。支付宝首先会分析你的账户数据，比如你是新用户、比如你没有经常支付宝支付等等，那么你需要被鼓励使用支付宝，那么就你扫码金额 = random()%99；比如你经常使用支付宝支付或者支付宝账户中常年没钱，那么就不需要太鼓励你去使用支付宝，那么就你扫码金额 = random()%1；总结一下：</span></p><p data-lake-id="ubfc33b62" id="ubfc33b62"><strong><span data-lake-id="ue18cc648" id="ue18cc648" class="lake-fontsize-12" style="color: rgb(119,119,119)">同样是扫码动作，不同的用户扫得到的不一样的红包，这也是一种多态行为。</span></strong><span data-lake-id="u5a4235fd" id="u5a4235fd" class="lake-fontsize-12" style="color: rgb(119,119,119)">ps：支付宝红包问题纯属瞎编，大家仅供娱乐。</span></p><h3 data-lake-id="uzLMS" id="uzLMS"><span data-lake-id="u19032e44" id="u19032e44" style="color: rgb(51,51,51)">2. 多态的定义及实现</span></h3><h4 data-lake-id="qTCqp" id="qTCqp"><span data-lake-id="u98b4f8f4" id="u98b4f8f4" style="color: rgb(51,51,51)">2.1多态的构成条件</span></h4><p data-lake-id="u00c6bd74" id="u00c6bd74"><span data-lake-id="u7b6e8113" id="u7b6e8113" class="lake-fontsize-12" style="color: rgb(119,119,119)">多态是在不同继承关系的类对象，去调用同一函数，产生了不同的行为。比如</span><span data-lake-id="u24a6db99" id="u24a6db99" class="lake-fontsize-12" style="color: rgb(119,119,119)">Student</span><span data-lake-id="u4a5d880d" id="u4a5d880d" class="lake-fontsize-12" style="color: rgb(119,119,119)">继承了</span><span data-lake-id="u716d569f" id="u716d569f" class="lake-fontsize-12" style="color: rgb(119,119,119)">Person</span><span data-lake-id="u8bf222f9" id="u8bf222f9" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><p data-lake-id="u5ca79134" id="u5ca79134"><span data-lake-id="ue36bfbca" id="ue36bfbca" class="lake-fontsize-12" style="color: rgb(119,119,119)">Person</span><span data-lake-id="ufc91dcab" id="ufc91dcab" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象买票全价，</span><span data-lake-id="u45f205dc" id="u45f205dc" class="lake-fontsize-12" style="color: rgb(119,119,119)">Student</span><span data-lake-id="u99b9f4be" id="u99b9f4be" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象买票半价。 </span></p><blockquote data-lake-id="ue961db11" id="ue961db11"><p data-lake-id="u56aced75" id="u56aced75"><span data-lake-id="uacc1526b" id="uacc1526b" class="lake-fontsize-12" style="color: rgb(119,119,119)">那么在继承中要</span><strong><span data-lake-id="ubfe6b0cf" id="ubfe6b0cf" class="lake-fontsize-12" style="color: rgb(119,119,119)">构成多态还有两个条件</span></strong><span data-lake-id="uc7c671d5" id="uc7c671d5" class="lake-fontsize-12" style="color: rgb(119,119,119)">： </span></p><p data-lake-id="ucd28a2b4" id="ucd28a2b4"><span data-lake-id="u45767ac1" id="u45767ac1" class="lake-fontsize-12" style="color: rgb(119,119,119)">1.</span><strong><span data-lake-id="u642e8cf7" id="u642e8cf7" class="lake-fontsize-12" style="color: #DF2A3F"> </span></strong><strong><span data-lake-id="uc9dfebb6" id="uc9dfebb6" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">必须通过</span></strong><strong><span data-lake-id="u91225e6a" id="u91225e6a" class="lake-fontsize-12" style="color: #DF2A3F">基类的指针或者引用</span></strong><strong><span data-lake-id="u7020f521" id="u7020f521" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">调用虚函数 </span></strong></p><p data-lake-id="u43dd3268" id="u43dd3268"><strong><span data-lake-id="u56ae7b15" id="u56ae7b15" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">（如下面图中BuyTicket，Func函数调用的是基类的引用或指针）</span></strong></p><p data-lake-id="u313f54f3" id="u313f54f3"><span data-lake-id="u3f823571" id="u3f823571" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><strong><span data-lake-id="uee683ef6" id="uee683ef6" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">被调用的函数</span></strong><strong><span data-lake-id="ue3782efa" id="ue3782efa" class="lake-fontsize-12" style="color: #DF2A3F">必须是虚函数</span></strong><strong><span data-lake-id="uee7d29ad" id="uee7d29ad" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">，且派生类必须对基类的虚函数进行重写</span></strong></p></blockquote><p data-lake-id="u68aed064" id="u68aed064"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745665645030-99594c20-579d-481d-8baf-556346b9e06a.png%22%2C%22taskId%22%3A%22uccfd1768-0f7c-4abb-a2c4-74f86be8854%22%2C%22clientId%22%3A%22u31c019b1-595b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A593.7142857142857%2C%22height%22%3A365%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A2660700%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1039%2C%22originHeight%22%3A639%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22CLASS%20PERSON%20VOID%20FUNC(PERSON%20%26%20PEOPLE)%20PUBLIC%3A%20VIRTUAL%20VOID%20BUYTICKET(%20PEOPLE.BUYTICKET()%3B%20COUT%3C*%E4%B9%B0%E7%A5%A8%E5%85%A8%E4%BB%B7%5C%22%3C%3C%3C%3CENDL%3B%20VOID%20TEST()%20%E8%99%9A%E5%87%BD%E6%95%B0%E8%A6%86%E7%9B%96%20PERSON%20MIKE%3B%20CLASS%20STUDENT%3APUBLIC%20PERSON%20FUNC(MIKE)%3B%20PUBLIC%3A%20STUDENT%20JOHNSON%60%20VIRTUAL%20VOID%20BUYTICKET()%20FUNC(JOHNSON)%3B%20COUT%3C%5C%22%E4%B9%B0%E7%A5%A8%E5%8D%8A%E4%BB%B7%5C%22%3C%3C%3CENDL%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A183%2C%22y%22%3A35%2C%22width%22%3A124%2C%22height%22%3A22%2C%22text%22%3A%22CLASS%20PERSON%22%7D%2C%7B%22x%22%3A707%2C%22y%22%3A103%2C%22width%22%3A285%2C%22height%22%3A23%2C%22text%22%3A%22VOID%20FUNC(PERSON%20%26%20PEOPLE)%22%7D%2C%7B%22x%22%3A183%2C%22y%22%3A103%2C%22width%22%3A66%2C%22height%22%3A19%2C%22text%22%3A%22PUBLIC%3A%22%7D%2C%7B%22x%22%3A221%2C%22y%22%3A136%2C%22width%22%3A231%2C%22height%22%3A24%2C%22text%22%3A%22VIRTUAL%20VOID%20BUYTICKET(%22%7D%2C%7B%22x%22%3A746%2C%22y%22%3A170%2C%22width%22%3A193%2C%22height%22%3A27%2C%22text%22%3A%22PEOPLE.BUYTICKET()%3B%22%7D%2C%7B%22x%22%3A267%2C%22y%22%3A204%2C%22width%22%3A288%2C%22height%22%3A22%2C%22text%22%3A%22COUT%3C*%E4%B9%B0%E7%A5%A8%E5%85%A8%E4%BB%B7%5C%22%3C%3C%3C%3CENDL%3B%22%7D%2C%7B%22x%22%3A707%2C%22y%22%3A272%2C%22width%22%3A108%2C%22height%22%3A24%2C%22text%22%3A%22VOID%20TEST()%22%7D%2C%7B%22x%22%3A32%2C%22y%22%3A314%2C%22width%22%3A93%2C%22height%22%3A18%2C%22text%22%3A%22%E8%99%9A%E5%87%BD%E6%95%B0%E8%A6%86%E7%9B%96%22%7D%2C%7B%22x%22%3A746%2C%22y%22%3A340%2C%22width%22%3A130%2C%22height%22%3A20%2C%22text%22%3A%22PERSON%20MIKE%3B%22%7D%2C%7B%22x%22%3A183%2C%22y%22%3A347%2C%22width%22%3A287%2C%22height%22%3A20%2C%22text%22%3A%22CLASS%20STUDENT%3APUBLIC%20PERSON%22%7D%2C%7B%22x%22%3A744%2C%22y%22%3A373%2C%22width%22%3A120%2C%22height%22%3A24%2C%22text%22%3A%22FUNC(MIKE)%3B%22%7D%2C%7B%22x%22%3A185%2C%22y%22%3A416%2C%22width%22%3A64%2C%22height%22%3A18%2C%22text%22%3A%22PUBLIC%3A%22%7D%2C%7B%22x%22%3A747%2C%22y%22%3A442%2C%22width%22%3A176%2C%22height%22%3A23%2C%22text%22%3A%22STUDENT%20JOHNSON%60%22%7D%2C%7B%22x%22%3A221%2C%22y%22%3A447%2C%22width%22%3A231%2C%22height%22%3A23%2C%22text%22%3A%22VIRTUAL%20VOID%20BUYTICKET()%22%7D%2C%7B%22x%22%3A747%2C%22y%22%3A477%2C%22width%22%3A149%2C%22height%22%3A21%2C%22text%22%3A%22FUNC(JOHNSON)%3B%22%7D%2C%7B%22x%22%3A266%2C%22y%22%3A515%2C%22width%22%3A286%2C%22height%22%3A25%2C%22text%22%3A%22COUT%3C%5C%22%E4%B9%B0%E7%A5%A8%E5%8D%8A%E4%BB%B7%5C%22%3C%3C%3CENDL%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23fafbf7%22%2C%22id%22%3A%22u029668b5%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><h4 data-lake-id="amupU" id="amupU"><span data-lake-id="ud1e84d9b" id="ud1e84d9b" style="color: rgb(51,51,51)">2.2 虚函数 </span></h4><p data-lake-id="u6e185650" id="u6e185650"><span data-lake-id="u8c231d1d" id="u8c231d1d" class="lake-fontsize-12" style="color: rgb(119,119,119)">虚函数：</span><span data-lake-id="uefbbaef0" id="uefbbaef0" class="lake-fontsize-12" style="color: #DF2A3F">即被virtual修饰的类</span><strong><span data-lake-id="u9f5c0496" id="u9f5c0496" class="lake-fontsize-12" style="color: #DF2A3F">成员函数</span></strong><span data-lake-id="u4e3e823e" id="u4e3e823e" class="lake-fontsize-12" style="color: #DF2A3F">称为虚函数</span><span data-lake-id="u0c84356a" id="u0c84356a" class="lake-fontsize-12" style="color: rgb(119,119,119)">。（静态成员函数都不行）</span></p><p data-lake-id="u823d5ff6" id="u823d5ff6"><strong><span data-lake-id="udf1f4e7d" id="udf1f4e7d" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">应</span></strong><strong><span data-lake-id="uda4a91cb" id="uda4a91cb" class="lake-fontsize-12">该使用虚函数</span></strong></p><ol list="u137d6e40"><li fid="u18326c2c" data-lake-id="u4bf4fccd" id="u4bf4fccd"><strong><span data-lake-id="u9eb24eb1" id="u9eb24eb1" class="lake-fontsize-12">需要多态行为时</span></strong></li></ol><ul list="u46f4e3b2" data-lake-indent="1"><li fid="uc838f3fd" data-lake-id="u7a59635b" id="u7a59635b"><span data-lake-id="u21dec015" id="u21dec015" class="lake-fontsize-12">当需要通过基类接口操作不同派生类对象</span></li><li fid="uc838f3fd" data-lake-id="u04ed1f31" id="u04ed1f31"><span data-lake-id="u6cc05935" id="u6cc05935" class="lake-fontsize-12">典型场景：GUI控件、游戏实体、插件系统</span></li></ul><ol list="u137d6e40" start="2"><li fid="u18326c2c" data-lake-id="u85724793" id="u85724793"><strong><span data-lake-id="ue3b7005d" id="ue3b7005d" class="lake-fontsize-12">设计可扩展框架时</span></strong></li></ol><ul list="u30a4becb" data-lake-indent="1"><li fid="u81daac6c" data-lake-id="u775e3308" id="u775e3308"><span data-lake-id="u52aa776c" id="u52aa776c" class="lake-fontsize-12">允许后续通过派生类新增功能</span></li><li fid="u81daac6c" data-lake-id="u182f1e13" id="u182f1e13"><span data-lake-id="ud351596d" id="ud351596d" class="lake-fontsize-12">例如：策略模式、观察者模式</span></li></ul><ol list="u137d6e40" start="3"><li fid="u18326c2c" data-lake-id="u11b16aa1" id="u11b16aa1"><strong><span data-lake-id="u0dd2695f" id="u0dd2695f" class="lake-fontsize-12">需要运行时决定行为时</span></strong></li></ol><ul list="ud3838747" data-lake-indent="1"><li fid="u6c2d57fe" data-lake-id="u711c94a2" id="u711c94a2"><span data-lake-id="u2e1caebe" id="u2e1caebe" class="lake-fontsize-12">如根据配置文件动态选择算法实现</span></li></ul><p data-lake-id="u0e8f3181" id="u0e8f3181"><strong><span data-lake-id="u2b8ec20b" id="u2b8ec20b" class="lake-fontsize-12">何时避免虚函数？</span></strong></p><table data-lake-id="Nqeoe" id="Nqeoe" margin="true" class="lake-table" style="width: 750px"><colgroup><col width="375"><col width="375"></colgroup><tbody><tr data-lake-id="ud635e366" id="ud635e366"><td data-lake-id="u94d9360c" id="u94d9360c"><p data-lake-id="u50f3506d" id="u50f3506d" style="text-align: left"><strong><span data-lake-id="u1e66b230" id="u1e66b230" class="lake-fontsize-12">场景</span></strong></p></td><td data-lake-id="u1014b43a" id="u1014b43a"><p data-lake-id="u85d05e2d" id="u85d05e2d" style="text-align: left"><strong><span data-lake-id="u4f9fbd52" id="u4f9fbd52" class="lake-fontsize-12">原因</span></strong></p></td></tr><tr data-lake-id="u17eac4bf" id="u17eac4bf"><td data-lake-id="uf77b609c" id="uf77b609c"><p data-lake-id="u80631ab5" id="u80631ab5"><span data-lake-id="u10cf7b63" id="u10cf7b63" class="lake-fontsize-12">性能关键路径</span></p></td><td data-lake-id="uafcf0544" id="uafcf0544"><p data-lake-id="u74d8fe25" id="u74d8fe25"><span data-lake-id="u1c6e5ea6" id="u1c6e5ea6" class="lake-fontsize-12">虚函数调用比普通函数多一次间接寻址（约多2-3个CPU周期）</span></p></td></tr><tr data-lake-id="ua9d37486" id="ua9d37486"><td data-lake-id="uc54850ec" id="uc54850ec"><p data-lake-id="u0a2f13c3" id="u0a2f13c3"><span data-lake-id="u5d17abfd" id="u5d17abfd" class="lake-fontsize-12">不需要多态时</span></p></td><td data-lake-id="ua790df91" id="ua790df91"><p data-lake-id="u0ad900d0" id="u0ad900d0"><span data-lake-id="u9262603b" id="u9262603b" class="lake-fontsize-12">虚函数会引入额外内存开销（每个对象含vptr指针）</span></p></td></tr><tr data-lake-id="ue83e6087" id="ue83e6087"><td data-lake-id="u5629384b" id="u5629384b"><p data-lake-id="u60241b72" id="u60241b72"><span data-lake-id="udf8212ad" id="udf8212ad" class="lake-fontsize-12">频繁创建的小对象</span></p></td><td data-lake-id="ud4497539" id="ud4497539"><p data-lake-id="u12703905" id="u12703905"><span data-lake-id="udd9d1ed4" id="udd9d1ed4" class="lake-fontsize-12">vptr可能显著增加内存占用（如百万级对象每个多8字节）</span></p></td></tr></tbody></table><p data-lake-id="ufcbbc852" id="ufcbbc852"><br></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Person%20%7B%5Cnpublic%3A%5Cn%20virtual%20void%20BuyTicket()%20%7B%20cout%20%3C%3C%20%5C%22%E4%B9%B0%E7%A5%A8-%E5%85%A8%E4%BB%B7%5C%22%20%3C%3C%20endl%3B%7D%5Cn%5Cnprivate%3A%5Cn%20%20%20%20int%20_a%3B%5Cn%20%20%20%20char%20_ch%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22TjVYH%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><blockquote data-lake-id="u56913c25" id="u56913c25" class="lake-alert lake-alert-tips"><p data-lake-id="uedda31a5" id="uedda31a5"><strong><span data-lake-id="ubd649131" id="ubd649131" class="lake-fontsize-12" style="color: rgb(51,51,51)">问：</span></strong><span data-lake-id="u6b7f5fd8" id="u6b7f5fd8" class="lake-fontsize-12" style="color: rgb(51,51,51)">sizeof(Person)多大？</span></p><p data-lake-id="ueb07bb6a" id="ueb07bb6a"><span data-lake-id="u8ec21216" id="u8ec21216" class="lake-fontsize-12" style="color: rgb(51,51,51)">int 4字节 char 1字节 </span></p><p data-lake-id="ud0e87ee6" id="ud0e87ee6"><span data-lake-id="uc0680356" id="uc0680356" class="lake-fontsize-12" style="color: rgb(51,51,51)">但实际上是12字节</span></p><p data-lake-id="u9f1c8785" id="u9f1c8785"><span data-lake-id="u4434a308" id="u4434a308" class="lake-fontsize-12" style="color: rgb(51,51,51)">理解：</span></p><p data-lake-id="u6d926216" id="u6d926216"><strong><span data-lake-id="u25073681" id="u25073681" class="lake-fontsize-12" style="color: rgb(51,51,51)">虚函数表</span></strong></p></blockquote><blockquote data-lake-id="ub40a8302" id="ub40a8302" class="lake-alert lake-alert-tips"><p data-lake-id="uddcb89c1" id="uddcb89c1"><strong><span data-lake-id="u22c1f29d" id="u22c1f29d" class="lake-fontsize-12" style="color: rgb(51,51,51)">插入了解virtual关键字</span></strong></p><p data-lake-id="u3cd8b021" id="u3cd8b021"><span data-lake-id="uedddea40" id="uedddea40" class="lake-fontsize-12" style="color: rgb(51,51,51)">virtual关键字</span></p><ul list="u3fba03a5"><li fid="u7c3d046f" data-lake-id="u851f5760" id="u851f5760"><span data-lake-id="ua798ac47" id="ua798ac47" class="lake-fontsize-12" style="color: rgb(51,51,51)">可以修饰成原函数，为了完成</span><strong><span data-lake-id="ua9f98136" id="ua9f98136" class="lake-fontsize-12" style="color: rgb(51,51,51)">虚函数</span></strong><span data-lake-id="u5e4520d4" id="u5e4520d4" class="lake-fontsize-12" style="color: rgb(51,51,51)">的重写，满足多态的条件之一。</span></li><li fid="u7c3d046f" data-lake-id="uaeae0f12" id="uaeae0f12"><span data-lake-id="u7efca1c1" id="u7efca1c1" class="lake-fontsize-12" style="color: rgb(51,51,51)">可在菱形继承中，去完成</span><strong><span data-lake-id="uedf31522" id="uedf31522" class="lake-fontsize-12" style="color: rgb(51,51,51)">虚继承</span></strong><span data-lake-id="u1d53f409" id="u1d53f409" class="lake-fontsize-12" style="color: rgb(51,51,51)">，解决数据冗余和二义性。</span></li></ul><p data-lake-id="uc04157a6" id="uc04157a6"><span data-lake-id="u3d33df6a" id="u3d33df6a" class="lake-fontsize-12" style="color: rgb(51,51,51)">两个地方使用同一个关键字，但他们互相之间没有一点关联</span></p></blockquote><h4 data-lake-id="qwzMj" id="qwzMj"><span data-lake-id="uba3e02ce" id="uba3e02ce" style="color: rgb(51,51,51)">2.3虚函数的重写</span></h4><p data-lake-id="u0cb481c9" id="u0cb481c9"><span data-lake-id="ub0fea904" id="ub0fea904" class="lake-fontsize-12" style="color: rgb(119,119,119)">虚函数的重写(覆盖)：</span><strong><span data-lake-id="uf82b0bfe" id="uf82b0bfe" class="lake-fontsize-12" style="color: rgb(119,119,119)">派生类中有一个跟基类完全相同的虚函数(即派生类虚函数与基类虚函数的</span></strong><strong><span data-lake-id="u0c954d5f" id="u0c954d5f" class="lake-fontsize-12" style="color: #DF2A3F">返回值类型、函数名字、参数列表</span></strong><strong><span data-lake-id="u2cac9cd2" id="u2cac9cd2" class="lake-fontsize-12" style="color: rgb(119,119,119)">完全相同)</span></strong><span data-lake-id="u0541e953" id="u0541e953" class="lake-fontsize-12" style="color: rgb(119,119,119)">，称子类的虚函数重写了基类的虚函数。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Person%20%7B%5Cnpublic%3A%5Cn%20virtual%20void%20BuyTicket()%20%7B%20cout%20%3C%3C%20%5C%22%E4%B9%B0%E7%A5%A8-%E5%85%A8%E4%BB%B7%5C%22%20%3C%3C%20endl%3B%20%7D%5Cn%7D%3B%5Cnclass%20Student%20%3A%20public%20Person%20%7B%5Cnpublic%3A%5Cn%20virtual%20void%20BuyTicket()%20%7B%20cout%20%3C%3C%20%5C%22%E4%B9%B0%E7%A5%A8-%E5%8D%8A%E4%BB%B7%5C%22%20%3C%3C%20endl%3B%20%7D%20%5Cn%2F*%E6%B3%A8%E6%84%8F%EF%BC%9A%E5%9C%A8%E9%87%8D%E5%86%99%E5%9F%BA%E7%B1%BB%E8%99%9A%E5%87%BD%E6%95%B0%E6%97%B6%EF%BC%8C%E6%B4%BE%E7%94%9F%E7%B1%BB%E7%9A%84%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%A8%E4%B8%8D%E5%8A%A0virtual%E5%85%B3%E9%94%AE%E5%AD%97%E6%97%B6%EF%BC%8C%E8%99%BD%E7%84%B6%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%9E%84%E6%88%90%E9%87%8D%E5%86%99(%E5%9B%A0%E4%B8%BA%E7%BB%A7%E6%89%BF%E5%90%8E%5Cn%E5%9F%BA%E7%B1%BB%E7%9A%84%E8%99%9A%E5%87%BD%E6%95%B0%E8%A2%AB%E7%BB%A7%E6%89%BF%E4%B8%8B%E6%9D%A5%E4%BA%86%E5%9C%A8%E6%B4%BE%E7%94%9F%E7%B1%BB%E4%BE%9D%E6%97%A7%E4%BF%9D%E6%8C%81%E8%99%9A%E5%87%BD%E6%95%B0%E5%B1%9E%E6%80%A7)%2C%E4%BD%86%E6%98%AF%E8%AF%A5%E7%A7%8D%E5%86%99%E6%B3%95%E4%B8%8D%E6%98%AF%E5%BE%88%E8%A7%84%E8%8C%83%EF%BC%8C%E4%B8%8D%E5%BB%BA%E8%AE%AE%E8%BF%99%E6%A0%B7%E4%BD%BF%E7%94%A8*%2F%5Cn%20%2F*void%20BuyTicket()%20%7B%20cout%20%3C%3C%20%5C%22%E4%B9%B0%E7%A5%A8-%E5%8D%8A%E4%BB%B7%5C%22%20%3C%3C%20endl%3B%20%7D*%2F%5Cn%7D%3B%5Cnvoid%20Func(Person%26%20p)%5Cn%7B%20p.BuyTicket()%3B%20%7D%5Cnint%20main()%5Cn%7B%5Cn%20Person%20ps%3B%5Cn%20Student%20st%3B%5Cn%20%5Cn%20Func(ps)%3B%5Cn%20Func(st)%3B%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22lFGtQ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u5e719a92" id="u5e719a92"><br></p><p data-lake-id="ued74486c" id="ued74486c"><br></p><card type="block" name="hr" value="data:%7B%22id%22%3A%22SX9Fr%22%7D"></card><blockquote data-lake-id="u9e29d511" id="u9e29d511" class="lake-alert lake-alert-tips"><p data-lake-id="ud19d8014" id="ud19d8014"><span data-lake-id="u9abfbb72" id="u9abfbb72" class="lake-fontsize-12">满足多态：跟指向对象有关，指向哪个对象调用的就是他的虚函数</span></p><p data-lake-id="u306e65d6" id="u306e65d6"><span data-lake-id="u3d0a3333" id="u3d0a3333" class="lake-fontsize-12">不满足多态：跟调用对象的类型有关，类型是什么调用的就是谁的虚函数</span></p></blockquote><article data-lake-id="u54aa10b6" id="u54aa10b6" class="lake-columns"><article data-lake-id="u303aa06f" id="u303aa06f" class="lake-column-item" style="width: 50.000000%"><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%20%E6%BB%A1%E8%B6%B3%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Base%20%7B%5Cnpublic%3A%5Cn%20%20%20%20virtual%20void%20func()%20%7B%20cout%20%3C%3C%20%5C%22Base%20func%5C%22%20%3C%3C%20endl%3B%20%7D%5Cn%7D%3B%5Cn%5Cnclass%20Derived%20%3A%20public%20Base%20%7B%5Cnpublic%3A%5Cn%20%20%20%20void%20func()%20override%20%7B%20cout%20%3C%3C%20%5C%22Derived%20func%5C%22%20%3C%3C%20endl%3B%20%7D%5Cn%7D%3B%5Cn%5Cnint%20main()%20%7B%5Cn%20%20%20%20Base*%20p%20%3D%20new%20Derived%3B%5Cn%20%20%20%20p-%3Efunc()%3B%20%20%2F%2F%20%E8%BE%93%E5%87%BA%20Derived%20func%EF%BC%81%EF%BC%81%5Cn%7D%5Cn%2F*%5Cnint%20main()%20%7B%5Cn%20%20%20%20Derived%20d%3B%20%20%20%20%20%20%20%2F%2F%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%20Derived%20%E7%B1%BB%E5%9E%8B%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20Base%26%20ref%20%3D%20d%3B%20%20%20%20%2F%2F%20%E7%94%A8%20Base%20%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%BC%95%E7%94%A8%E7%BB%91%E5%AE%9A%E5%88%B0%20Derived%20%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20ref.func()%3B%20%20%20%20%20%20%20%2F%2F%20%E8%B0%83%E7%94%A8%20func%EF%BC%8C%E8%BE%93%E5%87%BA%20Derived%20func%EF%BC%81%5Cn%20%20%20%20%5Cn%20%20%20%20return%200%3B%5Cn%7D%20%2F%2F%E5%BC%95%E7%94%A8%E7%89%88%E6%9C%AC%5Cn*%2F%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%20%E6%BB%A1%E8%B6%B3%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22JjZP5%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></article><article data-lake-id="u7c1c6717" id="u7c1c6717" class="lake-column-item" style="width: 50.000000%"><p data-lake-id="u5fb99fcf" id="u5fb99fcf"><span data-lake-id="ud53eebbf" id="ud53eebbf" class="lake-fontsize-10">想象你在玩&quot;遥控车&quot;游戏：</span></p><p data-lake-id="ua3c6f3d0" id="ua3c6f3d0"><span data-lake-id="uba2e49b4" id="uba2e49b4" class="lake-fontsize-10">1.</span><span data-lake-id="ub98b83ec" id="ub98b83ec" class="lake-fontsize-10"> </span><code data-lake-id="ud602c7f7" id="ud602c7f7"><strong><span data-lake-id="u6a0ad241" id="u6a0ad241" class="lake-fontsize-10">class Base</span></strong></code><span data-lake-id="uf1c8b3e9" id="uf1c8b3e9" class="lake-fontsize-10"> </span><span data-lake-id="u38929396" id="u38929396" class="lake-fontsize-10">就像一辆&quot;基础遥控车&quot;：</span></p><ul list="u229e7a7f"><li fid="u04a91026" data-lake-id="ua7eba8a2" id="ua7eba8a2"><span data-lake-id="ud106ce13" id="ud106ce13" class="lake-fontsize-10">它有一个功能按钮(</span><code data-lake-id="udec33ad2" id="udec33ad2"><strong><span data-lake-id="u5246d6f0" id="u5246d6f0" class="lake-fontsize-10">func</span></strong></code><span data-lake-id="ua7c74e8f" id="ua7c74e8f" class="lake-fontsize-10">)，按下会说&quot;我是基础车&quot;（Base func）</span></li></ul><p data-lake-id="u686c6367" id="u686c6367"><span data-lake-id="ubce0a4e3" id="ubce0a4e3" class="lake-fontsize-10">2.</span><span data-lake-id="u2fb9c7fe" id="u2fb9c7fe" class="lake-fontsize-10"> </span><code data-lake-id="u5f569c19" id="u5f569c19"><strong><span data-lake-id="u6b28cf1c" id="u6b28cf1c" class="lake-fontsize-10">class Derived</span></strong></code><span data-lake-id="ue4243ae0" id="ue4243ae0" class="lake-fontsize-10"> </span><span data-lake-id="u93632f7a" id="u93632f7a" class="lake-fontsize-10">是你新买的&quot;炫酷赛车&quot;：</span></p><ul list="ubbcb2e08"><li fid="ud85f564c" data-lake-id="u3f0b3e36" id="u3f0b3e36"><span data-lake-id="u0cb624d8" id="u0cb624d8" class="lake-fontsize-10">它继承了基础车的所有功能</span></li><li fid="ud85f564c" data-lake-id="uec7c390b" id="uec7c390b"><span data-lake-id="u83ed0d7e" id="u83ed0d7e" class="lake-fontsize-10">但你把功能按钮升级了，现在按下会说&quot;我是赛车&quot;（Derived func）</span></li></ul><p data-lake-id="u8cb24d23" id="u8cb24d23"><span data-lake-id="ue0e94581" id="ue0e94581" class="lake-fontsize-10">3.</span><span data-lake-id="uaae0d352" id="uaae0d352" class="lake-fontsize-10"> </span><code data-lake-id="u1ee6a5f7" id="u1ee6a5f7"><strong><span data-lake-id="u063af481" id="u063af481" class="lake-fontsize-10">virtual</span></strong></code><span data-lake-id="u6c838acc" id="u6c838acc" class="lake-fontsize-10"> </span><span data-lake-id="u67bc1fa0" id="u67bc1fa0" class="lake-fontsize-10">关键字：</span></p><ul list="u9ac2fd6f"><li fid="u503bad5c" data-lake-id="u58ea695b" id="u58ea695b"><span data-lake-id="u78f1d9e4" id="u78f1d9e4" class="lake-fontsize-10">就像给遥控车装了个&quot;智能芯片&quot;</span></li><li fid="u503bad5c" data-lake-id="ua1d07512" id="ua1d07512"><span data-lake-id="ua5c871cf" id="ua5c871cf" class="lake-fontsize-10">有了它，车子就能自动识别自己真正的型号</span></li></ul><p data-lake-id="ua2a808c8" id="ua2a808c8"><span data-lake-id="ua715d291" id="ua715d291" class="lake-fontsize-10">4. 实际操作的魔法时刻：</span></p><ul list="u21d452cd"><li fid="ua84df294" data-lake-id="ua23555d3" id="ua23555d3"><code data-lake-id="uc034a2e6" id="uc034a2e6"><strong><span data-lake-id="ua844f992" id="ua844f992" class="lake-fontsize-10">Base* p = new Derived</span></strong></code></li></ul><p data-lake-id="u89613966" id="u89613966"><span data-lake-id="ua9329283" id="ua9329283" class="lake-fontsize-10">相当于你把赛车装进了基础车的包装盒里（外人看起来像基础车）</span></p><ul list="u96a61e8a"><li fid="ufd458db8" data-lake-id="ucdb72673" id="ucdb72673"><code data-lake-id="ue39130a4" id="ue39130a4"><strong><span data-lake-id="u4e5b69c1" id="u4e5b69c1" class="lake-fontsize-10">p-&gt;func()</span></strong></code></li></ul><p data-lake-id="u36e42183" id="u36e42183"><span data-lake-id="u00d5dc5b" id="u00d5dc5b" class="lake-fontsize-10">当你按下按钮时，虽然包装盒是基础车的，但因为有&quot;智能芯片&quot;，车子会说&quot;我是赛车&quot;！</span></p></article></article><p data-lake-id="u7e039388" id="u7e039388"><span data-lake-id="u8cb8db11" id="u8cb8db11">分析：</span></p><ul list="u35c72556"><li fid="u24462761" data-lake-id="u8aac7570" id="u8aac7570"><code data-lake-id="udd13b479" id="udd13b479"><span data-lake-id="u107a473a" id="u107a473a">p</span></code><span data-lake-id="uf8ea18a6" id="uf8ea18a6"> 是 </span><code data-lake-id="u9b01a77f" id="u9b01a77f"><span data-lake-id="ue3631692" id="ue3631692">Base*</span></code><span data-lake-id="u7485dde3" id="u7485dde3"> 类型（父类指针）</span></li><li fid="u24462761" data-lake-id="uc2fbb108" id="uc2fbb108"><span data-lake-id="udefa375f" id="udefa375f">但是 </span><code data-lake-id="ua22c056d" id="ua22c056d"><span data-lake-id="u53fb3599" id="u53fb3599">p</span></code><span data-lake-id="ua16925c0" id="ua16925c0"> 实际</span><strong><span data-lake-id="u24d10280" id="u24d10280">指向Derived对象</span></strong><span data-lake-id="ub3b4a9fb" id="ub3b4a9fb">。</span></li><li fid="u24462761" data-lake-id="ue4048934" id="ue4048934"><span data-lake-id="u22406208" id="u22406208">所以调用</span><code data-lake-id="u0c497f17" id="u0c497f17"><span data-lake-id="u24e33565" id="u24e33565">p-&gt;func()</span></code><span data-lake-id="ub0360bc1" id="ub0360bc1">，会查虚函数表，动态找到Derived版本！</span></li><li fid="u24462761" data-lake-id="uca5ec3f6" id="uca5ec3f6"><strong><span data-lake-id="u675e754d" id="u675e754d">运行结果</span></strong><span data-lake-id="u15944f4b" id="u15944f4b">：输出</span><code data-lake-id="u7dfaebad" id="u7dfaebad"><span data-lake-id="uf2663284" id="uf2663284">Derived func</span></code><span data-lake-id="ub3f1f724" id="ub3f1f724">！</span></li></ul><p data-lake-id="u3d1fa20c" id="u3d1fa20c"><span data-lake-id="u9856afda" id="u9856afda">✅</span><span data-lake-id="ub77c2874" id="ub77c2874"> </span><strong><span data-lake-id="u93d76d5e" id="u93d76d5e">跟指向对象是谁有关</span></strong><span data-lake-id="ue595ca7e" id="ue595ca7e">！</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%20%E4%B8%8D%E6%BB%A1%E8%B6%B3%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Base%20%7B%5Cnpublic%3A%5Cn%20%20%20%20virtual%20void%20func()%20%7B%20cout%20%3C%3C%20%5C%22Base%20func%5C%22%20%3C%3C%20endl%3B%20%7D%5Cn%7D%3B%5Cn%5Cnclass%20Derived%20%3A%20public%20Base%20%7B%5Cnpublic%3A%5Cn%20%20%20%20void%20func()%20override%20%7B%20cout%20%3C%3C%20%5C%22Derived%20func%5C%22%20%3C%3C%20endl%3B%20%7D%5Cn%7D%3B%5Cn%5Cnint%20main()%20%7B%5Cn%20%20%20%20Derived%20d%3B%5Cn%20%20%20%20Base%20b%20%3D%20d%3B%20%20%2F%2F%20%E8%BF%99%E9%87%8C%E5%88%87%E5%89%B2%E4%BA%86%EF%BC%81%EF%BC%81%EF%BC%88slicing%EF%BC%89%5Cn%20%20%20%20b.func()%3B%20%20%20%20%2F%2F%20%E8%BE%93%E5%87%BA%20Base%20func%EF%BC%81%EF%BC%81%5Cn%7D%5Cn%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%20%E4%B8%8D%E6%BB%A1%E8%B6%B3%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22OZ7mv%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u9fcaad9c" id="u9fcaad9c"><span data-lake-id="ue824a651" id="ue824a651">分析：</span></p><ul list="ubb2db777"><li fid="ua24dea62" data-lake-id="uee1276d5" id="uee1276d5"><code data-lake-id="u157c3f92" id="u157c3f92"><span data-lake-id="u58b65970" id="u58b65970">d</span></code><span data-lake-id="u03f5213d" id="u03f5213d"> 是 Derived 类型，没问题。</span></li><li fid="ua24dea62" data-lake-id="ub04bccdd" id="ub04bccdd"><span data-lake-id="u00500c89" id="u00500c89">但是 </span><code data-lake-id="u09c80f87" id="u09c80f87"><span data-lake-id="u2d23a677" id="u2d23a677">Base b = d;</span></code><span data-lake-id="u21b2a11c" id="u21b2a11c">，这里</span><strong><span data-lake-id="uae419dca" id="uae419dca">发生了对象切割（Slicing）</span></strong><span data-lake-id="uf5621f4e" id="uf5621f4e"> —— 只拷贝了</span><code data-lake-id="u49ead6d7" id="u49ead6d7"><span data-lake-id="u75e4edfa" id="u75e4edfa">Base</span></code><span data-lake-id="u35faa5e4" id="u35faa5e4">部分。</span></li><li fid="ua24dea62" data-lake-id="ufb85bd13" id="ufb85bd13"><code data-lake-id="u6aa8edbe" id="u6aa8edbe"><span data-lake-id="u6e0bb4ac" id="u6e0bb4ac">b</span></code><span data-lake-id="u97448772" id="u97448772"> 是</span><strong><span data-lake-id="u7a9fc570" id="u7a9fc570">Base类型的对象本体</span></strong><span data-lake-id="uf60633ea" id="uf60633ea">，</span><strong><span data-lake-id="ufb5106e5" id="ufb5106e5">不是指针/引用</span></strong><span data-lake-id="u745a3bdd" id="u745a3bdd">。</span></li><li fid="ua24dea62" data-lake-id="u8ef80279" id="u8ef80279"><span data-lake-id="ufee2f243" id="ufee2f243">所以</span><code data-lake-id="ucdbc9fce" id="ucdbc9fce"><span data-lake-id="ufd3870a9" id="ufd3870a9">b.func()</span></code><span data-lake-id="u78b910cc" id="u78b910cc">就直接调用Base的版本（静态绑定），不走虚表！</span></li><li fid="ua24dea62" data-lake-id="u484cdd17" id="u484cdd17"><strong><span data-lake-id="u573d4ea5" id="u573d4ea5">运行结果</span></strong><span data-lake-id="uf8f0d7db" id="uf8f0d7db">：输出</span><code data-lake-id="u8687d63c" id="u8687d63c"><span data-lake-id="u33b54272" id="u33b54272">Base func</span></code><span data-lake-id="ub4922f41" id="ub4922f41">！</span></li></ul><p data-lake-id="uc687aca8" id="uc687aca8"><span data-lake-id="u4977c2bd" id="u4977c2bd">❌</span><span data-lake-id="u48492fd9" id="u48492fd9"> </span><strong><span data-lake-id="ud6be07e6" id="ud6be07e6">跟调用对象的静态类型有关</span></strong><span data-lake-id="u2f5b0999" id="u2f5b0999">！</span></p><card type="block" name="hr" value="data:%7B%22id%22%3A%22VPqMV%22%7D"></card><p data-lake-id="u53aabe28" id="u53aabe28"><strong><span data-lake-id="u4a3215f6" id="u4a3215f6" class="lake-fontsize-12" style="color: rgb(119,119,119)">​</span></strong><br></p><p data-lake-id="u81da8f56" id="u81da8f56"><strong><span data-lake-id="u49990f21" id="u49990f21" class="lake-fontsize-12" style="color: rgb(119,119,119)">虚函数重写的两个例外： </span></strong></p><p data-lake-id="ude02db2f" id="ude02db2f"><span data-lake-id="u0b0726d4" id="u0b0726d4" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><strong><span data-lake-id="u78616c29" id="u78616c29" class="lake-fontsize-12" style="color: #DF2A3F">协变</span></strong><strong><span data-lake-id="u1127e402" id="u1127e402" class="lake-fontsize-12" style="color: rgb(119,119,119)">(基类与派生类虚函数</span></strong><strong><span style="color: rgb(119,119,119)"><u><span data-lake-id="uccd92d4e" id="uccd92d4e" class="lake-fontsize-12">返回值类型不同</span></u></span></strong><strong><span data-lake-id="ueeee6aa1" id="ueeee6aa1" class="lake-fontsize-12" style="color: rgb(119,119,119)">)</span></strong></p><p data-lake-id="u670d375e" id="u670d375e"><span data-lake-id="u76f5a6fc" id="u76f5a6fc" class="lake-fontsize-12" style="color: rgb(119,119,119)">派生类重写基类虚函数时，与基类虚函数</span><span style="color: rgb(119,119,119)"><u><span data-lake-id="ub2ec60ee" id="ub2ec60ee" class="lake-fontsize-12">返回值类型</span></u></span><span data-lake-id="ue9e71264" id="ue9e71264" class="lake-fontsize-12" style="color: rgb(119,119,119)">不同。即基类虚函数返回基类对象的指针或者引用，派生类虚函数返回派生类对象的指针或者引用时，称为协变。（了解）</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20A%7B%7D%3B%5Cnclass%20B%20%3A%20public%20A%20%7B%7D%3B%5Cnclass%20Person%20%7B%5Cnpublic%3A%5Cn%20virtual%20A*%20f()%20%7Breturn%20new%20A%3B%7D%5Cn%7D%3B%5Cnclass%20Student%20%3A%20public%20Person%20%7B%5Cnpublic%3A%5Cn%20virtual%20B*%20f()%20%7Breturn%20new%20B%3B%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22FGO0v%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u678d0dea" id="u678d0dea"><span data-lake-id="u5343db48" id="u5343db48" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><strong><span data-lake-id="u1b3af7a9" id="u1b3af7a9" class="lake-fontsize-12" style="color: rgb(119,119,119)">析构函数的重写</span></strong><strong><span data-lake-id="u8c9a334e" id="u8c9a334e" class="lake-fontsize-12" style="color: rgb(119,119,119)">(</span></strong><strong><span data-lake-id="uf9469829" id="uf9469829" class="lake-fontsize-12" style="color: rgb(119,119,119)">基类与派生类析构函数的名字不同</span></strong><strong><span data-lake-id="u05f5edba" id="u05f5edba" class="lake-fontsize-12" style="color: rgb(119,119,119)">) </span></strong></p><p data-lake-id="u04681e80" id="u04681e80"><span data-lake-id="uce9c7d23" id="uce9c7d23" class="lake-fontsize-12" style="color: rgb(119,119,119)">如果基类的析构函数为虚函数，此时派生类析构函数只要定义，无论是否加virtual关键字，都与基类的析构函数构成重写，虽然基类与派生类析构函数名字不同。虽然函数名不相同，看起来违背了重写的规则，其实不然，这里可以理解为编译器对析构函数的名称做了特殊处理，编译后析构函数的名称统一处理成destructor。</span></p><p data-lake-id="ue11fab1e" id="ue11fab1e"><span data-lake-id="ufa86936e" id="ufa86936e" class="lake-fontsize-12" style="color: rgb(119,119,119)">￥记住：</span><strong><span data-lake-id="uf95d9aef" id="uf95d9aef" class="lake-fontsize-12" style="color: rgb(119,119,119)">子类析构会先析构子类自己，然后再去析构父类的析构函数</span></strong></p><article data-lake-id="u4f11b66e" id="u4f11b66e" class="lake-columns"><article data-lake-id="u0e471ac6" id="u0e471ac6" class="lake-column-item" style="width: 50.000000%"><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%201%20%E6%97%A0virtual%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Person%20%7B%5Cnpublic%3A%5Cn~Person()%20%7Bcout%20%3C%3C%20%5C%22~Person()%5C%22%20%3C%3C%20endl%3B%7D%5Cn%7D%3B%5Cnclass%20Student%20%3A%20public%20Person%20%7B%5Cnpublic%3A%5Cn~Student()%20%7B%20cout%20%3C%3C%20%5C%22~Student()%5C%22%20%3C%3C%20endl%3B%20%7D%5Cn%7D%3B%5Cn%2F%2F%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0%E5%90%8D%E4%BC%9A%E8%A2%AB%E5%A4%84%E7%90%86%E6%88%90destructor%5Cn%5Cn%2F%2F%20%E5%8F%AA%E6%9C%89%E6%B4%BE%E7%94%9F%E7%B1%BBStudent%E7%9A%84%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E9%87%8D%E5%86%99%E4%BA%86Person%E7%9A%84%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%EF%BC%8C%E4%B8%8B%E9%9D%A2%E7%9A%84delete%E5%AF%B9%E8%B1%A1%E8%B0%83%E7%94%A8%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%EF%BC%8C%E6%89%8D%E8%83%BD%E6%9E%84%E6%88%90%E5%A4%9A%E6%80%81%EF%BC%8C%E6%89%8D%E8%83%BD%E4%BF%9D%E8%AF%81p1%E5%92%8Cp2%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%AD%A3%E7%A1%AE%E7%9A%84%E8%B0%83%E7%94%A8%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E3%80%82%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20%20Person*%20p1%20%3D%20new%20Person%3B%5Cn%20%20%20%20delete%20p1%3B%5Cn%20%20%20%20%5Cn%20%20%20%20%20Person*%20p2%20%3D%20new%20Student%3B%5Cn%20%20%20%20delete%20p2%3B%5Cn%20%20%20%20%2F%2F%E4%B8%8D%E6%9E%84%E6%88%90%E5%A4%9A%E6%80%81%EF%BC%9A%5Cn%20%20%20%20%2F%2F%E8%B0%83%E7%94%A8%E7%9A%84%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B%E6%98%AF%E6%98%AF%E8%B0%81%E5%B0%B1%E8%B0%83%E7%94%A8%E8%B0%81%E7%9A%84%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%201%20%E6%97%A0virtual%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22EZoSh%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></article><article data-lake-id="uf2d31df7" id="uf2d31df7" class="lake-column-item" style="width: 50.000000%"><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%202%20%E6%9C%89virtual%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Person%20%7B%5Cnpublic%3A%5Cn%20virtual%20~Person()%20%7Bcout%20%3C%3C%20%5C%22~Person()%5C%22%20%3C%3C%20endl%3B%7D%5Cn%7D%3B%5Cnclass%20Student%20%3A%20public%20Person%20%7B%5Cnpublic%3A%5Cn%20virtual%20~Student()%20%7B%20cout%20%3C%3C%20%5C%22~Student()%5C%22%20%3C%3C%20endl%3B%20%7D%5Cn%7D%3B%2F%2F%E5%AD%90%E7%B1%BBvirtual%E5%8F%AF%E4%B8%8D%E5%86%99%5Cn%2F%2F%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0%E5%90%8D%E4%BC%9A%E8%A2%AB%E5%A4%84%E7%90%86%E6%88%90destructor%5Cn%5Cn%2F%2F%20%E5%8F%AA%E6%9C%89%E6%B4%BE%E7%94%9F%E7%B1%BBStudent%E7%9A%84%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E9%87%8D%E5%86%99%E4%BA%86Person%E7%9A%84%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%EF%BC%8C%E4%B8%8B%E9%9D%A2%E7%9A%84delete%E5%AF%B9%E8%B1%A1%E8%B0%83%E7%94%A8%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%EF%BC%8C%E6%89%8D%E8%83%BD%E6%9E%84%E6%88%90%E5%A4%9A%E6%80%81%EF%BC%8C%E6%89%8D%E8%83%BD%E4%BF%9D%E8%AF%81p1%E5%92%8Cp2%E6%8C%87%E5%90%91%E7%9A%84%E5%AF%B9%E8%B1%A1%E6%AD%A3%E7%A1%AE%E7%9A%84%E8%B0%83%E7%94%A8%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%E3%80%82%5Cnint%20main()%5Cn%7B%5Cn%20%20%20%20%20Person*%20p1%20%3D%20new%20Person%3B%5Cn%20%20%20%20delete%20p1%3B%5Cn%20%20%20%20%5Cn%20%20%20%20%20Person*%20p2%20%3D%20new%20Student%3B%5Cn%20%20%20%20delete%20p2%3B%5Cn%20%20%20%20%2F%2F%E6%9E%84%E6%88%90%E5%A4%9A%E6%80%81%EF%BC%9A%5Cn%20%20%20%20%2F%2F%E8%B0%83%E7%94%A8%E7%9A%84%E6%8C%87%E9%92%88%E6%8C%87%E5%90%91%E8%B0%81%E5%B0%B1%E8%B0%83%E7%94%A8%E8%B0%81%E7%9A%84%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%202%20%E6%9C%89virtual%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22JWhKG%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></article></article><p data-lake-id="u92224051" id="u92224051"><span data-lake-id="udd889fc3" id="udd889fc3" class="lake-fontsize-12">面试题：析构函数是否需要定义成虚函数？</span></p><p data-lake-id="u532d4a48" id="u532d4a48"><span data-lake-id="ub33f3f00" id="ub33f3f00" class="lake-fontsize-12">  </span></p><h4 data-lake-id="xZzJB" id="xZzJB"><span data-lake-id="u590eb55c" id="u590eb55c" style="color: rgb(51,51,51)">2.4 C++11 override 和 final </span></h4><p data-lake-id="uffb774f6" id="uffb774f6"><span data-lake-id="u9f3a6157" id="u9f3a6157" class="lake-fontsize-12" style="color: rgb(119,119,119)">从上面可以看出，C++对函数重写的要求比较严格，但是有些情况下由于疏忽，可能会导致函数名字母次序写反而无法构成重载，而这种错误在编译期间是不会报出的，只有在程序运行时没有得到预期结果才来debug会得不偿失，因此：C++11提供了override和final两个关键字，可以帮助用户检测是否重写。</span></p><p data-lake-id="uaa3a60a2" id="uaa3a60a2"><span data-lake-id="uc1781e5f" id="uc1781e5f" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><strong><span data-lake-id="uaba9d5cb" id="uaba9d5cb" class="lake-fontsize-12" style="color: rgb(119,119,119)">final：修饰虚函数，表示该虚函数不能再被重写</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Car%5Cn%7B%5Cnpublic%3A%5Cn%20virtual%20void%20Drive()%20final%20%7B%7D%5Cn%7D%3B%5Cnclass%20Benz%20%3Apublic%20Car%5Cn%7B%5Cnpublic%3A%5Cn%20virtual%20void%20Drive()%20%7Bcout%20%3C%3C%20%5C%22Benz-%E8%88%92%E9%80%82%5C%22%20%3C%3C%20endl%3B%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22G10Ro%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u17983f01" id="u17983f01"><span data-lake-id="u69f24f38" id="u69f24f38" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><strong><span data-lake-id="u3a13e2a4" id="u3a13e2a4" class="lake-fontsize-12" style="color: rgb(119,119,119)">override: 检查派生类虚函数是否重写了基类某个虚函数，如果没有重写编译报错。</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Car%7B%5Cnpublic%3A%5Cn%20virtual%20void%20Drive()%7B%7D%5Cn%7D%3B%5Cnclass%20Benz%20%3Apublic%20Car%20%7B%5Cnpublic%3A%5Cn%20virtual%20void%20Drive()%20override%20%7Bcout%20%3C%3C%20%5C%22Benz-%E8%88%92%E9%80%82%5C%22%20%3C%3C%20endl%3B%7D%5Cn%7D%3B%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Pb2tD%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h4 data-lake-id="NkiFl" id="NkiFl"><span data-lake-id="uc670edd6" id="uc670edd6" style="color: rgb(51,51,51)">2.5￥重载、覆盖(重写)、隐藏(重定义)的对比</span></h4><p data-lake-id="u6d8a358f" id="u6d8a358f"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745811175235-dad26721-d39e-43e1-9079-d9fa8e5dddaa.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%221745811001831.png%22%2C%22size%22%3A60815%2C%22from%22%3A%22url%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A452%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22width%22%3A214%2C%22x%22%3A465%2C%22y%22%3A31%2C%22height%22%3A25%2C%22text%22%3A%22%E4%B8%A4%E4%B8%AA%E5%87%BD%E6%95%B0%E5%9C%A8%E5%90%8C%E4%B8%80%E4%BD%9C%E7%94%A8%E5%9F%9F%22%7D%2C%7B%22width%22%3A45%2C%22height%22%3A28%2C%22x%22%3A363%2C%22y%22%3A51%2C%22text%22%3A%22%E9%87%8D%E6%95%99%22%7D%2C%7B%22x%22%3A462%2C%22y%22%3A74%2C%22text%22%3A%22%E5%87%BD%E6%95%B0%E5%90%8D%E5%90%8C%2C%E5%8F%82%E6%95%B0%E4%B8%8D%E5%90%8C%22%2C%22width%22%3A201%2C%22height%22%3A27%7D%2C%7B%22height%22%3A24%2C%22x%22%3A537%2C%22y%22%3A140%2C%22width%22%3A368%2C%22text%22%3A%22%E4%B8%A4%E4%B8%AA%E5%87%BD%E6%95%B0%E5%88%86%E5%88%AB%E5%9C%A8%E5%9F%BA%E7%B1%BB%E5%92%8C%E6%B4%BE%E7%94%9F%E7%B1%BB%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%22%7D%2C%7B%22x%22%3A361%2C%22y%22%3A180%2C%22height%22%3A30%2C%22text%22%3A%22%E9%87%8D%E5%86%99(%E7%9B%96)%22%2C%22width%22%3A122%7D%2C%7B%22x%22%3A537%2C%22y%22%3A185%2C%22width%22%3A411%2C%22text%22%3A%22%E5%9B%BD%E6%95%B0%E5%90%8D%2F%E5%8F%82%E6%95%B0%2F%E8%BF%94%E5%9B%9E%E5%80%BC%E9%83%BD%E5%BF%85%E9%A1%BB%E7%9B%B8%E5%90%8C(%E5%8D%8F%E5%8F%98%E4%BE%8B%E5%A4%96)%22%2C%22height%22%3A27%7D%2C%7B%22x%22%3A58%2C%22height%22%3A32%2C%22y%22%3A191%2C%22text%22%3A%22%E4%B8%89%E4%B8%AA%E6%A6%82%E5%BF%B5%E7%9A%84%E5%AF%B9%E6%AF%94%22%2C%22width%22%3A199%7D%2C%7B%22height%22%3A27%2C%22text%22%3A%22%E4%B8%A4%E4%B8%AA%E5%87%BD%E6%95%B0%E5%BF%85%E9%A1%BB%E6%98%AF%E8%99%9A%E5%87%BD%E6%95%B0%22%2C%22width%22%3A226%2C%22y%22%3A230%2C%22x%22%3A537%7D%2C%7B%22height%22%3A29%2C%22x%22%3A560%2C%22y%22%3A291%2C%22width%22%3A361%2C%22text%22%3A%22%E4%B8%A4%E4%B8%AA%E5%87%BD%E6%95%B0%E5%88%86%E5%88%AB%E5%9C%A8%E5%9F%BA%E7%B1%BB%E5%92%8C%E6%B4%BE%E7%94%9F%E7%B1%BB%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%22%7D%2C%7B%22height%22%3A27%2C%22text%22%3A%22%E9%87%8D%E5%AE%9A%E4%B9%89(%E9%9A%90%E8%97%8F)%22%2C%22x%22%3A363%2C%22y%22%3A336%2C%22width%22%3A142%7D%2C%7B%22width%22%3A113%2C%22x%22%3A557%2C%22y%22%3A341%2C%22text%22%3A%22%E5%87%BD%E6%95%B0%E5%90%8D%E7%9B%B8%E5%90%8C%22%2C%22height%22%3A24%7D%2C%7B%22y%22%3A383%2C%22x%22%3A555%2C%22width%22%3A501%2C%22height%22%3A28%2C%22text%22%3A%22%E4%B8%A4%E4%B8%AA%E5%9F%BA%E7%B1%BB%E5%92%8C%E6%B4%BE%E7%94%9F%E7%B1%BB%E7%9A%84%E5%90%8C%E5%90%8D%E5%87%BD%E6%95%B0%E4%B8%8D%E6%9E%84%E6%88%90%E9%87%8D%E5%86%99%E5%B0%B1%E6%98%AF%E9%87%8D%E5%AE%9A%E4%B9%89%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23f5f5f5%22%2C%22id%22%3A%22Uyn5Y%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" class="lake-fontsize-12"></card></p><h3 data-lake-id="EiDvB" id="EiDvB"><span data-lake-id="ufa9aae5d" id="ufa9aae5d" style="color: rgb(51,51,51)">3. 抽象类 （纯虚函数）</span></h3><h4 data-lake-id="ojXNJ" id="ojXNJ"><span data-lake-id="u4cef523b" id="u4cef523b" style="color: rgb(51,51,51)">3.1 概念 </span></h4><p data-lake-id="uf4530a79" id="uf4530a79"><span data-lake-id="u52d03440" id="u52d03440" class="lake-fontsize-12" style="color: rgb(119,119,119)">在虚函数的后面写上 =0 ，则这个函数为</span><strong><span data-lake-id="u3ac0693f" id="u3ac0693f" class="lake-fontsize-12" style="color: rgb(119,119,119)">纯虚函数</span></strong><span data-lake-id="u0f2a0700" id="u0f2a0700" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span><strong><span data-lake-id="uc9afbcc6" id="uc9afbcc6" class="lake-fontsize-12" style="color: rgb(119,119,119)">包含纯虚函数的类叫做抽象类（也叫接口类），抽象类不能实例化出对象</span></strong><span data-lake-id="uda5076ce" id="uda5076ce" class="lake-fontsize-12" style="color: rgb(119,119,119)">。派生类继承后也不能实例化出对象，只有</span><span style="color: rgb(119,119,119)"><u><span data-lake-id="u8b1472df" id="u8b1472df" class="lake-fontsize-12">重写纯虚函数，派生类才能实例化出对象</span></u></span><span data-lake-id="uf68cebf3" id="uf68cebf3" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span><strong><span data-lake-id="u99650654" id="u99650654" class="lake-fontsize-12" style="color: #DF2A3F">纯虚函数规范了派生类必须重写</span></strong><span data-lake-id="u06a40ff9" id="u06a40ff9" class="lake-fontsize-12" style="color: rgb(119,119,119)">，另外纯虚函数更体现出了接口继承.</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Car%5Cn%7B%5Cnpublic%3A%5Cn%20virtual%20void%20Drive()%20%3D%200%3B%5Cn%7D%3B%5Cn%5Cnclass%20Benz%20%3Apublic%20Car%5Cn%7B%5Cnpublic%3A%5Cn%20virtual%20void%20Drive()%5Cn%20%7B%5Cn%20cout%20%3C%3C%20%5C%22Benz-%E8%88%92%E9%80%82%5C%22%20%3C%3C%20endl%3B%5Cn%20%7D%5Cn%7D%3B%5Cn%5Cnclass%20BMW%20%3Apublic%20Car%5Cn%7B%5Cnpublic%3A%5Cn%20virtual%20void%20Drive()%5Cn%20%7B%5Cn%20cout%20%3C%3C%20%5C%22BMW-%E6%93%8D%E6%8E%A7%5C%22%20%3C%3C%20endl%3B%5Cn%20%7D%5Cn%7D%3B%5Cn%5Cnvoid%20Test()%5Cn%7B%5Cn%20Car*%20pBenz%20%3D%20new%20Benz%3B%5Cn%20pBenz-%3EDrive()%3B%5Cn%20Car*%20pBMW%20%3D%20new%20BMW%3B%5Cn%20%20%20%20pBMW-%3EDrive()%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22FyFA2%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h4 data-lake-id="wXaFi" id="wXaFi"><span data-lake-id="uab0231a0" id="uab0231a0" style="color: rgb(51,51,51)">3.2 接口继承和实现继承 </span></h4><p data-lake-id="u535a08a0" id="u535a08a0"><span data-lake-id="u56d30b57" id="u56d30b57" class="lake-fontsize-12" style="color: rgb(119,119,119)">普通函数的继承是一种实现继承，派生类继承了基类函数，可以使用函数，继承的是函数的实现。虚函数的继承是一种接口继承，派生类继承的是基类虚函数的接口，</span><strong><span style="color: rgb(119,119,119)"><u><span data-lake-id="uadd2369f" id="uadd2369f" class="lake-fontsize-12">目的是为了重写，达成多态</span></u></span></strong><span style="color: rgb(119,119,119)"><u><span data-lake-id="u9695d893" id="u9695d893" class="lake-fontsize-12">，</span></u></span><span style="color: rgb(119,119,119)"><u><strong><span data-lake-id="u91bdce86" id="u91bdce86" class="lake-fontsize-12">继承的是接口。</span></strong></u></span><span data-lake-id="ub20d7bb3" id="ub20d7bb3" class="lake-fontsize-12" style="color: rgb(119,119,119)">所以如果不实现多态，不要把函数定义成虚函数。</span></p><h3 data-lake-id="nkv9y" id="nkv9y"><span data-lake-id="u3e4a6a8a" id="u3e4a6a8a" style="color: rgb(51,51,51)">4.多态的原理 </span></h3><h4 data-lake-id="DOrxj" id="DOrxj"><span data-lake-id="uc584867a" id="uc584867a" style="color: rgb(51,51,51)">4.1虚函数表</span></h4><p data-lake-id="u4adf8468" id="u4adf8468"><strong><span data-lake-id="ud6edfd02" id="ud6edfd02" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">虚函数表其实就是一个指针数组（虚函数指针）</span></strong></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20%E8%BF%99%E9%87%8C%E5%B8%B8%E8%80%83%E4%B8%80%E9%81%93%E7%AC%94%E8%AF%95%E9%A2%98%EF%BC%9Asizeof(Base)%E6%98%AF%E5%A4%9A%E5%B0%91%EF%BC%9F%5Cnclass%20Base%5Cn%7B%5Cnpublic%3A%5Cn%20virtual%20void%20Func1()%5Cn%20%7B%5Cn%20cout%20%3C%3C%20%5C%22Func1()%5C%22%20%3C%3C%20endl%3B%5Cn%20%7D%5Cnprivate%3A%5Cn%20int%20_b%20%3D%201%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22ZiiYD%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u39d19691" id="u39d19691"><span data-lake-id="u5def1d74" id="u5def1d74" class="lake-fontsize-12" style="color: rgb(119,119,119)">通过观察测试我们发现b对象是8bytes，</span><strong><span data-lake-id="u78adcda5" id="u78adcda5" class="lake-fontsize-12" style="color: rgb(119,119,119)">除了_b成员，还多一个__vfptr放在对象的前面(注意有些平台可能会放到对象的最后面，这个跟平台有关)，对象中的这个指针我们叫做虚函数表指针(v代表virtual，f代表function)</span></strong><span data-lake-id="u27849860" id="u27849860" class="lake-fontsize-12" style="color: rgb(119,119,119)">。一个含有虚函数的类中都至少都有一个虚函数表指针，因为</span><span style="color: rgb(119,119,119)"><u><span data-lake-id="u3ead293b" id="u3ead293b" class="lake-fontsize-12">虚函数的地址要被放到虚函数表</span></u></span><span data-lake-id="u36fd0a8e" id="u36fd0a8e" class="lake-fontsize-12" style="color: rgb(119,119,119)">中，虚函数表也简称虚表。那么派生类中这个表放了些什么呢？我们接着往下分析</span></p><p data-lake-id="u842ee362" id="u842ee362"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745666037483-a7466cda-698b-44ec-939f-600745111000.png%22%2C%22taskId%22%3A%22uc8c323ee-f8dd-4d89-8dea-3ecaf7c204f%22%2C%22clientId%22%3A%22u31c019b1-595b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.4285714285714%2C%22height%22%3A124%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A942721%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A217%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22INT%20MAIN%20%E7%9B%91%E8%A7%861%20%E5%90%8D%E7%A7%B0%20LB-1)%20BASE%20B%3B%20VFPTR%20OX00E4DC80(CLASS_OBJECT.EXE!CONST%20BASE%3A%3A'VFTABLE'%20RETURN%201%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A11%2C%22y%22%3A10%2C%22width%22%3A114%2C%22height%22%3A22%2C%22text%22%3A%22INT%20MAIN%22%7D%2C%7B%22x%22%3A264%2C%22y%22%3A24%2C%22width%22%3A43%2C%22height%22%3A16%2C%22text%22%3A%22%E7%9B%91%E8%A7%861%22%7D%2C%7B%22x%22%3A277%2C%22y%22%3A49%2C%22width%22%3A32%2C%22height%22%3A17%2C%22text%22%3A%22%E5%90%8D%E7%A7%B0%22%7D%2C%7B%22x%22%3A493%2C%22y%22%3A79%2C%22width%22%3A87%2C%22height%22%3A29%2C%22text%22%3A%22LB-1)%22%7D%2C%7B%22x%22%3A61%2C%22y%22%3A79%2C%22width%22%3A107%2C%22height%22%3A28%2C%22text%22%3A%22BASE%20B%3B%22%7D%2C%7B%22x%22%3A394%2C%22y%22%3A118%2C%22width%22%3A59%2C%22height%22%3A27%2C%22text%22%3A%22VFPTR%22%7D%2C%7B%22x%22%3A492%2C%22y%22%3A118%2C%22width%22%3A585%2C%22height%22%3A25%2C%22text%22%3A%22OX00E4DC80(CLASS_OBJECT.EXE!CONST%20BASE%3A%3A'VFTABLE'%22%7D%2C%7B%22x%22%3A63%2C%22y%22%3A155%2C%22width%22%3A99%2C%22height%22%3A24%2C%22text%22%3A%22RETURN%22%7D%2C%7B%22x%22%3A493%2C%22y%22%3A159%2C%22width%22%3A19%2C%22height%22%3A23%2C%22text%22%3A%221%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23e6e5e1%22%2C%22id%22%3A%22u888e6e83%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20%E9%92%88%E5%AF%B9%E4%B8%8A%E9%9D%A2%E7%9A%84%E4%BB%A3%E7%A0%81%E6%88%91%E4%BB%AC%E5%81%9A%E5%87%BA%E4%BB%A5%E4%B8%8B%E6%94%B9%E9%80%A0%5Cn%2F%2F%201.%E6%88%91%E4%BB%AC%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AA%E6%B4%BE%E7%94%9F%E7%B1%BBDerive%E5%8E%BB%E7%BB%A7%E6%89%BFBase%5Cn%2F%2F%202.Derive%E4%B8%AD%E9%87%8D%E5%86%99Func1%5Cn%2F%2F%203.Base%E5%86%8D%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0Func2%E5%92%8C%E4%B8%80%E4%B8%AA%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0Func3%5Cnclass%20Base%5Cn%7B%5Cnpublic%3A%5Cn%20virtual%20void%20Func1()%5Cn%20%7B%5Cn%20cout%20%3C%3C%20%5C%22Base%3A%3AFunc1()%5C%22%20%3C%3C%20endl%3B%5Cn%20%7D%5Cn%20virtual%20void%20Func2()%5Cn%20%7B%5Cn%20%20%20cout%20%3C%3C%20%5C%22Base%3A%3AFunc2()%5C%22%20%3C%3C%20endl%3B%5Cn%20%7D%5Cn%20void%20Func3()%5Cn%20%7B%5Cn%20cout%20%3C%3C%20%5C%22Base%3A%3AFunc3()%5C%22%20%3C%3C%20endl%3B%5Cn%20%7D%5Cnprivate%3A%5Cn%20int%20_b%20%3D%201%3B%5Cn%7D%3B%5Cnclass%20Derive%20%3A%20public%20Base%5Cn%7B%5Cnpublic%3A%5Cn%20virtual%20void%20Func1()%5Cn%20%7B%5Cn%20cout%20%3C%3C%20%5C%22Derive%3A%3AFunc1()%5C%22%20%3C%3C%20endl%3B%5Cn%20%7D%5Cnprivate%3A%5Cn%20int%20_d%20%3D%202%3B%5Cn%7D%3B%5Cnint%20main()%5Cn%7B%5Cn%20Base%20b%3B%5Cn%20Derive%20d%3B%5Cn%20return%200%3B%5Cn%7D%5Cn%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Atrue%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22UMcUE%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ud6a5ef5b" id="ud6a5ef5b"><span data-lake-id="uaf406d95" id="uaf406d95" class="lake-fontsize-12" style="color: rgb(119,119,119)">通过观察和测试，我们发现了以下几点问题： </span></p><p data-lake-id="ud14e887b" id="ud14e887b"><span data-lake-id="uc32cc962" id="uc32cc962" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. 派生类对象d中也有一个虚表指针，d对象由两部分构成，一部分是父类继承下来的成员，虚表指针也就是存在部分的另一部分是自己的成员。 </span></p><p data-lake-id="u2e0e5af5" id="u2e0e5af5"><span data-lake-id="ud343d190" id="ud343d190" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 基类b对象和派生类d对象虚表是不一样的，这里我们发现</span><strong><span data-lake-id="u04d8b254" id="u04d8b254" class="lake-fontsize-12" style="color: rgb(119,119,119)">Func1完成了重写，所以d的虚表中存的是重写的Derive::Func1，所以虚函数的重写也叫作覆盖</span></strong><span data-lake-id="u042ccf9d" id="u042ccf9d" class="lake-fontsize-12" style="color: rgb(119,119,119)">，覆盖就是指虚表中虚函数的覆盖。重写是语法的叫法，覆盖是原理层的叫法。 </span></p><p data-lake-id="uc38d1366" id="uc38d1366"><span data-lake-id="u7e795892" id="u7e795892" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. 另外Func2继承下来后是虚函数，所以放进了虚表，Func3也继承下来了，但是不是虚函数，所以不会放进虚表。</span></p><p data-lake-id="ubcdec019" id="ubcdec019"><span data-lake-id="u5ef5a63b" id="u5ef5a63b" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. 虚函数表本质是一个</span><strong><span style="color: rgb(119,119,119)"><u><span data-lake-id="u642d26d5" id="u642d26d5" class="lake-fontsize-12">存虚函数指针的指针数组</span></u></span></strong><span data-lake-id="u4cb543a7" id="u4cb543a7" class="lake-fontsize-12" style="color: rgb(119,119,119)">，一般情况这个数组最后面放了一个nullptr。 </span></p><p data-lake-id="ub22a5417" id="ub22a5417"><span data-lake-id="u429e1137" id="u429e1137" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. 总结一下派生类的虚表生成：a.先将基类中的虚表内容拷贝一份到派生类虚表中 b.如果派生类重写了基类中某个虚函数，</span><span style="color: rgb(119,119,119)"><u><span data-lake-id="u32082494" id="u32082494" class="lake-fontsize-12">用派生类自己的虚函数覆盖虚表中基类的虚函数</span></u></span><span data-lake-id="uc1f6a6f2" id="uc1f6a6f2" class="lake-fontsize-12" style="color: rgb(119,119,119)"> c.派生类自己新增加的虚函数按其在派生类中的声明次序增加到派生类虚表的最后。 </span></p><p data-lake-id="u66cdd8da" id="u66cdd8da"><span data-lake-id="ue440ca92" id="ue440ca92" class="lake-fontsize-12" style="color: rgb(119,119,119)">6. 这里还有一个童鞋们很容易混淆的问题：</span><strong><span data-lake-id="ud8040108" id="ud8040108" class="lake-fontsize-12" style="color: rgb(119,119,119)">虚函数存在哪的？虚表存在哪的？ 答：</span></strong><span data-lake-id="u0d4391d2" id="u0d4391d2" class="lake-fontsize-12" style="color: rgb(119,119,119)">虚函数存在虚表，虚表存在对象中</span><strong><span data-lake-id="uf6223262" id="uf6223262" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></strong><strong><span data-lake-id="ud223955f" id="ud223955f" class="lake-fontsize-12" style="color: #ED740C">注意上面的回答的错的</span></strong><span data-lake-id="u28ed8459" id="u28ed8459" class="lake-fontsize-12" style="color: #ED740C">。</span><span data-lake-id="u85d0e6ff" id="u85d0e6ff" class="lake-fontsize-12" style="color: rgb(119,119,119)">但是很多童鞋都是这样深以为然的。注意</span><strong><span style="color: rgb(119,119,119)"><u><span data-lake-id="ud8de8d5a" id="ud8de8d5a" class="lake-fontsize-12">虚表存的是虚函数指针，不是虚函数</span></u></span></strong><span style="color: rgb(119,119,119)"><u><span data-lake-id="u5ab57e90" id="u5ab57e90" class="lake-fontsize-12">，虚函数和普通函数一样的，都是存在</span></u></span><span style="color: #DF2A3F"><u><strong><span data-lake-id="ud68be8f3" id="ud68be8f3" class="lake-fontsize-12">代码段</span></strong></u></span><span style="color: rgb(119,119,119)"><u><span data-lake-id="ue8789667" id="ue8789667" class="lake-fontsize-12">的，只是他的指针又存到了虚表中</span></u></span><span data-lake-id="u6b7cc145" id="u6b7cc145" class="lake-fontsize-12" style="color: rgb(119,119,119)">。另外</span><strong><span data-lake-id="u3a81729d" id="u3a81729d" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象中</span></strong><span data-lake-id="u0e3a942d" id="u0e3a942d" class="lake-fontsize-12" style="color: rgb(119,119,119)">存的不是虚表，</span><strong><span data-lake-id="u4481403a" id="u4481403a" class="lake-fontsize-12" style="color: rgb(119,119,119)">存的是虚表指针</span></strong><span data-lake-id="ue8bc0f11" id="ue8bc0f11" class="lake-fontsize-12" style="color: rgb(119,119,119)">。那么</span><strong><span data-lake-id="ud0c07b79" id="ud0c07b79" class="lake-fontsize-12" style="color: rgb(119,119,119)">虚表存在哪的呢？实际我们去验证一下会发现vs下是存在</span></strong><strong><span data-lake-id="ufdad3b21" id="ufdad3b21" class="lake-fontsize-12" style="color: #DF2A3F">代码段</span></strong><strong><span data-lake-id="u77f9f025" id="u77f9f025" class="lake-fontsize-12" style="color: rgb(119,119,119)">的，Linux g++下大家自己去验证？</span></strong></p><p data-lake-id="ua6fd16ea" id="ua6fd16ea"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745666169207-e88b19c5-8963-4b36-9ea3-a294b42c547b.png%22%2C%22taskId%22%3A%22u85e5cb63-d32a-420e-bae4-a8f9fb04903%22%2C%22clientId%22%3A%22u31c019b1-595b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A617.7142857142857%2C%22height%22%3A359%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A2724908%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1081%2C%22originHeight%22%3A629%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%9B%91%E8%A7%86%20%E5%90%8D%E7%A7%B0%20LB1%7D%20OXO00DDC90%7BCLASS_OBJECT.EXE!CONST%20BASE%3A%3A'VFTABLE%5C%22%5B0X%20VFPTR%20OX000D14D8(CLASS_OBJECT.EXE!BASE%3A%3AFUNC1(VOID)%5D%20%5BO%5D%20OX000D14EC%7BCLASS_OBJECT.EXE!BASE%3A%3AFUNC2(VOID)%5D%20%5B1%5D%20R%20LD2%5D%20LB1%7D%20BASE%20OX000DDD3C%7BCLASS_OBJECT.EXE!CONST%20DERIVE%3A%3AVFTABLE%5C%22%20VFPTR%20OX000D14E7%7BCLASS_OBJECT.EXE!DERIVE%3A%3AFUNC1(VOID)%5D%20%5BO%5D%20OX000D14EC(CLASS_OBJECT.EXE!BASE%3A%3AFUNC2(VOID)%5D%20%5B1%5D%20B%202%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A3%2C%22y%22%3A9%2C%22width%22%3A42%2C%22height%22%3A19%2C%22text%22%3A%22%E7%9B%91%E8%A7%86%22%7D%2C%7B%22x%22%3A18%2C%22y%22%3A41%2C%22width%22%3A37%2C%22height%22%3A18%2C%22text%22%3A%22%E5%90%8D%E7%A7%B0%22%7D%2C%7B%22x%22%3A305%2C%22y%22%3A76%2C%22width%22%3A104%2C%22height%22%3A32%2C%22text%22%3A%22LB1%7D%22%7D%2C%7B%22x%22%3A305%2C%22y%22%3A122%2C%22width%22%3A773%2C%22height%22%3A33%2C%22text%22%3A%22OXO00DDC90%7BCLASS_OBJECT.EXE!CONST%20BASE%3A%3A'VFTABLE%5C%22%5B0X%22%7D%2C%7B%22x%22%3A159%2C%22y%22%3A124%2C%22width%22%3A71%2C%22height%22%3A29%2C%22text%22%3A%22VFPTR%22%7D%2C%7B%22x%22%3A304%2C%22y%22%3A160%2C%22width%22%3A701%2C%22height%22%3A47%2C%22text%22%3A%22OX000D14D8(CLASS_OBJECT.EXE!BASE%3A%3AFUNC1(VOID)%5D%22%7D%2C%7B%22x%22%3A183%2C%22y%22%3A170%2C%22width%22%3A35%2C%22height%22%3A32%2C%22text%22%3A%22%5BO%5D%22%7D%2C%7B%22x%22%3A304%2C%22y%22%3A213%2C%22width%22%3A695%2C%22height%22%3A36%2C%22text%22%3A%22OX000D14EC%7BCLASS_OBJECT.EXE!BASE%3A%3AFUNC2(VOID)%5D%22%7D%2C%7B%22x%22%3A183%2C%22y%22%3A217%2C%22width%22%3A36%2C%22height%22%3A30%2C%22text%22%3A%22%5B1%5D%22%7D%2C%7B%22x%22%3A155%2C%22y%22%3A220%2C%22width%22%3A15%2C%22height%22%3A18%2C%22text%22%3A%22R%22%7D%2C%7B%22x%22%3A304%2C%22y%22%3A308%2C%22width%22%3A106%2C%22height%22%3A36%2C%22text%22%3A%22LD2%5D%22%7D%2C%7B%22x%22%3A306%2C%22y%22%3A354%2C%22width%22%3A104%2C%22height%22%3A37%2C%22text%22%3A%22LB1%7D%22%7D%2C%7B%22x%22%3A137%2C%22y%22%3A358%2C%22width%22%3A65%2C%22height%22%3A26%2C%22text%22%3A%22BASE%22%7D%2C%7B%22x%22%3A304%2C%22y%22%3A399%2C%22width%22%3A746%2C%22height%22%3A34%2C%22text%22%3A%22OX000DDD3C%7BCLASS_OBJECT.EXE!CONST%20DERIVE%3A%3AVFTABLE%5C%22%22%7D%2C%7B%22x%22%3A206%2C%22y%22%3A403%2C%22width%22%3A71%2C%22height%22%3A29%2C%22text%22%3A%22VFPTR%22%7D%2C%7B%22x%22%3A306%2C%22y%22%3A443%2C%22width%22%3A722%2C%22height%22%3A39%2C%22text%22%3A%22OX000D14E7%7BCLASS_OBJECT.EXE!DERIVE%3A%3AFUNC1(VOID)%5D%22%7D%2C%7B%22x%22%3A227%2C%22y%22%3A449%2C%22width%22%3A40%2C%22height%22%3A31%2C%22text%22%3A%22%5BO%5D%22%7D%2C%7B%22x%22%3A306%2C%22y%22%3A487%2C%22width%22%3A694%2C%22height%22%3A43%2C%22text%22%3A%22OX000D14EC(CLASS_OBJECT.EXE!BASE%3A%3AFUNC2(VOID)%5D%22%7D%2C%7B%22x%22%3A231%2C%22y%22%3A496%2C%22width%22%3A34%2C%22height%22%3A32%2C%22text%22%3A%22%5B1%5D%22%7D%2C%7B%22x%22%3A194%2C%22y%22%3A539%2C%22width%22%3A22%2C%22height%22%3A31%2C%22text%22%3A%22B%22%7D%2C%7B%22x%22%3A305%2C%22y%22%3A587%2C%22width%22%3A22%2C%22height%22%3A32%2C%22text%22%3A%222%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23e3e8e2%22%2C%22id%22%3A%22u81bbdc9d%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="ubc792754" id="ubc792754"><span style="color: #DF2A3F"><u><strong><span data-lake-id="uec8e425a" id="uec8e425a">派生类拷贝了父类的虚表，对重写的部分进行覆盖</span></strong></u></span></p><p data-lake-id="u8dc58002" id="u8dc58002"><strong><span data-lake-id="u891dd6d2" id="u891dd6d2">​</span></strong><br></p><p data-lake-id="u1f00ce1a" id="u1f00ce1a"><strong><span data-lake-id="uc67dc011" id="uc67dc011">面试概念问题：</span></strong></p><p data-lake-id="udccd7234" id="udccd7234"><span data-lake-id="uad069e9b" id="uad069e9b">1.虚函数存在哪？		--代码段</span></p><p data-lake-id="u1c10ee87" id="u1c10ee87"><span data-lake-id="uccc4950c" id="uccc4950c">2.虚函数表(虚表)存在哪？	--代码段(常量区)</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%20%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cn%5Cn%2F%2F%20%E9%92%88%E5%AF%B9%E4%B8%8A%E9%9D%A2%E7%9A%84%E4%BB%A3%E7%A0%81%E6%88%91%E4%BB%AC%E5%81%9A%E5%87%BA%E4%BB%A5%E4%B8%8B%E6%94%B9%E9%80%A0%5Cn%2F%2F%201.%E6%88%91%E4%BB%AC%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AA%E6%B4%BE%E7%94%9F%E7%B1%BBDerive%E5%8E%BB%E7%BB%A7%E6%89%BFBase%5Cn%2F%2F%202.Derive%E4%B8%AD%E9%87%8D%E5%86%99Func1%5Cn%2F%2F%203.Base%E5%86%8D%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0Func2%E5%92%8C%E4%B8%80%E4%B8%AA%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0Func3%5Cnclass%20Base%5Cn%7B%5Cnpublic%3A%5Cn%5Ctvirtual%20void%20Func1()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Base%3A%3AFunc1()%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%5Ctvirtual%20void%20Func2()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Base%3A%3AFunc2()%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cn%5Ctvoid%20Func3()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Base%3A%3AFunc3()%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cnprivate%3A%5Cn%5Ctint%20_b%20%3D%201%3B%5Cn%7D%3B%5Cnclass%20Derive%20%3A%20public%20Base%5Cn%7B%5Cnpublic%3A%5Cn%5Ctvirtual%20void%20Func1()%5Cn%5Ct%7B%5Cn%5Ct%5Ctcout%20%3C%3C%20%5C%22Derive%3A%3AFunc1()%5C%22%20%3C%3C%20endl%3B%5Cn%5Ct%7D%5Cnprivate%3A%5Cn%5Ctint%20_d%20%3D%202%3B%5Cn%7D%3B%5Cn%5Cnvoid%20func()%5Cn%7B%5Cn%5CtBase%20b1%3B%5Cn%5Ctprintf(%5C%22vtfptr%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3A%25p%5C%5Cn%5C%22%2C%20*(int*)%26b1)%3B%5Cn%5Ct%2F%2Fprintf(%5C%22vtfptr%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3A%25p%5C%5Cn%5C%22%2C%20(int)b1)%3B%2F%2F%E7%9B%B4%E6%8E%A5%E8%BD%AC%E8%AF%AD%E6%B3%95%E4%B8%8D%E6%8E%A5%E5%8F%97%EF%BC%8C%E8%BF%99%E9%87%8C%E7%94%A8%E6%8C%87%E9%92%88%E8%BD%AC%EF%BC%8C%E5%86%8D%E8%A7%A3%E5%BC%95%E7%94%A8%5Cn%5Cn%5Ctint%20i%20%3D%200%3B%5Cn%5Ctint*%20p1%20%3D%20%26i%3B%5Cn%5Ctint*%20p2%20%3D%20new%20int%3B%5Cn%5Ctconst%20char*%20p3%20%3D%20%5C%22hello%5C%22%3B%5Cn%5Ctprintf(%5C%22%E6%A0%88%E5%8F%98%E9%87%8F%3A%25p%5C%5Cn%5C%22%2C%20p1)%3B%5Cn%5Ctprintf(%5C%22%E5%A0%86%E5%8F%98%E9%87%8F%3A%25p%5C%5Cn%5C%22%2C%20p2)%3B%5Cn%5Ctprintf(%5C%22%E4%BB%A3%E7%A0%81%E6%AE%B5%E5%B8%B8%E9%87%8F%3A%25p%5C%5Cn%5C%22%2C%20p3)%3B%5Cn%5Ctprintf(%5C%22%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A%25p%5C%5Cn%5C%22%2C%20%26Base%3A%3AFunc1)%3B%5Cn%5Ctprintf(%5C%22%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A%25p%5C%5Cn%5C%22%2C%20func)%3B%5Cn%7D%5Cnint%20main()%5Cn%7B%5Cn%5Ctfunc()%3B%5Cn%5Ctreturn%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22iNyfQ%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ud16252d1" id="ud16252d1"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745994998061-3c488a4f-29ec-42b7-a8f6-e08587ac3e31.png%22%2C%22taskId%22%3A%22u080be912-df6b-4804-9089-a07dc7aacbd%22%2C%22clientId%22%3A%22ue9977e90-ae35-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A716.5714285714286%2C%22height%22%3A292%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A178198%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1254%2C%22originHeight%22%3A511%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22FUNCO%20VOID%20BASE%20B1%20%3B%20PRINTF(%5C%22VTFPTR%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3A%25P%5C%5CN%5C%22%2C*(INT*%26B1)%3B%20%2F%2FPRINTF(%5C%22VTFPTY%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3A%E5%90%8DP%2FN%5C%22%2C(INT)B1)%3B%2F%2F%E7%9B%B4%E6%8E%A5%E8%BD%AC%E8%AF%AD%E6%B3%95%E4%B8%8D%E6%8E%A5%E5%8F%97%2C%E8%BF%99%E9%87%8C%E7%94%A8%E6%8C%87%E9%92%88%E8%BD%AC%2C%E5%86%8D%E8%A7%A3%E5%BC%95%E7%94%A8%20INT%20I%20%3A%200%3B%20INT*%20P1%20%26I%3B%20MICROSOFT%20VISUAL%20STUDIO%20%E8%B0%83%E8%AF%95%E6%8E%A7%20INT*%20P2%20%E4%B8%89%20NEW%20INT%3B%20-%20CHAR*%20P3%20%E4%B8%89%20%5C%22HELLO%5C%22%3B%20CONST%20VTFPTR%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3A00FAAB34%20PRINTF(%5C%22%E6%A0%88%E5%8F%98%E9%87%8F%3A%25P%5C%5CN%5C%22%2C%20P1)%3B%20%E6%A0%88%E5%8F%98%E9%87%8F%3A00AFF888%20PRINTF(%5C%22%E5%A0%86%E5%8F%98%E9%87%8F%3A%25P%5C%5CN%5C%22%2C%20P2)%3B%20%E5%A0%86%E5%8F%98%E9%87%8F%3A00E1CEC8%20PRINTF(%5C%22%E4%BB%A3%E7%A0%81%E6%AE%B5%E5%B8%B8%E9%87%8F%3A%25P%5C%5CN%5C%22%2CP3)%3B%20%E4%BB%A3%E7%A0%81%E6%AE%B5%E5%B8%B8%E9%87%8F%3A00FAAB78%20%26BASE%3AFUNC1)%3B%20PRINTF(%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A%25P%2FN%20%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A00FA147E%20N%5C%22%20FUNC)%3B%20PRINTF(%5C%22%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A%25P)%20%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A00FA13F2%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A92%2C%22y%22%3A3%2C%22width%22%3A84%2C%22height%22%3A22%2C%22text%22%3A%22FUNCO%22%7D%2C%7B%22x%22%3A24%2C%22y%22%3A4%2C%22width%22%3A58%2C%22height%22%3A20%2C%22text%22%3A%22VOID%22%7D%2C%7B%22x%22%3A79%2C%22y%22%3A65%2C%22width%22%3A113%2C%22height%22%3A25%2C%22text%22%3A%22BASE%20B1%20%3B%22%7D%2C%7B%22x%22%3A80%2C%22y%22%3A94%2C%22width%22%3A567%2C%22height%22%3A28%2C%22text%22%3A%22PRINTF(%5C%22VTFPTR%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3A%25P%5C%5CN%5C%22%2C*(INT*%26B1)%3B%22%7D%2C%7B%22x%22%3A91%2C%22y%22%3A124%2C%22width%22%3A1049%2C%22height%22%3A29%2C%22text%22%3A%22%2F%2FPRINTF(%5C%22VTFPTY%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3A%E5%90%8DP%2FN%5C%22%2C(INT)B1)%3B%2F%2F%E7%9B%B4%E6%8E%A5%E8%BD%AC%E8%AF%AD%E6%B3%95%E4%B8%8D%E6%8E%A5%E5%8F%97%2C%E8%BF%99%E9%87%8C%E7%94%A8%E6%8C%87%E9%92%88%E8%BD%AC%2C%E5%86%8D%E8%A7%A3%E5%BC%95%E7%94%A8%22%7D%2C%7B%22x%22%3A79%2C%22y%22%3A187%2C%22width%22%3A142%2C%22height%22%3A29%2C%22text%22%3A%22INT%20I%20%3A%200%3B%22%7D%2C%7B%22x%22%3A81%2C%22y%22%3A219%2C%22width%22%3A101%2C%22height%22%3A26%2C%22text%22%3A%22INT*%20P1%22%7D%2C%7B%22x%22%3A218%2C%22y%22%3A220%2C%22width%22%3A41%2C%22height%22%3A24%2C%22text%22%3A%22%26I%3B%22%7D%2C%7B%22x%22%3A799%2C%22y%22%3A241%2C%22width%22%3A293%2C%22height%22%3A24%2C%22text%22%3A%22MICROSOFT%20VISUAL%20STUDIO%20%E8%B0%83%E8%AF%95%E6%8E%A7%22%7D%2C%7B%22x%22%3A81%2C%22y%22%3A249%2C%22width%22%3A250%2C%22height%22%3A27%2C%22text%22%3A%22INT*%20P2%20%E4%B8%89%20NEW%20INT%3B%22%7D%2C%7B%22x%22%3A157%2C%22y%22%3A278%2C%22width%22%3A271%2C%22height%22%3A26%2C%22text%22%3A%22-%20CHAR*%20P3%20%E4%B8%89%20%5C%22HELLO%5C%22%3B%22%7D%2C%7B%22x%22%3A81%2C%22y%22%3A283%2C%22width%22%3A83%2C%22height%22%3A20%2C%22text%22%3A%22CONST%22%7D%2C%7B%22x%22%3A737%2C%22y%22%3A292%2C%22width%22%3A373%2C%22height%22%3A37%2C%22text%22%3A%22VTFPTR%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3A00FAAB34%22%7D%2C%7B%22x%22%3A81%2C%22y%22%3A309%2C%22width%22%3A350%2C%22height%22%3A36%2C%22text%22%3A%22PRINTF(%5C%22%E6%A0%88%E5%8F%98%E9%87%8F%3A%25P%5C%5CN%5C%22%2C%20P1)%3B%22%7D%2C%7B%22x%22%3A738%2C%22y%22%3A328%2C%22width%22%3A240%2C%22height%22%3A30%2C%22text%22%3A%22%E6%A0%88%E5%8F%98%E9%87%8F%3A00AFF888%22%7D%2C%7B%22x%22%3A80%2C%22y%22%3A340%2C%22width%22%3A350%2C%22height%22%3A35%2C%22text%22%3A%22PRINTF(%5C%22%E5%A0%86%E5%8F%98%E9%87%8F%3A%25P%5C%5CN%5C%22%2C%20P2)%3B%22%7D%2C%7B%22x%22%3A738%2C%22y%22%3A362%2C%22width%22%3A242%2C%22height%22%3A29%2C%22text%22%3A%22%E5%A0%86%E5%8F%98%E9%87%8F%3A00E1CEC8%22%7D%2C%7B%22x%22%3A80%2C%22y%22%3A373%2C%22width%22%3A398%2C%22height%22%3A29%2C%22text%22%3A%22PRINTF(%5C%22%E4%BB%A3%E7%A0%81%E6%AE%B5%E5%B8%B8%E9%87%8F%3A%25P%5C%5CN%5C%22%2CP3)%3B%22%7D%2C%7B%22x%22%3A738%2C%22y%22%3A393%2C%22width%22%3A306%2C%22height%22%3A32%2C%22text%22%3A%22%E4%BB%A3%E7%A0%81%E6%AE%B5%E5%B8%B8%E9%87%8F%3A00FAAB78%22%7D%2C%7B%22x%22%3A424%2C%22y%22%3A402%2C%22width%22%3A194%2C%22height%22%3A29%2C%22text%22%3A%22%26BASE%3AFUNC1)%3B%22%7D%2C%7B%22x%22%3A80%2C%22y%22%3A403%2C%22width%22%3A311%2C%22height%22%3A34%2C%22text%22%3A%22PRINTF(%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A%25P%2FN%22%7D%2C%7B%22x%22%3A742%2C%22y%22%3A430%2C%22width%22%3A304%2C%22height%22%3A26%2C%22text%22%3A%22%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A00FA147E%22%7D%2C%7B%22x%22%3A388%2C%22y%22%3A437%2C%22width%22%3A34%2C%22height%22%3A23%2C%22text%22%3A%22N%5C%22%22%7D%2C%7B%22x%22%3A445%2C%22y%22%3A438%2C%22width%22%3A85%2C%22height%22%3A24%2C%22text%22%3A%22FUNC)%3B%22%7D%2C%7B%22x%22%3A80%2C%22y%22%3A436%2C%22width%22%3A291%2C%22height%22%3A27%2C%22text%22%3A%22PRINTF(%5C%22%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A%25P)%22%7D%2C%7B%22x%22%3A741%2C%22y%22%3A462%2C%22width%22%3A334%2C%22height%22%3A27%2C%22text%22%3A%22%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A00FA13F2%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23272625%22%2C%22id%22%3A%22pLmdt%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><h4 data-lake-id="LxomJ" id="LxomJ"><span data-lake-id="u834d0680" id="u834d0680" style="color: rgb(51,51,51)">4.2多态的原理 </span></h4><p data-lake-id="u260d0674" id="u260d0674"><span data-lake-id="u911672f5" id="u911672f5">多态如何实现的指向谁就调用谁的虚函数？</span></p><p data-lake-id="uc187b3bb" id="uc187b3bb"><u><strong><span data-lake-id="u54cd4407" id="u54cd4407">多态是在运行时到指向的对象的虚表中查找要调用的虚函数的地址来进行调用。</span></strong></u></p><p data-lake-id="u16eefc01" id="u16eefc01"><span data-lake-id="ufbae8abf" id="ufbae8abf" class="lake-fontsize-12" style="color: rgb(119,119,119)">上面分析了这个半天了那么多态的原理到底是什么？还记得这里</span><span data-lake-id="uab8064fe" id="uab8064fe" class="lake-fontsize-12" style="color: rgb(119,119,119)">Func</span><span data-lake-id="ue253d5ee" id="ue253d5ee" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数传</span><span data-lake-id="u080c2554" id="u080c2554" class="lake-fontsize-12" style="color: rgb(119,119,119)">Person</span><span data-lake-id="u97ef6c94" id="u97ef6c94" class="lake-fontsize-12" style="color: rgb(119,119,119)">调用的 </span></p><p data-lake-id="u4158ded8" id="u4158ded8"><span data-lake-id="u3cc4e5ee" id="u3cc4e5ee" class="lake-fontsize-12" style="color: rgb(119,119,119)">Person::BuyTicket，传Student调用的是Student:BuyTicket</span></p><p data-lake-id="u963a1ca4" id="u963a1ca4"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745666175203-a0df80b6-1b5e-41d8-a1e6-3e93216867a4.png%22%2C%22taskId%22%3A%22ubaae5b60-0cc8-4296-ba61-246dfce5c18%22%2C%22clientId%22%3A%22u31c019b1-595b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.4285714285714%2C%22height%22%3A382%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A2906225%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A669%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22CLASS%20PERSON%20VOID%20FUNC(PERSON%26PEOPLE)%20PUBLIC%3A%20VIRTUAL%20VOID%20BUY%20TICKET()%20PEOPLE.BUYTICKET()%3B%20COUT%3C%20%5C%22%E4%B9%B0%E7%A5%A8%E5%85%A8%E4%BB%B7%5C%22%3C%3C%20ENDL%3B%20VOID%20TEST()%20%E8%99%9A%E5%87%BD%E6%95%B0%E8%A6%86%E7%9B%96%20PERSON%20MIKE%3B%20CLASS%20STUDENT%3APUBLIC%20PERSON%20FUNC(MIKE)%3B%20PUBLIC%3A%20STUDENT%20JOHNSON.%20VIRTUAL%20VOID%20BUYTICKET(%20FUNC(JOHNSON)%3B%20COUT%3C%3C%5C%22%E4%B9%B0%E7%A5%A8%E5%8D%8A%E4%BB%B7%5C%22%3C%3CENDL%3B%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A192%2C%22y%22%3A36%2C%22width%22%3A130%2C%22height%22%3A23%2C%22text%22%3A%22CLASS%20PERSON%22%7D%2C%7B%22x%22%3A738%2C%22y%22%3A106%2C%22width%22%3A298%2C%22height%22%3A30%2C%22text%22%3A%22VOID%20FUNC(PERSON%26PEOPLE)%22%7D%2C%7B%22x%22%3A190%2C%22y%22%3A109%2C%22width%22%3A70%2C%22height%22%3A19%2C%22text%22%3A%22PUBLIC%3A%22%7D%2C%7B%22x%22%3A231%2C%22y%22%3A141%2C%22width%22%3A242%2C%22height%22%3A26%2C%22text%22%3A%22VIRTUAL%20VOID%20BUY%20TICKET()%22%7D%2C%7B%22x%22%3A779%2C%22y%22%3A178%2C%22width%22%3A202%2C%22height%22%3A28%2C%22text%22%3A%22PEOPLE.BUYTICKET()%3B%22%7D%2C%7B%22x%22%3A278%2C%22y%22%3A215%2C%22width%22%3A299%2C%22height%22%3A23%2C%22text%22%3A%22COUT%3C%20%5C%22%E4%B9%B0%E7%A5%A8%E5%85%A8%E4%BB%B7%5C%22%3C%3C%20ENDL%3B%22%7D%2C%7B%22x%22%3A739%2C%22y%22%3A286%2C%22width%22%3A112%2C%22height%22%3A21%2C%22text%22%3A%22VOID%20TEST()%22%7D%2C%7B%22x%22%3A32%2C%22y%22%3A328%2C%22width%22%3A98%2C%22height%22%3A20%2C%22text%22%3A%22%E8%99%9A%E5%87%BD%E6%95%B0%E8%A6%86%E7%9B%96%22%7D%2C%7B%22x%22%3A778%2C%22y%22%3A355%2C%22width%22%3A136%2C%22height%22%3A24%2C%22text%22%3A%22PERSON%20MIKE%3B%22%7D%2C%7B%22x%22%3A190%2C%22y%22%3A363%2C%22width%22%3A300%2C%22height%22%3A21%2C%22text%22%3A%22CLASS%20STUDENT%3APUBLIC%20PERSON%22%7D%2C%7B%22x%22%3A778%2C%22y%22%3A390%2C%22width%22%3A124%2C%22height%22%3A27%2C%22text%22%3A%22FUNC(MIKE)%3B%22%7D%2C%7B%22x%22%3A193%2C%22y%22%3A435%2C%22width%22%3A69%2C%22height%22%3A20%2C%22text%22%3A%22PUBLIC%3A%22%7D%2C%7B%22x%22%3A780%2C%22y%22%3A464%2C%22width%22%3A178%2C%22height%22%3A21%2C%22text%22%3A%22STUDENT%20JOHNSON.%22%7D%2C%7B%22x%22%3A231%2C%22y%22%3A468%2C%22width%22%3A240%2C%22height%22%3A24%2C%22text%22%3A%22VIRTUAL%20VOID%20BUYTICKET(%22%7D%2C%7B%22x%22%3A780%2C%22y%22%3A499%2C%22width%22%3A154%2C%22height%22%3A23%2C%22text%22%3A%22FUNC(JOHNSON)%3B%22%7D%2C%7B%22x%22%3A278%2C%22y%22%3A539%2C%22width%22%3A300%2C%22height%22%3A27%2C%22text%22%3A%22COUT%3C%3C%5C%22%E4%B9%B0%E7%A5%A8%E5%8D%8A%E4%BB%B7%5C%22%3C%3CENDL%3B%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23f9faf6%22%2C%22id%22%3A%22ub38702a4%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Person%20%7B%5Cnpublic%3A%5Cn%20virtual%20void%20BuyTicket()%20%7B%20cout%20%3C%3C%20%5C%22%E4%B9%B0%E7%A5%A8-%E5%85%A8%E4%BB%B7%5C%22%20%3C%3C%20endl%3B%20%7D%5Cn%7D%3B%5Cnclass%20Student%20%3A%20public%20Person%20%7B%5Cnpublic%3A%5Cn%20virtual%20void%20BuyTicket()%20%7B%20cout%20%3C%3C%20%5C%22%E4%B9%B0%E7%A5%A8-%E5%8D%8A%E4%BB%B7%5C%22%20%3C%3C%20endl%3B%20%7D%5Cn%7D%3B%5Cnvoid%20Func(Person%26%20p)%5Cn%7B%5Cn%20p.BuyTicket()%3B%5Cn%7D%5Cnint%20main()%5Cn%7B%5Cn%20Person%20Mike%3B%5Cn%20Func(Mike)%3B%5Cn%20%5Cn%20Student%20Johnson%3B%5Cn%20Func(Johnson)%3B%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22oouXT%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u2ffa40cb" id="u2ffa40cb"><span data-lake-id="u79115a5b" id="u79115a5b" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. 观察下图的红色箭头我们看到，p是指向mike对象时，p-&gt;BuyTicket在mike的虚表中找到虚函数是Person::BuyTicket。 </span></p><p data-lake-id="ub791719f" id="ub791719f"><span data-lake-id="uc62ab317" id="uc62ab317" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 观察下图的蓝色箭头我们看到，p是指向johnson对象时，p-&gt;BuyTicket在johson的虚表中找到虚函数是Student::BuyTicket。 </span></p><p data-lake-id="u34e84f4c" id="u34e84f4c"><span data-lake-id="u3a9f4306" id="u3a9f4306" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><span data-lake-id="u04544fc0" id="u04544fc0" class="lake-fontsize-12" style="color: rgb(119,119,119)">这样就实现出了不同对象去完成同一行为时，展现出不同的形态。 </span></p><p data-lake-id="u465870a9" id="u465870a9"><span data-lake-id="u93f557e1" id="u93f557e1" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. 反过来思考我们要达到多态，有两个条件，</span><strong><span data-lake-id="ua43dab96" id="ua43dab96" class="lake-fontsize-12" style="color: rgb(119,119,119)">一个是虚函数覆盖</span></strong><span data-lake-id="u12181d84" id="u12181d84" class="lake-fontsize-12" style="color: rgb(119,119,119)">，</span><strong><span data-lake-id="u4dff466a" id="u4dff466a" class="lake-fontsize-12" style="color: rgb(119,119,119)">一个是对象的指针或引用调用虚函数</span></strong><span data-lake-id="u184e8cdd" id="u184e8cdd" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="u8936cac9" id="u8936cac9"><span data-lake-id="u9d3ac73d" id="u9d3ac73d" class="lake-fontsize-12" style="color: rgb(119,119,119)">反思一下为什么？ </span></p><p data-lake-id="u500ef4a7" id="u500ef4a7"><span data-lake-id="ue8cfe829" id="ue8cfe829" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. 再通过下面的汇编代码分析，</span><strong><span data-lake-id="ucd965d3e" id="ucd965d3e" class="lake-fontsize-12" style="color: rgb(119,119,119)">看出满足多态以后的函数调用，不是在编译时确定的，是运行起来以后到对象的中取找的。不满足多态的函数调用时编译时确认好的</span></strong><span data-lake-id="u5c95d81d" id="u5c95d81d" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><p data-lake-id="u35c6c27f" id="u35c6c27f"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745666180468-03ed506f-1de6-421b-bba1-88265c349486.png%22%2C%22taskId%22%3A%22u17b8ccf9-3ff8-41ce-a4c9-af740ad8c8c%22%2C%22clientId%22%3A%22u31c019b1-595b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.4285714285714%2C%22height%22%3A226%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1720304%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A396%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%9B%91%E8%A7%861%20FUNC(PERSON*%20VOID%20%E5%90%8D%E7%A7%B0%20MIKE%20P-BUYTICKET%20OX0097DC90(CLASS_OBJECT.EXELCONST%20PERSON%3A%3AVFTABLE%5C%22)%20VFOTR%20OX009714F6(CLASS_OBJECT.EXE!PERSON.BUYTICKET(VOID))%20%5BO%5D%20JOHNSON%20INT%20MAIN()%20PERSON%20OX0097DC80%20(CIASS%20OBJECT.EXELCONST%20STUDENT%3A%3AVFTABLE%5C%22%20VFPTR%20PERSOP%20MIKE%3B%20%5BO%5D%20OX009714FB(CLASS_OBJECT.EXC!STUDENT%3ABUY%20TICKET(VOID)%20FUNE(%26MIKE)%3A%20STUDENTJOHNSON%3B%20FUNE(%26JOHNSON)%3A%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A326%2C%22y%22%3A13%2C%22width%22%3A37%2C%22height%22%3A14%2C%22text%22%3A%22%E7%9B%91%E8%A7%861%22%7D%2C%7B%22x%22%3A69%2C%22y%22%3A19%2C%22width%22%3A157%2C%22height%22%3A20%2C%22text%22%3A%22FUNC(PERSON*%22%7D%2C%7B%22x%22%3A5%2C%22y%22%3A19%2C%22width%22%3A53%2C%22height%22%3A20%2C%22text%22%3A%22VOID%22%7D%2C%7B%22x%22%3A336%2C%22y%22%3A35%2C%22width%22%3A28%2C%22height%22%3A14%2C%22text%22%3A%22%E5%90%8D%E7%A7%B0%22%7D%2C%7B%22x%22%3A386%2C%22y%22%3A63%2C%22width%22%3A51%2C%22height%22%3A19%2C%22text%22%3A%22MIKE%22%7D%2C%7B%22x%22%3A55%2C%22y%22%3A82%2C%22width%22%3A165%2C%22height%22%3A22%2C%22text%22%3A%22P-BUYTICKET%22%7D%2C%7B%22x%22%3A539%2C%22y%22%3A92%2C%22width%22%3A536%2C%22height%22%3A24%2C%22text%22%3A%22OX0097DC90(CLASS_OBJECT.EXELCONST%20PERSON%3A%3AVFTABLE%5C%22)%22%7D%2C%7B%22x%22%3A437%2C%22y%22%3A93%2C%22width%22%3A50%2C%22height%22%3A22%2C%22text%22%3A%22VFOTR%22%7D%2C%7B%22x%22%3A539%2C%22y%22%3A123%2C%22width%22%3A542%2C%22height%22%3A27%2C%22text%22%3A%22OX009714F6(CLASS_OBJECT.EXE!PERSON.BUYTICKET(VOID))%22%7D%2C%7B%22x%22%3A450%2C%22y%22%3A124%2C%22width%22%3A31%2C%22height%22%3A26%2C%22text%22%3A%22%5BO%5D%22%7D%2C%7B%22x%22%3A383%2C%22y%22%3A156%2C%22width%22%3A85%2C%22height%22%3A26%2C%22text%22%3A%22JOHNSON%22%7D%2C%7B%22x%22%3A9%2C%22y%22%3A173%2C%22width%22%3A125%2C%22height%22%3A27%2C%22text%22%3A%22INT%20MAIN()%22%7D%2C%7B%22x%22%3A419%2C%22y%22%3A194%2C%22width%22%3A69%2C%22height%22%3A20%2C%22text%22%3A%22PERSON%22%7D%2C%7B%22x%22%3A538%2C%22y%22%3A224%2C%22width%22%3A543%2C%22height%22%3A22%2C%22text%22%3A%22OX0097DC80%20(CIASS%20OBJECT.EXELCONST%20STUDENT%3A%3AVFTABLE%5C%22%22%7D%2C%7B%22x%22%3A469%2C%22y%22%3A225%2C%22width%22%3A51%2C%22height%22%3A26%2C%22text%22%3A%22VFPTR%22%7D%2C%7B%22x%22%3A54%2C%22y%22%3A234%2C%22width%22%3A157%2C%22height%22%3A26%2C%22text%22%3A%22PERSOP%20MIKE%3B%22%7D%2C%7B%22x%22%3A482%2C%22y%22%3A256%2C%22width%22%3A33%2C%22height%22%3A26%2C%22text%22%3A%22%5BO%5D%22%7D%2C%7B%22x%22%3A538%2C%22y%22%3A256%2C%22width%22%3A546%2C%22height%22%3A25%2C%22text%22%3A%22OX009714FB(CLASS_OBJECT.EXC!STUDENT%3ABUY%20TICKET(VOID)%22%7D%2C%7B%22x%22%3A55%2C%22y%22%3A266%2C%22width%22%3A159%2C%22height%22%3A28%2C%22text%22%3A%22FUNE(%26MIKE)%3A%22%7D%2C%7B%22x%22%3A55%2C%22y%22%3A329%2C%22width%22%3A207%2C%22height%22%3A28%2C%22text%22%3A%22STUDENTJOHNSON%3B%22%7D%2C%7B%22x%22%3A54%2C%22y%22%3A359%2C%22width%22%3A188%2C%22height%22%3A29%2C%22text%22%3A%22FUNE(%26JOHNSON)%3A%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23e9e9e4%22%2C%22id%22%3A%22ud3eb7bb4%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22void%20Func(Person*%20p)%5Cn%7B%5Cn%20p-%3EBuyTicket()%3B%5Cn%7D%5Cnint%20main()%5Cn%7B%5Cn%20Person%20mike%3B%5Cn%20Func(%26mike)%3B%5Cn%20mike.BuyTicket()%3B%5Cn%20%5Cn%20return%200%3B%5Cn%7D%5Cn%2F%2F%20%E4%BB%A5%E4%B8%8B%E6%B1%87%E7%BC%96%E4%BB%A3%E7%A0%81%E4%B8%AD%E8%B7%9F%E4%BD%A0%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%E4%B8%8D%E7%9B%B8%E5%85%B3%E7%9A%84%E9%83%BD%E8%A2%AB%E5%8E%BB%E6%8E%89%E4%BA%86%5Cnvoid%20Func(Person*%20p)%5Cn%7B%5Cn...%5Cn%20p-%3EBuyTicket()%3B%5Cn%2F%2F%20p%E4%B8%AD%E5%AD%98%E7%9A%84%E6%98%AFmike%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8C%87%E9%92%88%EF%BC%8C%E5%B0%86p%E7%A7%BB%E5%8A%A8%E5%88%B0eax%E4%B8%AD%5Cn001940DE%20mov%20eax%2Cdword%20ptr%20%5Bp%5D%5Cn%2F%2F%20%5Beax%5D%E5%B0%B1%E6%98%AF%E5%8F%96eax%E5%80%BC%E6%8C%87%E5%90%91%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%8C%E8%BF%99%E9%87%8C%E7%9B%B8%E5%BD%93%E4%BA%8E%E6%8A%8Amike%E5%AF%B9%E8%B1%A1%E5%A4%B44%E4%B8%AA%E5%AD%97%E8%8A%82(%E8%99%9A%E8%A1%A8%E6%8C%87%E9%92%88)%E7%A7%BB%E5%8A%A8%E5%88%B0%E4%BA%86edx%5Cn001940E1%20mov%20edx%2Cdword%20ptr%20%5Beax%5D%5Cn%2F%2F%20%5Bedx%5D%E5%B0%B1%E6%98%AF%E5%8F%96edx%E5%80%BC%E6%8C%87%E5%90%91%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%8C%E8%BF%99%E9%87%8C%E7%9B%B8%E5%BD%93%E4%BA%8E%E6%8A%8A%E8%99%9A%E8%A1%A8%E4%B8%AD%E7%9A%84%E5%A4%B44%E5%AD%97%E8%8A%82%E5%AD%98%E7%9A%84%E8%99%9A%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E7%A7%BB%E5%8A%A8%E5%88%B0%E4%BA%86eax%5Cn00B823EE%20mov%20eax%2Cdword%20ptr%20%5Bedx%5D%5Cn%2F%2F%20call%20eax%E4%B8%AD%E5%AD%98%E8%99%9A%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88%E3%80%82%E8%BF%99%E9%87%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%87%BA%E6%BB%A1%E8%B6%B3%E5%A4%9A%E6%80%81%E7%9A%84%E8%B0%83%E7%94%A8%EF%BC%8C%E4%B8%8D%E6%98%AF%E5%9C%A8%E7%BC%96%E8%AF%91%E6%97%B6%E7%A1%AE%E5%AE%9A%E7%9A%84%EF%BC%8C%E6%98%AF%E8%BF%90%E8%A1%8C%E8%B5%B7%E6%9D%A5%E4%BB%A5%E5%90%8E%E5%88%B0%E5%AF%B9%E8%B1%A1%E7%9A%84%5Cn%E4%B8%AD%E5%8F%96%E6%89%BE%E7%9A%84%E3%80%82%5Cn001940EA%20call%20eax%20%5Cn00%E5%A4%B41940EC%20cmp%20esi%2Cesp%20%5Cn%7D%5Cnint%20main()%5Cn%7B%5Cn...%20%5Cn%2F%2F%20%E9%A6%96%E5%85%88BuyTicket%E8%99%BD%E7%84%B6%E6%98%AF%E8%99%9A%E5%87%BD%E6%95%B0%EF%BC%8C%E4%BD%86%E6%98%AFmike%E6%98%AF%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%B8%8D%E6%BB%A1%E8%B6%B3%E5%A4%9A%E6%80%81%E7%9A%84%E6%9D%A1%E4%BB%B6%EF%BC%8C%E6%89%80%E4%BB%A5%E8%BF%99%E9%87%8C%E6%98%AF%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8%E8%BD%AC%E6%8D%A2%E6%88%90%E5%9C%B0%E5%9D%80%5Cn%E6%97%B6%EF%BC%8C%E6%98%AF%E5%9C%A8%E7%BC%96%E8%AF%91%E6%97%B6%E5%B7%B2%E7%BB%8F%E4%BB%8E%E7%AC%A6%E5%8F%B7%E8%A1%A8%E7%A1%AE%E8%AE%A4%E4%BA%86%E5%87%BD%E6%95%B0%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%8C%E7%9B%B4%E6%8E%A5call%20%E5%9C%B0%E5%9D%80%5Cn%20mike.BuyTicket()%3B%5Cn00195182%20lea%20ecx%2C%5Bmike%5D%5Cn00195185%20call%20Person%3A%3ABuyTicket%20(01914F6h)%20%5Cn...%20%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22bJxU4%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h4 data-lake-id="BuGfF" id="BuGfF"><span data-lake-id="u78cf5c1f" id="u78cf5c1f" style="color: rgb(51,51,51)">4.3 动态绑定与静态绑定 </span></h4><p data-lake-id="ue85ad38a" id="ue85ad38a"><span data-lake-id="u2b262d0a" id="u2b262d0a" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. 静态绑定又称为前期绑定(</span><span style="color: rgb(119,119,119)"><u><span data-lake-id="u1c7f5d36" id="u1c7f5d36" class="lake-fontsize-12">早绑定</span></u></span><span data-lake-id="uf5712dc7" id="uf5712dc7" class="lake-fontsize-12" style="color: rgb(119,119,119)">)，</span><strong><span data-lake-id="uad9b0c92" id="uad9b0c92" class="lake-fontsize-12" style="color: rgb(119,119,119)">在程序编译期间确定了程序的行为</span></strong><span data-lake-id="u634466e5" id="u634466e5" class="lake-fontsize-12" style="color: rgb(119,119,119)">，</span><strong><span data-lake-id="u531650a9" id="u531650a9" class="lake-fontsize-12" style="color: rgb(119,119,119)">也称为静态多态</span></strong><span data-lake-id="u288fc8ff" id="u288fc8ff" class="lake-fontsize-12" style="color: rgb(119,119,119)">，比如：函数重载 </span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%201%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22void%20print(int%20a)%20%5Cn%7B%20cout%20%3C%3C%20%5C%22Integer%3A%20%5C%22%20%3C%3C%20a%3B%20%7D%5Cnvoid%20print(double%20a)%20%5Cn%7B%20cout%20%3C%3C%20%5C%22Double%3A%20%5C%22%20%3C%3C%20a%3B%20%7D%5Cn%2F%2F%20%E7%BC%96%E8%AF%91%E6%97%B6%E6%A0%B9%E6%8D%AE%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B%E5%86%B3%E5%AE%9A%E8%B0%83%E7%94%A8%E5%93%AA%E4%B8%AAprint%5Cnprint(5)%3B%20%20%20%20%2F%2F%20%E8%B0%83%E7%94%A8int%E7%89%88%E6%9C%AC%5Cnprint(3.14)%3B%20%2F%2F%20%E8%B0%83%E7%94%A8double%E7%89%88%E6%9C%AC%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22exp%201%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22hzjpd%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u9db169cd" id="u9db169cd"><span data-lake-id="u1ade0bc0" id="u1ade0bc0" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 动态绑定又称后期绑定(</span><span style="color: rgb(119,119,119)"><u><span data-lake-id="u94b62272" id="u94b62272" class="lake-fontsize-12">晚绑定</span></u></span><span data-lake-id="uc93457e7" id="uc93457e7" class="lake-fontsize-12" style="color: rgb(119,119,119)">)，是在程序运行期间，根据具体拿到的类型确定程序的具体行为，调用具体的函数，</span><strong><span data-lake-id="u3fe4f255" id="u3fe4f255" class="lake-fontsize-12" style="color: rgb(119,119,119)">也称为动态多态</span></strong><span data-lake-id="uba50cfe2" id="uba50cfe2" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp2%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Animal%20%7B%5Cnpublic%3A%5Cn%20%20%20%20virtual%20void%20speak()%20%7B%20cout%20%3C%3C%20%5C%22Animal%20sound%5C%22%20%3C%3C%20endl%3B%20%7D%20%20%2F%2F%20%E8%99%9A%E5%87%BD%E6%95%B0%5Cn%7D%3B%5Cn%5Cnclass%20Dog%20%3A%20public%20Animal%20%7B%5Cnpublic%3A%5Cn%20%20%20%20void%20speak()%20override%20%7B%20cout%20%3C%3C%20%5C%22Woof!%5C%22%20%3C%3C%20endl%3B%20%7D%20%20%2F%2F%20%E9%87%8D%E5%86%99%E8%99%9A%E5%87%BD%E6%95%B0%5Cn%7D%3B%5Cn%5Cnint%20main()%20%7B%5Cn%20%20%20%20Animal*%20pet%20%3D%20new%20Animal%3B%5Cn%20%20%20%20pet%20-%3E%20speak()%3B%20%2F%2F%E8%BE%93%E5%87%BA%5C%22Animal%20sound%5C%22%EF%BC%88%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A%EF%BC%89%5Cn%20%20%20%20pet%20%3D%20new%20Dog%3B%5Cn%20%20%20%20pet-%3Espeak()%3B%20%20%2F%2F%20%E8%BE%93%E5%87%BA%5C%22Woof!%5C%22%EF%BC%88%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9A%EF%BC%89%5Cn%20%20%20%20delete%20pet%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22exp2%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22VuoCK%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ub288a405" id="ub288a405"><span data-lake-id="ub87eb4d9" id="ub87eb4d9" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. 本小节之前(5.2小节)买票的汇编代码很好的解释了什么是静态(编译器)绑定和动态(运行时)绑定。 </span></p><p data-lake-id="uf5a4f2ab" id="uf5a4f2ab"><strong><span data-lake-id="uf300beea" id="uf300beea" style="color: rgb(64, 64, 64)">与静态多态的关键区别</span></strong></p><table data-lake-id="SbMsH" id="SbMsH" margin="true" class="lake-table" style="width: 750px"><colgroup><col width="250"><col width="250"><col width="250"></colgroup><tbody><tr data-lake-id="u291985ec" id="u291985ec"><td data-lake-id="ud6e017f5" id="ud6e017f5"><p data-lake-id="u4caed75b" id="u4caed75b" style="text-align: left"><strong><span data-lake-id="u5c04871e" id="u5c04871e" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">特性</span></strong></p></td><td data-lake-id="u6e782c5f" id="u6e782c5f"><p data-lake-id="u556753bb" id="u556753bb" style="text-align: left"><strong><span data-lake-id="uf7c1b060" id="uf7c1b060" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">动态多态</span></strong></p></td><td data-lake-id="u11eed692" id="u11eed692"><p data-lake-id="u31940010" id="u31940010" style="text-align: left"><strong><span data-lake-id="ue4846ed3" id="ue4846ed3" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">静态多态</span></strong></p></td></tr><tr data-lake-id="u195f5123" id="u195f5123"><td data-lake-id="u23d164b5" id="u23d164b5"><p data-lake-id="u9c4de54d" id="u9c4de54d"><strong><span data-lake-id="u68cbeaf9" id="u68cbeaf9" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">绑定时机</span></strong></p></td><td data-lake-id="u4bc36f94" id="u4bc36f94"><p data-lake-id="uab69d89d" id="uab69d89d"><span data-lake-id="u9e538d43" id="u9e538d43" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">运行时</span></p></td><td data-lake-id="u48be9425" id="u48be9425"><p data-lake-id="u308cd4e4" id="u308cd4e4"><span data-lake-id="ue36e5ebb" id="ue36e5ebb" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">编译时</span></p></td></tr><tr data-lake-id="u2057ecf3" id="u2057ecf3"><td data-lake-id="u763ca04e" id="u763ca04e"><p data-lake-id="u432d1ae2" id="u432d1ae2"><strong><span data-lake-id="u4490d995" id="u4490d995" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">实现方式</span></strong></p></td><td data-lake-id="u390bf9ed" id="u390bf9ed"><p data-lake-id="udfa9e2f3" id="udfa9e2f3"><span data-lake-id="u0f63e644" id="u0f63e644" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">虚函数+继承</span></p></td><td data-lake-id="u477eb669" id="u477eb669"><p data-lake-id="ub7cfcea3" id="ub7cfcea3"><span data-lake-id="uaa154eb5" id="uaa154eb5" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">函数重载/模板</span></p></td></tr><tr data-lake-id="u1ddceeb1" id="u1ddceeb1"><td data-lake-id="u6101fb33" id="u6101fb33"><p data-lake-id="u1f091609" id="u1f091609"><strong><span data-lake-id="uf56fcb9a" id="uf56fcb9a" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">性能开销</span></strong></p></td><td data-lake-id="u36dcc28c" id="u36dcc28c"><p data-lake-id="u4a535a7a" id="u4a535a7a"><span data-lake-id="uc484b783" id="uc484b783" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">有虚表查找开销</span></p></td><td data-lake-id="u4f47a94f" id="u4f47a94f"><p data-lake-id="u90360b59" id="u90360b59"><span data-lake-id="u4046aabb" id="u4046aabb" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">无额外开销</span></p></td></tr><tr data-lake-id="u5630e466" id="u5630e466"><td data-lake-id="ue5d2575d" id="ue5d2575d"><p data-lake-id="u5a0d3377" id="u5a0d3377"><strong><span data-lake-id="u94fbae7b" id="u94fbae7b" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">灵活性</span></strong></p></td><td data-lake-id="u919da800" id="u919da800"><p data-lake-id="ucca9f39c" id="ucca9f39c"><span data-lake-id="u3b11aa82" id="u3b11aa82" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">支持运行时类型扩展</span></p></td><td data-lake-id="u5946af7c" id="u5946af7c"><p data-lake-id="u24e78040" id="u24e78040"><span data-lake-id="u7fcf188f" id="u7fcf188f" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">需编译时确定所有类型</span></p></td></tr><tr data-lake-id="ua22d6cbc" id="ua22d6cbc"><td data-lake-id="ua6945e89" id="ua6945e89"><p data-lake-id="uceafbbbb" id="uceafbbbb"><strong><span data-lake-id="u60275b2a" id="u60275b2a" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">典型应用场景</span></strong></p></td><td data-lake-id="u9f599ea8" id="u9f599ea8"><p data-lake-id="u505b126c" id="u505b126c"><span data-lake-id="u940b4829" id="u940b4829" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">接口设计/插件系统</span></p></td><td data-lake-id="u856b7208" id="u856b7208"><p data-lake-id="u641472fa" id="u641472fa"><span data-lake-id="ua87c1f99" id="ua87c1f99" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">泛型编程/运算符重载</span></p></td></tr></tbody></table><p data-lake-id="ud7c78aae" id="ud7c78aae"><span data-lake-id="u1beda4b5" id="u1beda4b5" class="lake-fontsize-12" style="color: rgb(119,119,119)">​</span><br></p><p data-lake-id="uee1368f0" id="uee1368f0"><span data-lake-id="uaaa65199" id="uaaa65199" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">--</span><strong><span data-lake-id="ue01aeda2" id="ue01aeda2" class="lake-fontsize-12" style="color: #ED740C">静态多态</span></strong><span data-lake-id="ub01b9c70" id="ub01b9c70" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">是指在</span><strong><span data-lake-id="uf0fb75f8" id="uf0fb75f8" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">编译期间</span></strong><span data-lake-id="uf04e433e" id="uf04e433e" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">就能确定具体调用哪个函数的多态行为，也称为&quot;编译时多态&quot;。其特点是：</span></p><ol list="ub0a3b79a"><li fid="u0c033474" data-lake-id="ube345f40" id="ube345f40"><span data-lake-id="ubcf784ac" id="ubcf784ac" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">函数绑定发生在编译阶段</span></li><li fid="u0c033474" data-lake-id="u1c278eab" id="u1c278eab"><span data-lake-id="u01159797" id="u01159797" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">不依赖运行时对象类型</span></li><li fid="u0c033474" data-lake-id="u6a578239" id="u6a578239"><span data-lake-id="uf4a9105f" id="uf4a9105f" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">通过代码结构直接确定调用关系</span></li></ol><p data-lake-id="u3ee11b04" id="u3ee11b04"><br></p><p data-lake-id="u0ace7c91" id="u0ace7c91"><span data-lake-id="u34c53a54" id="u34c53a54" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">--</span><strong><span data-lake-id="u6104ffa4" id="u6104ffa4" class="lake-fontsize-12" style="color: #ED740C">动态多态</span></strong><span data-lake-id="ua514729f" id="ua514729f" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">是面向对象编程的核心特性之一，指在</span><strong><span data-lake-id="u9d2b4764" id="u9d2b4764" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">程序运行时</span></strong><span data-lake-id="uee865843" id="uee865843" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">根据对象的实际类型（而非声明类型）确定调用的具体方法。这是通过虚函数机制实现的经典多态形式。</span></p><ol list="u688c71db"><li fid="u5c7e7543" data-lake-id="u938cd82f" id="u938cd82f"><strong><span data-lake-id="ufab9202d" id="ufab9202d" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">运行时绑定</span></strong><span data-lake-id="uf9720927" id="uf9720927" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">（Late Binding）：函数调用在运行时解析</span></li><li fid="u5c7e7543" data-lake-id="u22223c4d" id="u22223c4d"><strong><span data-lake-id="u42a579d4" id="u42a579d4" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">基于继承体系</span></strong><span data-lake-id="uebc54053" id="uebc54053" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">：必须存在父子类关系</span></li><li fid="u5c7e7543" data-lake-id="uc276e34d" id="uc276e34d"><strong><span data-lake-id="u7e1c4ce4" id="u7e1c4ce4" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">虚函数机制</span></strong><span data-lake-id="uf047d4b8" id="uf047d4b8" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">：通过虚函数表（vtable）实现</span></li><li fid="u5c7e7543" data-lake-id="u8b766974" id="u8b766974"><strong><span data-lake-id="u8d0cc62b" id="u8d0cc62b" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">指针/引用调用</span></strong><span data-lake-id="ue3e546a0" id="ue3e546a0" class="lake-fontsize-12" style="color: rgba(110,114,114,1)">：通过基类指针或引用触发多态</span></li></ol><p data-lake-id="u82d67440" id="u82d67440"><br></p><h3 data-lake-id="AXXIc" id="AXXIc"><span data-lake-id="uad026a75" id="uad026a75" style="color: rgb(51,51,51)">5.单继承和多继承关系的虚函数表 </span></h3><p data-lake-id="ub66bee02" id="ub66bee02"><span data-lake-id="u64260163" id="u64260163" class="lake-fontsize-12" style="color: rgb(119,119,119)">需要注意的是在单继承和多继承关系中，下面我们去关注的是派生类对象的虚表模型，因为基类的虚表模型前面我们已经看过了，没什么需要特别研究的 </span></p><h4 data-lake-id="xkPcz" id="xkPcz"><span data-lake-id="udd0931b4" id="udd0931b4" style="color: rgb(51,51,51)">5.1 单继承中的虚函数表</span></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Base%20%7B%20%5Cnpublic%20%3A%5Cn%20virtual%20void%20func1()%20%7B%20cout%3C%3C%5C%22Base%3A%3Afunc1%5C%22%20%3C%3Cendl%3B%7D%5Cn%20virtual%20void%20func2()%20%7Bcout%3C%3C%5C%22Base%3A%3Afunc2%5C%22%20%3C%3Cendl%3B%7D%5Cnprivate%20%3A%5Cn%20int%20a%3B%5Cn%7D%3B%5Cnclass%20Derive%20%3Apublic%20Base%20%7B%20%5Cnpublic%20%3A%5Cn%20virtual%20void%20func1()%20%7Bcout%3C%3C%5C%22Derive%3A%3Afunc1%5C%22%20%3C%3Cendl%3B%7D%5Cn%20virtual%20void%20func3()%20%7Bcout%3C%3C%5C%22Derive%3A%3Afunc3%5C%22%20%3C%3Cendl%3B%7D%5Cn%20virtual%20void%20func4()%20%7Bcout%3C%3C%5C%22Derive%3A%3Afunc4%5C%22%20%3C%3Cendl%3B%7D%5Cnprivate%20%3A%5Cn%20int%20b%3B%5Cn%7D%3B%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22RjWtS%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u36242558" id="u36242558"><span data-lake-id="u853d879f" id="u853d879f" class="lake-fontsize-12" style="color: rgb(119,119,119)">观察下图中的监视窗口中我们发现看不见func3和func4。这里是编译器的监视窗口故意隐藏了这两个函数，也可以认为是他的一个小bug。那么我们如何查看d的虚表呢？下面我们使用代码打印出虚表中的函数。</span><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745666190859-e4f3c7ea-abc9-4a80-ad92-c77db8e2538b.png%22%2C%22taskId%22%3A%22uf936db10-846e-4d50-990e-ec0a22455fa%22%2C%22clientId%22%3A%22u31c019b1-595b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.4285714285714%2C%22height%22%3A223%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1698590%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A391%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22%E7%9B%91%E8%A7%861%20INT%20MAIN()%20%E5%90%8D%E7%A7%B0%20%7BA-858993460%5D%20BASE%20B%3B%20OX0108BC80(CLASS%20OBJECT.EXE!CONST%20BASE%3A%3A'VFTABLE%5D(0X01081%20VFPTR%20DERIVE%20D%3B%200X01081005%5BCLASS_OBJECT.EXE!BASE%3A%3AFUNC1(VOID)%5D%20%5BO%5D%20%5B1%5D%200X01081140%5BCLASS_OBJECT.EXE!BASE%3AFUNC2(VOID)%5D%20RETURN%200%3A%20-858993460%20(B-858993460%5D%20%7BA-858993460%5D%20BASE%200X0108BCB0(CLASS_OBJECT.EXELCONST%20DERIVE%3A%3A'VFTABLE%5C%22(0X010%20VFPTR%20%5B0%5D%200X010810BE%20%5BCLASS_OBJECT.EXE!DERIVE.FUNC1(VOID)%5D%20OBJECT.EXE!BASE%3A%3AFUNC2(VOID))%20OX01081140(CLASS%20O%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A232%2C%22y%22%3A3%2C%22width%22%3A39%2C%22height%22%3A14%2C%22text%22%3A%22%E7%9B%91%E8%A7%861%22%7D%2C%7B%22x%22%3A10%2C%22y%22%3A6%2C%22width%22%3A131%2C%22height%22%3A25%2C%22text%22%3A%22INT%20MAIN()%22%7D%2C%7B%22x%22%3A242%2C%22y%22%3A26%2C%22width%22%3A30%2C%22height%22%3A14%2C%22text%22%3A%22%E5%90%8D%E7%A7%B0%22%7D%2C%7B%22x%22%3A452%2C%22y%22%3A52%2C%22width%22%3A183%2C%22height%22%3A26%2C%22text%22%3A%22%7BA-858993460%5D%22%7D%2C%7B%22x%22%3A61%2C%22y%22%3A69%2C%22width%22%3A93%2C%22height%22%3A26%2C%22text%22%3A%22BASE%20B%3B%22%7D%2C%7B%22x%22%3A452%2C%22y%22%3A86%2C%22width%22%3A623%2C%22height%22%3A25%2C%22text%22%3A%22OX0108BC80(CLASS%20OBJECT.EXE!CONST%20BASE%3A%3A'VFTABLE%5D(0X01081%22%7D%2C%7B%22x%22%3A350%2C%22y%22%3A88%2C%22width%22%3A48%2C%22height%22%3A22%2C%22text%22%3A%22VFPTR%22%7D%2C%7B%22x%22%3A62%2C%22y%22%3A100%2C%22width%22%3A123%2C%22height%22%3A27%2C%22text%22%3A%22DERIVE%20D%3B%22%7D%2C%7B%22x%22%3A453%2C%22y%22%3A118%2C%22width%22%3A506%2C%22height%22%3A25%2C%22text%22%3A%220X01081005%5BCLASS_OBJECT.EXE!BASE%3A%3AFUNC1(VOID)%5D%22%7D%2C%7B%22x%22%3A364%2C%22y%22%3A121%2C%22width%22%3A28%2C%22height%22%3A28%2C%22text%22%3A%22%5BO%5D%22%7D%2C%7B%22x%22%3A365%2C%22y%22%3A150%2C%22width%22%3A28%2C%22height%22%3A29%2C%22text%22%3A%22%5B1%5D%22%7D%2C%7B%22x%22%3A453%2C%22y%22%3A154%2C%22width%22%3A503%2C%22height%22%3A26%2C%22text%22%3A%220X01081140%5BCLASS_OBJECT.EXE!BASE%3AFUNC2(VOID)%5D%22%7D%2C%7B%22x%22%3A63%2C%22y%22%3A166%2C%22width%22%3A120%2C%22height%22%3A24%2C%22text%22%3A%22RETURN%200%3A%22%7D%2C%7B%22x%22%3A456%2C%22y%22%3A189%2C%22width%22%3A131%2C%22height%22%3A21%2C%22text%22%3A%22-858993460%22%7D%2C%7B%22x%22%3A452%2C%22y%22%3A221%2C%22width%22%3A184%2C%22height%22%3A26%2C%22text%22%3A%22(B-858993460%5D%22%7D%2C%7B%22x%22%3A454%2C%22y%22%3A255%2C%22width%22%3A182%2C%22height%22%3A25%2C%22text%22%3A%22%7BA-858993460%5D%22%7D%2C%7B%22x%22%3A332%2C%22y%22%3A258%2C%22width%22%3A46%2C%22height%22%3A19%2C%22text%22%3A%22BASE%22%7D%2C%7B%22x%22%3A452%2C%22y%22%3A288%2C%22width%22%3A628%2C%22height%22%3A25%2C%22text%22%3A%220X0108BCB0(CLASS_OBJECT.EXELCONST%20DERIVE%3A%3A'VFTABLE%5C%22(0X010%22%7D%2C%7B%22x%22%3A385%2C%22y%22%3A289%2C%22width%22%3A48%2C%22height%22%3A25%2C%22text%22%3A%22VFPTR%22%7D%2C%7B%22x%22%3A396%2C%22y%22%3A323%2C%22width%22%3A576%2C%22height%22%3A27%2C%22text%22%3A%22%5B0%5D%200X010810BE%20%5BCLASS_OBJECT.EXE!DERIVE.FUNC1(VOID)%5D%22%7D%2C%7B%22x%22%3A652%2C%22y%22%3A356%2C%22width%22%3A306%2C%22height%22%3A24%2C%22text%22%3A%22OBJECT.EXE!BASE%3A%3AFUNC2(VOID))%22%7D%2C%7B%22x%22%3A452%2C%22y%22%3A357%2C%22width%22%3A213%2C%22height%22%3A21%2C%22text%22%3A%22OX01081140(CLASS%20O%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23e4e6e2%22%2C%22id%22%3A%22u218c204d%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22typedef%20void(*VFPTR)%20()%3B%5Cnvoid%20PrintVTable(VFPTR%20vTable%5B%5D)%5Cn%7B%5Cn%20%2F%2F%20%E4%BE%9D%E6%AC%A1%E5%8F%96%E8%99%9A%E8%A1%A8%E4%B8%AD%E7%9A%84%E8%99%9A%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E6%89%93%E5%8D%B0%E5%B9%B6%E8%B0%83%E7%94%A8%E3%80%82%E8%B0%83%E7%94%A8%E5%B0%B1%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%87%BA%E5%AD%98%E7%9A%84%E6%98%AF%E5%93%AA%E4%B8%AA%E5%87%BD%E6%95%B0%5Cn%20cout%20%3C%3C%20%5C%22%20%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3E%5C%22%20%3C%3C%20vTable%20%3C%3C%20endl%3B%5Cn%20for%20(int%20i%20%3D%200%3B%20vTable%5Bi%5D%20!%3D%20nullptr%3B%20%2B%2Bi)%5Cn%20%7B%5Cn%20printf(%5C%22%20%E7%AC%AC%25d%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%20%3A0X%25x%2C-%3E%5C%22%2C%20i%2C%20vTable%5Bi%5D)%3B%5Cn%20VFPTR%20f%20%3D%20vTable%5Bi%5D%3B%5Cn%20f()%3B%5Cn%20%7D%5Cn%20cout%20%3C%3C%20endl%3B%5Cn%7D%5Cnint%20main()%5Cn%7B%5Cn%20Base%20b%3B%5Cn%20Derive%20d%3B%5Cn%20%2F%2F%20%E6%80%9D%E8%B7%AF%EF%BC%9A%E5%8F%96%E5%87%BAb%E3%80%81d%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%A4%B44bytes%EF%BC%8C%E5%B0%B1%E6%98%AF%E8%99%9A%E8%A1%A8%E7%9A%84%E6%8C%87%E9%92%88%EF%BC%8C%E5%89%8D%E9%9D%A2%E6%88%91%E4%BB%AC%E8%AF%B4%E4%BA%86%E8%99%9A%E5%87%BD%E6%95%B0%E8%A1%A8%E6%9C%AC%E8%B4%A8%E6%98%AF%E4%B8%80%E4%B8%AA%E5%AD%98%E8%99%9A%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E7%9A%84%E6%8C%87%E9%92%88%E6%95%B0%E7%BB%84%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%95%B0%E7%BB%84%E6%9C%80%E5%90%8E%E9%9D%A2%E6%94%BE%E4%BA%86%E4%B8%80%E4%B8%AAnullptr%5Cn%20%2F%2F%201.%E5%85%88%E5%8F%96b%E7%9A%84%E5%9C%B0%E5%9D%80%EF%BC%8C%E5%BC%BA%E8%BD%AC%E6%88%90%E4%B8%80%E4%B8%AAint*%E7%9A%84%E6%8C%87%E9%92%88%5Cn%20%2F%2F%202.%E5%86%8D%E8%A7%A3%E5%BC%95%E7%94%A8%E5%8F%96%E5%80%BC%EF%BC%8C%E5%B0%B1%E5%8F%96%E5%88%B0%E4%BA%86b%E5%AF%B9%E8%B1%A1%E5%A4%B44bytes%E7%9A%84%E5%80%BC%EF%BC%8C%E8%BF%99%E4%B8%AA%E5%80%BC%E5%B0%B1%E6%98%AF%E6%8C%87%E5%90%91%E8%99%9A%E8%A1%A8%E7%9A%84%E6%8C%87%E9%92%88%5Cn%20%2F%2F%203.%E5%86%8D%E5%BC%BA%E8%BD%AC%E6%88%90VFPTR*%EF%BC%8C%E5%9B%A0%E4%B8%BA%E8%99%9A%E8%A1%A8%E5%B0%B1%E6%98%AF%E4%B8%80%E4%B8%AA%E5%AD%98VFPTR%E7%B1%BB%E5%9E%8B(%E8%99%9A%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B)%E7%9A%84%E6%95%B0%E7%BB%84%E3%80%82%5Cn%20%2F%2F%204.%E8%99%9A%E8%A1%A8%E6%8C%87%E9%92%88%E4%BC%A0%E9%80%92%E7%BB%99PrintVTable%E8%BF%9B%E8%A1%8C%E6%89%93%E5%8D%B0%E8%99%9A%E8%A1%A8%5Cn%20%2F%2F%205.%E9%9C%80%E8%A6%81%E8%AF%B4%E6%98%8E%E7%9A%84%E6%98%AF%E8%BF%99%E4%B8%AA%E6%89%93%E5%8D%B0%E8%99%9A%E8%A1%A8%E7%9A%84%E4%BB%A3%E7%A0%81%E7%BB%8F%E5%B8%B8%E4%BC%9A%E5%B4%A9%E6%BA%83%EF%BC%8C%E5%9B%A0%E4%B8%BA%E7%BC%96%E8%AF%91%E5%99%A8%E6%9C%89%E6%97%B6%E5%AF%B9%E8%99%9A%E8%A1%A8%E7%9A%84%E5%A4%84%E7%90%86%E4%B8%8D%E5%B9%B2%E5%87%80%EF%BC%8C%E8%99%9A%E8%A1%A8%E6%9C%80%E5%90%8E%E9%9D%A2%E6%B2%A1%E6%9C%89%5Cn%E6%94%BEnullptr%EF%BC%8C%E5%AF%BC%E8%87%B4%E8%B6%8A%E7%95%8C%EF%BC%8C%E8%BF%99%E6%98%AF%E7%BC%96%E8%AF%91%E5%99%A8%E7%9A%84%E9%97%AE%E9%A2%98%E3%80%82%E6%88%91%E4%BB%AC%E5%8F%AA%E9%9C%80%E8%A6%81%E7%82%B9%E7%9B%AE%E5%BD%95%E6%A0%8F%E7%9A%84-%E7%94%9F%E6%88%90-%E6%B8%85%E7%90%86%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%8C%E5%86%8D%E7%BC%96%E8%AF%91%E5%B0%B1%E5%A5%BD%E4%BA%86%E3%80%82%5Cn%20VFPTR*%20vTableb%20%3D%20(VFPTR*)(*(int*)%26b)%3B%5Cn%20PrintVTable(vTableb)%3B%5Cn%20VFPTR*%20vTabled%20%3D%20(VFPTR*)(*(int*)%26d)%3B%5Cn%20PrintVTable(vTabled)%3B%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22edDAz%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u8cbf4af8" id="u8cbf4af8"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745666197988-604cfd34-1997-4403-85ba-ce94024fbae6.png%22%2C%22taskId%22%3A%22u8633dc42-afb6-4d4e-a68e-4c316e601e8%22%2C%22clientId%22%3A%22u31c019b1-595b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.4285714285714%2C%22height%22%3A299%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A2276341%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A524%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22CLASS%20DERIVE%20PUBLIC%20BASE%20CLASS%20BASE%20%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3E003F7864%20%E7%AC%AC0%E4%B8%AA%E8%99%9A%E4%B8%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X3F100A%2C-BASE%3A%3AFUNCL%20%E7%AC%AC1%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%20%3A0X3F1168%2C-BASE%3A%3AFUNC2%20PUBLIC%20PUBLIC%20%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3E003F7894%20VIRTUAL%20VOID%20FUNC10%20VIRTUAL%20VOID%20FUNC1()%20%E7%AC%AC0%E4%B8%AA%E9%9B%84%E9%9B%A8%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X3F1104%2C-DERIVE%3A%3AFUNE1%200%20%E7%AC%AC1%E4%B8%AA%E7%BD%90%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X3F1168%2C-BASE%3A%3AFUNC2%20%E7%AC%AC2%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X3F1122%2C-DERIVE%3AFUNE3%20VIRTUAL%20VOID%20FUNC3()%20VIRTUAL%20VOID%20FUNC2()%20%E7%AC%AC3%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X3F10A0%2C-%3EDERIVE%3AFUNC4%200%20VIRTUALVOID%20FUNC40%20PRIVATE%20INT%20A%20VTABLEADDRESS%20DERFYE%3AFUNCL%20PRIVATE%20BASE%3AIFUNE2%20INT%20B%3A%20DERIVE%3A%3AFUNE3%20DERIVE%3AFUNE%20O%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A318%2C%22y%22%3A103%2C%22width%22%3A204%2C%22height%22%3A21%2C%22text%22%3A%22CLASS%20DERIVE%20PUBLIC%20BASE%22%7D%2C%7B%22x%22%3A32%2C%22y%22%3A106%2C%22width%22%3A83%2C%22height%22%3A16%2C%22text%22%3A%22CLASS%20BASE%22%7D%2C%7B%22x%22%3A627%2C%22y%22%3A108%2C%22width%22%3A173%2C%22height%22%3A18%2C%22text%22%3A%22%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3E003F7864%22%7D%2C%7B%22x%22%3A629%2C%22y%22%3A125%2C%22width%22%3A394%2C%22height%22%3A23%2C%22text%22%3A%22%E7%AC%AC0%E4%B8%AA%E8%99%9A%E4%B8%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X3F100A%2C-BASE%3A%3AFUNCL%22%7D%2C%7B%22x%22%3A628%2C%22y%22%3A147%2C%22width%22%3A156%2C%22height%22%3A17%2C%22text%22%3A%22%E7%AC%AC1%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%22%7D%2C%7B%22x%22%3A794%2C%22y%22%3A147%2C%22width%22%3A225%2C%22height%22%3A17%2C%22text%22%3A%22%3A0X3F1168%2C-BASE%3A%3AFUNC2%22%7D%2C%7B%22x%22%3A316%2C%22y%22%3A160%2C%22width%22%3A57%2C%22height%22%3A20%2C%22text%22%3A%22PUBLIC%22%7D%2C%7B%22x%22%3A30%2C%22y%22%3A160%2C%22width%22%3A52%2C%22height%22%3A19%2C%22text%22%3A%22PUBLIC%22%7D%2C%7B%22x%22%3A627%2C%22y%22%3A183%2C%22width%22%3A176%2C%22height%22%3A19%2C%22text%22%3A%22%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3E003F7894%22%7D%2C%7B%22x%22%3A42%2C%22y%22%3A188%2C%22width%22%3A160%2C%22height%22%3A20%2C%22text%22%3A%22VIRTUAL%20VOID%20FUNC10%22%7D%2C%7B%22x%22%3A325%2C%22y%22%3A189%2C%22width%22%3A156%2C%22height%22%3A19%2C%22text%22%3A%22VIRTUAL%20VOID%20FUNC1()%22%7D%2C%7B%22x%22%3A630%2C%22y%22%3A203%2C%22width%22%3A408%2C%22height%22%3A19%2C%22text%22%3A%22%E7%AC%AC0%E4%B8%AA%E9%9B%84%E9%9B%A8%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X3F1104%2C-DERIVE%3A%3AFUNE1%22%7D%2C%7B%22x%22%3A348%2C%22y%22%3A216%2C%22width%22%3A14%2C%22height%22%3A21%2C%22text%22%3A%220%22%7D%2C%7B%22x%22%3A630%2C%22y%22%3A222%2C%22width%22%3A391%2C%22height%22%3A18%2C%22text%22%3A%22%E7%AC%AC1%E4%B8%AA%E7%BD%90%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X3F1168%2C-BASE%3A%3AFUNC2%22%7D%2C%7B%22x%22%3A630%2C%22y%22%3A241%2C%22width%22%3A408%2C%22height%22%3A18%2C%22text%22%3A%22%E7%AC%AC2%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X3F1122%2C-DERIVE%3AFUNE3%22%7D%2C%7B%22x%22%3A321%2C%22y%22%3A244%2C%22width%22%3A161%2C%22height%22%3A22%2C%22text%22%3A%22VIRTUAL%20VOID%20FUNC3()%22%7D%2C%7B%22x%22%3A35%2C%22y%22%3A244%2C%22width%22%3A162%2C%22height%22%3A20%2C%22text%22%3A%22VIRTUAL%20VOID%20FUNC2()%22%7D%2C%7B%22x%22%3A630%2C%22y%22%3A261%2C%22width%22%3A410%2C%22height%22%3A18%2C%22text%22%3A%22%E7%AC%AC3%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X3F10A0%2C-%3EDERIVE%3AFUNC4%22%7D%2C%7B%22x%22%3A347%2C%22y%22%3A274%2C%22width%22%3A17%2C%22height%22%3A20%2C%22text%22%3A%220%22%7D%2C%7B%22x%22%3A321%2C%22y%22%3A301%2C%22width%22%3A161%2C%22height%22%3A21%2C%22text%22%3A%22VIRTUALVOID%20FUNC40%22%7D%2C%7B%22x%22%3A30%2C%22y%22%3A304%2C%22width%22%3A63%2C%22height%22%3A16%2C%22text%22%3A%22PRIVATE%22%7D%2C%7B%22x%22%3A34%2C%22y%22%3A331%2C%22width%22%3A51%2C%22height%22%3A19%2C%22text%22%3A%22INT%20A%22%7D%2C%7B%22x%22%3A633%2C%22y%22%3A342%2C%22width%22%3A116%2C%22height%22%3A14%2C%22text%22%3A%22VTABLEADDRESS%22%7D%2C%7B%22x%22%3A871%2C%22y%22%3A343%2C%22width%22%3A115%2C%22height%22%3A13%2C%22text%22%3A%22DERFYE%3AFUNCL%22%7D%2C%7B%22x%22%3A316%2C%22y%22%3A361%2C%22width%22%3A63%2C%22height%22%3A15%2C%22text%22%3A%22PRIVATE%22%7D%2C%7B%22x%22%3A879%2C%22y%22%3A378%2C%22width%22%3A100%2C%22height%22%3A14%2C%22text%22%3A%22BASE%3AIFUNE2%22%7D%2C%7B%22x%22%3A320%2C%22y%22%3A387%2C%22width%22%3A50%2C%22height%22%3A16%2C%22text%22%3A%22INT%20B%3A%22%7D%2C%7B%22x%22%3A870%2C%22y%22%3A412%2C%22width%22%3A119%2C%22height%22%3A14%2C%22text%22%3A%22DERIVE%3A%3AFUNE3%22%7D%2C%7B%22x%22%3A869%2C%22y%22%3A447%2C%22width%22%3A118%2C%22height%22%3A14%2C%22text%22%3A%22DERIVE%3AFUNE%22%7D%2C%7B%22x%22%3A922%2C%22y%22%3A481%2C%22width%22%3A15%2C%22height%22%3A17%2C%22text%22%3A%22O%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23d6d8d3%22%2C%22id%22%3A%22uc705e0a3%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><h4 data-lake-id="Nt7kV" id="Nt7kV"><span data-lake-id="ub41a9b10" id="ub41a9b10" style="color: rgb(51,51,51)">5.2 多继承中的虚函数表</span></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Base1%20%7B%5Cnpublic%3A%5Cn%20virtual%20void%20func1()%20%7Bcout%20%3C%3C%20%5C%22Base1%3A%3Afunc1%5C%22%20%3C%3C%20endl%3B%7D%5Cn%20virtual%20void%20func2()%20%7Bcout%20%3C%3C%20%5C%22Base1%3A%3Afunc2%5C%22%20%3C%3C%20endl%3B%7D%5Cnprivate%3A%5Cn%20int%20b1%3B%5Cn%7D%3B%5Cnclass%20Base2%20%7B%5Cnpublic%3A%5Cn%20virtual%20void%20func1()%20%7Bcout%20%3C%3C%20%5C%22Base2%3A%3Afunc1%5C%22%20%3C%3C%20endl%3B%7D%5Cn%20virtual%20void%20func2()%20%7Bcout%20%3C%3C%20%5C%22Base2%3A%3Afunc2%5C%22%20%3C%3C%20endl%3B%7D%5Cnprivate%3A%5Cn%20int%20b2%3B%5Cn%7D%3B%5Cnclass%20Derive%20%3A%20public%20Base1%2C%20public%20Base2%20%7B%5Cnpublic%3A%5Cn%20virtual%20void%20func1()%20%7Bcout%20%3C%3C%20%5C%22Derive%3A%3Afunc1%5C%22%20%3C%3C%20endl%3B%7D%5Cn%20virtual%20void%20func3()%20%7Bcout%20%3C%3C%20%5C%22Derive%3A%3Afunc3%5C%22%20%3C%3C%20endl%3B%7D%5Cnprivate%3A%5Cn%20int%20d1%3B%5Cn%7D%3B%5Cntypedef%20void(*VFPTR)%20()%3B%5Cnvoid%20PrintVTable(VFPTR%20vTable%5B%5D)%5Cn%7B%5Cn%20cout%20%3C%3C%20%5C%22%20%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3E%5C%22%20%3C%3C%20vTable%20%3C%3C%20endl%3B%5Cn%20for%20(int%20i%20%3D%200%3B%20vTable%5Bi%5D%20!%3D%20nullptr%3B%20%2B%2Bi)%5Cn%20%7B%5Cn%20printf(%5C%22%20%E7%AC%AC%25d%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%20%3A0X%25x%2C-%3E%5C%22%2C%20i%2C%20vTable%5Bi%5D)%3B%5Cn%20VFPTR%20f%20%3D%20vTable%5Bi%5D%3B%5Cn%20f()%3B%5Cn%20%7D%5Cn%20cout%20%3C%3C%20endl%3B%5Cn%7D%5Cnint%20main()%5Cn%7B%5Cn%20Derive%20d%3B%5Cn%20VFPTR*%20vTableb1%20%3D%20(VFPTR*)(*(int*)%26d)%3B%5Cn%20PrintVTable(vTableb1)%3B%5Cn%20VFPTR*%20vTableb2%20%3D%20(VFPTR*)(*(int*)((char*)%26d%2Bsizeof(Base1)))%3B%5Cn%20PrintVTable(vTableb2)%3B%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22SqDgp%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u9af943e2" id="u9af943e2"><span data-lake-id="u278ce198" id="u278ce198" class="lake-fontsize-12">​</span><br></p><p data-lake-id="u916bc659" id="u916bc659"><span data-lake-id="u4e54e0b3" id="u4e54e0b3" class="lake-fontsize-12" style="color: rgb(119,119,119)">观察下图可以看出：</span><strong><span data-lake-id="u64d63bce" id="u64d63bce" class="lake-fontsize-12" style="color: #DF2A3F">多继承派生类的未重写的虚函数放在第一个继承基类部分的虚函数表中</span></strong></p><p data-lake-id="uc8c55159" id="uc8c55159"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1745666205697-df847c87-f9de-4a15-9f2f-9074a760e116.png%22%2C%22taskId%22%3A%22u3706a2e3-02c2-4181-85d6-e8df2e5070d%22%2C%22clientId%22%3A%22u31c019b1-595b-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.4285714285714%2C%22height%22%3A315%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A2397977%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A1084%2C%22originHeight%22%3A552%2C%22ratio%22%3A1.75%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22search%22%3A%22CLASS%20BASE1%20CLASS%20DERIVE%3APUBLIC%20BASE%20I%2CPUBLIC%20BASED%20%E5%BA%B7%E8%A1%A8%E5%9C%B0%E5%9D%80%3A01147874%20%E7%AC%AC0%E4%B8%AA%E8%99%9A%E4%B8%A4%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X1141104%2C-DERIVE%3AFUNC1%20PUBLIC%3A%20PUBLIC%3A%20%E7%83%AD2%E4%B8%AA%E6%97%85%E6%B8%B8%E6%95%B0%E7%B3%96%E5%9D%80%3A0X1141322%3ABERTE%3ATONES%20VIRTUAL%20VOID%20FUNC1()%20VIRTUAL%20VOID%20FUNC1()%20VIRTUAL%20VOID%20FUNC20%20%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3E01147864%20VIRTUAL%20VOID%20FUNC3()%20%E7%AC%AC0%E4%B8%AA%E8%99%9A%E9%9B%A8%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X1141154%2C-DERIVE%3A%3AFUNCL%200%20%E7%AC%AC1%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X1141LAE%2C-%3EBASE2%3AFUNC2%20PRIVATE%20PRIVATE%20%E6%A0%A1%E5%B7%A5%20INT%20B1%3A%20INT%20D1%3A%20%E4%B8%8A%20CLASS%20BASE2%20BASEL-VTABLE%20DERIVE%3AFUNCL%20BASEL%3AFUNC2%20PUBLIC%20DERI%20GE1%3AFUNE3%20VIRTUAL%20VOID%20FUNC%2010%200%20BASE2-YTABLE%20VIRTUAL%20VOID%20FUNC20%20DERIVE%3A%3AFUNE1%20D1%20BASE2%3AFUNC2%20PRIVATE%200%20INT%20B2%3A%22%2C%22ocrLocations%22%3A%5B%7B%22x%22%3A37%2C%22y%22%3A48%2C%22width%22%3A74%2C%22height%22%3A15%2C%22text%22%3A%22CLASS%20BASE1%22%7D%2C%7B%22x%22%3A283%2C%22y%22%3A48%2C%22width%22%3A282%2C%22height%22%3A21%2C%22text%22%3A%22CLASS%20DERIVE%3APUBLIC%20BASE%20I%2CPUBLIC%20BASED%22%7D%2C%7B%22x%22%3A667%2C%22y%22%3A72%2C%22width%22%3A166%2C%22height%22%3A19%2C%22text%22%3A%22%E5%BA%B7%E8%A1%A8%E5%9C%B0%E5%9D%80%3A01147874%22%7D%2C%7B%22x%22%3A668%2C%22y%22%3A89%2C%22width%22%3A399%2C%22height%22%3A24%2C%22text%22%3A%22%E7%AC%AC0%E4%B8%AA%E8%99%9A%E4%B8%A4%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X1141104%2C-DERIVE%3AFUNC1%22%7D%2C%7B%22x%22%3A283%2C%22y%22%3A95%2C%22width%22%3A54%2C%22height%22%3A20%2C%22text%22%3A%22PUBLIC%3A%22%7D%2C%7B%22x%22%3A33%2C%22y%22%3A96%2C%22width%22%3A54%2C%22height%22%3A16%2C%22text%22%3A%22PUBLIC%3A%22%7D%2C%7B%22x%22%3A667%2C%22y%22%3A105%2C%22width%22%3A405%2C%22height%22%3A45%2C%22text%22%3A%22%E7%83%AD2%E4%B8%AA%E6%97%85%E6%B8%B8%E6%95%B0%E7%B3%96%E5%9D%80%3A0X1141322%3ABERTE%3ATONES%22%7D%2C%7B%22x%22%3A60%2C%22y%22%3A118%2C%22width%22%3A136%2C%22height%22%3A18%2C%22text%22%3A%22VIRTUAL%20VOID%20FUNC1()%22%7D%2C%7B%22x%22%3A312%2C%22y%22%3A120%2C%22width%22%3A135%2C%22height%22%3A18%2C%22text%22%3A%22VIRTUAL%20VOID%20FUNC1()%22%7D%2C%7B%22x%22%3A59%2C%22y%22%3A166%2C%22width%22%3A136%2C%22height%22%3A17%2C%22text%22%3A%22VIRTUAL%20VOID%20FUNC20%22%7D%2C%7B%22x%22%3A670%2C%22y%22%3A166%2C%22width%22%3A168%2C%22height%22%3A21%2C%22text%22%3A%22%E8%99%9A%E8%A1%A8%E5%9C%B0%E5%9D%80%3E01147864%22%7D%2C%7B%22x%22%3A312%2C%22y%22%3A168%2C%22width%22%3A134%2C%22height%22%3A16%2C%22text%22%3A%22VIRTUAL%20VOID%20FUNC3()%22%7D%2C%7B%22x%22%3A668%2C%22y%22%3A184%2C%22width%22%3A398%2C%22height%22%3A20%2C%22text%22%3A%22%E7%AC%AC0%E4%B8%AA%E8%99%9A%E9%9B%A8%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X1141154%2C-DERIVE%3A%3AFUNCL%22%7D%2C%7B%22x%22%3A59%2C%22y%22%3A191%2C%22width%22%3A15%2C%22height%22%3A17%2C%22text%22%3A%220%22%7D%2C%7B%22x%22%3A668%2C%22y%22%3A204%2C%22width%22%3A390%2C%22height%22%3A22%2C%22text%22%3A%22%E7%AC%AC1%E4%B8%AA%E8%99%9A%E5%87%BD%E6%95%B0%E5%9C%B0%E5%9D%80%3A0X1141LAE%2C-%3EBASE2%3AFUNC2%22%7D%2C%7B%22x%22%3A34%2C%22y%22%3A217%2C%22width%22%3A56%2C%22height%22%3A14%2C%22text%22%3A%22PRIVATE%22%7D%2C%7B%22x%22%3A285%2C%22y%22%3A218%2C%22width%22%3A50%2C%22height%22%3A15%2C%22text%22%3A%22PRIVATE%22%7D%2C%7B%22x%22%3A233%2C%22y%22%3A238%2C%22width%22%3A25%2C%22height%22%3A37%2C%22text%22%3A%22%E6%A0%A1%E5%B7%A5%22%7D%2C%7B%22x%22%3A58%2C%22y%22%3A239%2C%22width%22%3A53%2C%22height%22%3A15%2C%22text%22%3A%22INT%20B1%3A%22%7D%2C%7B%22x%22%3A311%2C%22y%22%3A239%2C%22width%22%3A49%2C%22height%22%3A15%2C%22text%22%3A%22INT%20D1%3A%22%7D%2C%7B%22x%22%3A31%2C%22y%22%3A261%2C%22width%22%3A15%2C%22height%22%3A19%2C%22text%22%3A%22%E4%B8%8A%22%7D%2C%7B%22x%22%3A34%2C%22y%22%3A286%2C%22width%22%3A78%2C%22height%22%3A15%2C%22text%22%3A%22CLASS%20BASE2%22%7D%2C%7B%22x%22%3A672%2C%22y%22%3A305%2C%22width%22%3A117%2C%22height%22%3A15%2C%22text%22%3A%22BASEL-VTABLE%22%7D%2C%7B%22x%22%3A909%2C%22y%22%3A307%2C%22width%22%3A114%2C%22height%22%3A14%2C%22text%22%3A%22DERIVE%3AFUNCL%22%7D%2C%7B%22x%22%3A913%2C%22y%22%3A329%2C%22width%22%3A110%2C%22height%22%3A15%2C%22text%22%3A%22BASEL%3AFUNC2%22%7D%2C%7B%22x%22%3A34%2C%22y%22%3A334%2C%22width%22%3A49%2C%22height%22%3A18%2C%22text%22%3A%22PUBLIC%22%7D%2C%7B%22x%22%3A908%2C%22y%22%3A350%2C%22width%22%3A118%2C%22height%22%3A16%2C%22text%22%3A%22DERI%20GE1%3AFUNE3%22%7D%2C%7B%22x%22%3A58%2C%22y%22%3A356%2C%22width%22%3A136%2C%22height%22%3A19%2C%22text%22%3A%22VIRTUAL%20VOID%20FUNC%2010%22%7D%2C%7B%22x%22%3A960%2C%22y%22%3A374%2C%22width%22%3A14%2C%22height%22%3A13%2C%22text%22%3A%220%22%7D%2C%7B%22x%22%3A673%2C%22y%22%3A375%2C%22width%22%3A115%2C%22height%22%3A13%2C%22text%22%3A%22BASE2-YTABLE%22%7D%2C%7B%22x%22%3A60%2C%22y%22%3A405%2C%22width%22%3A134%2C%22height%22%3A16%2C%22text%22%3A%22VIRTUAL%20VOID%20FUNC20%22%7D%2C%7B%22x%22%3A908%2C%22y%22%3A429%2C%22width%22%3A115%2C%22height%22%3A13%2C%22text%22%3A%22DERIVE%3A%3AFUNE1%22%7D%2C%7B%22x%22%3A719%2C%22y%22%3A442%2C%22width%22%3A20%2C%22height%22%3A16%2C%22text%22%3A%22D1%22%7D%2C%7B%22x%22%3A912%2C%22y%22%3A451%2C%22width%22%3A108%2C%22height%22%3A14%2C%22text%22%3A%22BASE2%3AFUNC2%22%7D%2C%7B%22x%22%3A33%2C%22y%22%3A454%2C%22width%22%3A56%2C%22height%22%3A16%2C%22text%22%3A%22PRIVATE%22%7D%2C%7B%22x%22%3A959%2C%22y%22%3A471%2C%22width%22%3A16%2C%22height%22%3A16%2C%22text%22%3A%220%22%7D%2C%7B%22x%22%3A59%2C%22y%22%3A477%2C%22width%22%3A52%2C%22height%22%3A15%2C%22text%22%3A%22INT%20B2%3A%22%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23d4d8cd%22%2C%22id%22%3A%22u0793b289%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><ol list="u9c53325b"><li fid="u2eaa6e37" data-lake-id="u18f5a860" id="u18f5a860"><strong><span data-lake-id="u3c8a1f69" id="u3c8a1f69" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">同名虚函数在不同虚表中的地址不同</span></strong><span data-lake-id="u067c1cb2" id="u067c1cb2" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">，因为编译器生成了不同的跳转代码（thunk），用于处理this指针的调整。</span></li><li fid="u2eaa6e37" data-lake-id="u831b7695" id="u831b7695"><strong><span data-lake-id="u8fcb557d" id="u8fcb557d" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">最终调用的仍是同一个</span></strong><code data-lake-id="ua0ffde05" id="ua0ffde05"><strong><span data-lake-id="u8e272c7d" id="u8e272c7d" class="lake-fontsize-12" style="color: rgb(64, 64, 64); background-color: rgb(236, 236, 236)">Derive::func1()</span></strong></code><strong><span data-lake-id="u8fc85a8a" id="u8fc85a8a" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">函数</span></strong><span data-lake-id="u0ee09689" id="u0ee09689" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">，但调用路径不同。</span></li><li fid="u2eaa6e37" data-lake-id="ud4f14e82" id="ud4f14e82"><span data-lake-id="u410ab855" id="u410ab855" class="lake-fontsize-12" style="color: rgb(64, 64, 64)">这是多重继承中实现多态的必要机制，确保通过任意基类指针都能正确访问派生类的重写函数。</span></li></ol><p data-lake-id="ua9a01495" id="ua9a01495"><br></p><h4 data-lake-id="hLfzX" id="hLfzX"><span data-lake-id="uceffcba8" id="uceffcba8" style="color: rgb(51,51,51)">5.3. 菱形继承、菱形虚拟继承 </span></h4><p data-lake-id="u333788da" id="u333788da"><span data-lake-id="u43399a6a" id="u43399a6a" class="lake-fontsize-12" style="color: rgb(119,119,119)">实际中我们不建议设计出菱形继承及菱形虚拟继承，一方面太复杂容易出问题，另一方面这样的模型，访问基类成员有一定得性能损耗。所以菱形继承、菱形虚拟继承我们的虚表我们就不看了，一般我们也不需要研究清楚，因为实际中很少用。</span></p><h3 data-lake-id="WW2fE" id="WW2fE"><span data-lake-id="u25878ded" id="u25878ded" style="color: rgb(51,51,51)">6. 继承和多态常见的面试问题 </span></h3><h4 data-lake-id="s6Lca" id="s6Lca"><span data-lake-id="u364e3859" id="u364e3859" style="color: rgb(51,51,51)">6.1 概念查考</span></h4><p data-lake-id="u078e2efc" id="u078e2efc"><span data-lake-id="u7ac52d11" id="u7ac52d11" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><span data-lake-id="u058e1f81" id="u058e1f81" class="lake-fontsize-12" style="color: rgb(119,119,119)">下面哪种面向对象的方法可以让你变得富有</span><span data-lake-id="u1bae3e88" id="u1bae3e88" class="lake-fontsize-12" style="color: rgb(119,119,119)">( ) </span></p><p data-lake-id="uf88289ed" id="uf88289ed"><span data-lake-id="uf8394884" id="uf8394884" class="lake-fontsize-12" style="color: rgb(119,119,119)">A: </span><span data-lake-id="u80abe6d5" id="u80abe6d5" class="lake-fontsize-12" style="color: rgb(119,119,119)">继承</span><span data-lake-id="u12e744d1" id="u12e744d1" class="lake-fontsize-12" style="color: rgb(119,119,119)"> B: </span><span data-lake-id="u72eecdaa" id="u72eecdaa" class="lake-fontsize-12" style="color: rgb(119,119,119)">封装</span><span data-lake-id="u5de33028" id="u5de33028" class="lake-fontsize-12" style="color: rgb(119,119,119)"> C: </span><span data-lake-id="u42894a0c" id="u42894a0c" class="lake-fontsize-12" style="color: rgb(119,119,119)">多态</span><span data-lake-id="uc118935f" id="uc118935f" class="lake-fontsize-12" style="color: rgb(119,119,119)"> D: </span><span data-lake-id="u92abfe05" id="u92abfe05" class="lake-fontsize-12" style="color: rgb(119,119,119)">抽象 </span></p><p data-lake-id="u5e554dea" id="u5e554dea"><span data-lake-id="ucdabfca0" id="ucdabfca0" class="lake-fontsize-12" style="color: rgb(119,119,119)">￥2. ( )是面向对象程序设计语言中的一种机制。这种机制实现了方法的定义与具体的对象无关，而对方法的调用则可以关联于具体的对象。 </span></p><p data-lake-id="u19cc8023" id="u19cc8023"><span data-lake-id="u21453b36" id="u21453b36" class="lake-fontsize-12" style="color: rgb(119,119,119)">A: 继承 B: 模板 C: 对象的自身引用 D: 动态绑定 </span></p><p data-lake-id="u974eb169" id="u974eb169"><span data-lake-id="uffb36a19" id="uffb36a19" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. 面向对象设计中的继承和组合，下面说法</span><strong><span data-lake-id="u574c4a17" id="u574c4a17" class="lake-fontsize-12" style="color: rgb(119,119,119)">错误</span></strong><span data-lake-id="u32f04de3" id="u32f04de3" class="lake-fontsize-12" style="color: rgb(119,119,119)">的是？（） </span></p><p data-lake-id="u4e03f46f" id="u4e03f46f"><span data-lake-id="u93f34bf0" id="u93f34bf0" class="lake-fontsize-12" style="color: rgb(119,119,119)">A：继承允许我们覆盖重写父类的实现细节，父类的实现对于子类是可见的，是一种静态复用，也称为白盒复用 </span></p><p data-lake-id="u0f7c9bd9" id="u0f7c9bd9"><span data-lake-id="u1952d377" id="u1952d377" class="lake-fontsize-12" style="color: rgb(119,119,119)">B：组合的对象不需要关心各自的实现细节，之间的关系是在运行时候才确定的，是一种动态复用，也称为黑盒复用 </span></p><p data-lake-id="ucb4235b3" id="ucb4235b3"><span data-lake-id="u83fe32b0" id="u83fe32b0" class="lake-fontsize-12" style="color: rgb(119,119,119)">C</span><span data-lake-id="u4c8cc7c0" id="u4c8cc7c0" class="lake-fontsize-12" style="color: rgb(119,119,119)">：优先使用继承，而不是组合，是面向对象设计的第二原则 </span></p><p data-lake-id="u21a0bc62" id="u21a0bc62"><span data-lake-id="ua8047735" id="ua8047735" class="lake-fontsize-12" style="color: rgb(119,119,119)">D</span><span data-lake-id="ue81fe3ae" id="ue81fe3ae" class="lake-fontsize-12" style="color: rgb(119,119,119)">：继承可以使子类能自动继承父类的接口，但在设计模式中认为这是一种破坏了父类的封装性的表现 </span></p><p data-lake-id="u62fefb35" id="u62fefb35"><span data-lake-id="u40215a55" id="u40215a55" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. 以下关于</span><strong><span data-lake-id="u628e0802" id="u628e0802" class="lake-fontsize-12" style="color: rgb(119,119,119)">纯虚函数</span></strong><span data-lake-id="u5eec0cca" id="u5eec0cca" class="lake-fontsize-12" style="color: rgb(119,119,119)">的说法,正确的是( ) </span></p><p data-lake-id="u0bfe3d60" id="u0bfe3d60"><span data-lake-id="u73ca7628" id="u73ca7628" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="ue6da8020" id="ue6da8020" class="lake-fontsize-12" style="color: rgb(119,119,119)">：声明纯虚函数的类不能实例化对象</span><span data-lake-id="u21c98ca2" id="u21c98ca2" class="lake-fontsize-12" style="color: rgb(119,119,119)"> B</span><span data-lake-id="u634a48e4" id="u634a48e4" class="lake-fontsize-12" style="color: rgb(119,119,119)">：声明纯虚函数的类是虚基类 </span></p><p data-lake-id="uc0c3ecc6" id="uc0c3ecc6"><span data-lake-id="ub2a6e710" id="ub2a6e710" class="lake-fontsize-12" style="color: rgb(119,119,119)">C：子类必须实现基类的纯虚函数 	  D：纯虚函数必须是空函数 </span></p><p data-lake-id="uc2d0b386" id="uc2d0b386"><span data-lake-id="ucabaa9d2" id="ucabaa9d2" class="lake-fontsize-12" style="color: rgb(119,119,119)">￥5. 关于虚函数的描述正确的是( ) </span></p><p data-lake-id="u4438ab92" id="u4438ab92"><span data-lake-id="u306967b1" id="u306967b1" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="u124bf4ec" id="u124bf4ec" class="lake-fontsize-12" style="color: rgb(119,119,119)">：派生类的虚函数与基类的虚函数具有不同的参数个数和类型</span><span data-lake-id="u87728442" id="u87728442" class="lake-fontsize-12" style="color: rgb(119,119,119)"> </span></p><p data-lake-id="uca6a85f7" id="uca6a85f7"><span data-lake-id="ue2dd5b59" id="ue2dd5b59" class="lake-fontsize-12" style="color: rgb(119,119,119)">B：内联函数不能是虚函数</span></p><p data-lake-id="u6f462ea2" id="u6f462ea2"><span data-lake-id="ub66c6972" id="ub66c6972" class="lake-fontsize-12" style="color: rgb(119,119,119)">C：派生类必须重新定义基类的虚函数</span></p><p data-lake-id="u4798934d" id="u4798934d"><span data-lake-id="ue1dc57a8" id="ue1dc57a8" class="lake-fontsize-12" style="color: rgb(119,119,119)">D：虚函数可以是一个static型的函数</span></p><p data-lake-id="u2b563c04" id="u2b563c04"><span data-lake-id="uc84f1d25" id="uc84f1d25" class="lake-fontsize-12" style="color: rgb(119,119,119)">6. </span><span data-lake-id="ud76e634b" id="ud76e634b" class="lake-fontsize-12" style="color: rgb(119,119,119)">关于虚表说法正确的是（ ） </span></p><p data-lake-id="uc40a5472" id="uc40a5472"><span data-lake-id="uc7cfa407" id="uc7cfa407" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="uc9af7d5b" id="uc9af7d5b" class="lake-fontsize-12" style="color: rgb(119,119,119)">：一个类只能有一张虚表 </span></p><p data-lake-id="u7a2c2eba" id="u7a2c2eba"><span data-lake-id="u92fbb53c" id="u92fbb53c" class="lake-fontsize-12" style="color: rgb(119,119,119)">B</span><span data-lake-id="ueb6d6f4e" id="ueb6d6f4e" class="lake-fontsize-12" style="color: rgb(119,119,119)">：基类中有虚函数，如果子类中没有重写基类的虚函数，此时子类与基类共用同一张虚表 </span></p><p data-lake-id="ua0bad5c4" id="ua0bad5c4"><span data-lake-id="u5e5fd675" id="u5e5fd675" class="lake-fontsize-12" style="color: rgb(119,119,119)">C</span><span data-lake-id="u9522b5bc" id="u9522b5bc" class="lake-fontsize-12" style="color: rgb(119,119,119)">：虚表是在运行期间动态生成的 </span></p><p data-lake-id="ucf956965" id="ucf956965"><span data-lake-id="u3ea00989" id="u3ea00989" class="lake-fontsize-12" style="color: rgb(119,119,119)">D</span><span data-lake-id="u2c98caf9" id="u2c98caf9" class="lake-fontsize-12" style="color: rgb(119,119,119)">：一个类的不同对象共享该类的虚表 </span></p><p data-lake-id="ue977cc3f" id="ue977cc3f"><span data-lake-id="u61e8526a" id="u61e8526a" class="lake-fontsize-12" style="color: rgb(119,119,119)">7. </span><span data-lake-id="u4081ca51" id="u4081ca51" class="lake-fontsize-12" style="color: rgb(119,119,119)">假设</span><span data-lake-id="u81a91e7d" id="u81a91e7d" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="uf244d7b6" id="uf244d7b6" class="lake-fontsize-12" style="color: rgb(119,119,119)">类中有虚函数，</span><span data-lake-id="u72cce645" id="u72cce645" class="lake-fontsize-12" style="color: rgb(119,119,119)">B</span><span data-lake-id="u73b98f26" id="u73b98f26" class="lake-fontsize-12" style="color: rgb(119,119,119)">继承自</span><span data-lake-id="ud447bbc6" id="ud447bbc6" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="u0d10e5c3" id="u0d10e5c3" class="lake-fontsize-12" style="color: rgb(119,119,119)">，</span><span data-lake-id="u6981ff0e" id="u6981ff0e" class="lake-fontsize-12" style="color: rgb(119,119,119)">B</span><span data-lake-id="u182d577e" id="u182d577e" class="lake-fontsize-12" style="color: rgb(119,119,119)">重写</span><span data-lake-id="u95e3477d" id="u95e3477d" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="u52523b52" id="u52523b52" class="lake-fontsize-12" style="color: rgb(119,119,119)">中的虚函数，也没有定义任何虚函数，则（ ） </span></p><p data-lake-id="ubeef500c" id="ubeef500c"><span data-lake-id="u39f7907e" id="u39f7907e" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="ub50913cc" id="ub50913cc" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><span data-lake-id="u381cd37e" id="u381cd37e" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="uc18c9026" id="uc18c9026" class="lake-fontsize-12" style="color: rgb(119,119,119)">类对象的前</span><span data-lake-id="ud065f45f" id="ud065f45f" class="lake-fontsize-12" style="color: rgb(119,119,119)">4</span><span data-lake-id="u336280b1" id="u336280b1" class="lake-fontsize-12" style="color: rgb(119,119,119)">个字节存储虚表地址，</span><span data-lake-id="u38c803a4" id="u38c803a4" class="lake-fontsize-12" style="color: rgb(119,119,119)">B</span><span data-lake-id="u0e262302" id="u0e262302" class="lake-fontsize-12" style="color: rgb(119,119,119)">类对象前</span><span data-lake-id="u5b8d8f6c" id="u5b8d8f6c" class="lake-fontsize-12" style="color: rgb(119,119,119)">4</span><span data-lake-id="ue4babfdf" id="ue4babfdf" class="lake-fontsize-12" style="color: rgb(119,119,119)">个字节不是虚表地址 </span></p><p data-lake-id="u92f757bc" id="u92f757bc"><span data-lake-id="ua2b44f37" id="ua2b44f37" class="lake-fontsize-12" style="color: rgb(119,119,119)">B：A类对象和B类对象前4个字节存储的都是虚基表的地址 （虚基表存储的是偏移量，是解决的菱形继承的数据冗余和二义性）</span></p><p data-lake-id="u605b3df8" id="u605b3df8"><span data-lake-id="u9752689a" id="u9752689a" class="lake-fontsize-12" style="color: rgb(119,119,119)">C</span><span data-lake-id="uc7133ef1" id="uc7133ef1" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><span data-lake-id="udc29863a" id="udc29863a" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="u165c6634" id="u165c6634" class="lake-fontsize-12" style="color: rgb(119,119,119)">类对象和</span><span data-lake-id="uab8fe54a" id="uab8fe54a" class="lake-fontsize-12" style="color: rgb(119,119,119)">B</span><span data-lake-id="uf91bfb04" id="uf91bfb04" class="lake-fontsize-12" style="color: rgb(119,119,119)">类对象前</span><span data-lake-id="ufd73df62" id="ufd73df62" class="lake-fontsize-12" style="color: rgb(119,119,119)">4</span><span data-lake-id="u219ed866" id="u219ed866" class="lake-fontsize-12" style="color: rgb(119,119,119)">个字节存储的虚表地址相同 </span></p><p data-lake-id="u6f3a3330" id="u6f3a3330"><span data-lake-id="uf14c39bc" id="uf14c39bc" class="lake-fontsize-12" style="color: rgb(119,119,119)">D</span><span data-lake-id="u64ad635c" id="u64ad635c" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><span data-lake-id="u0954a0ba" id="u0954a0ba" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="u10bd9a8b" id="u10bd9a8b" class="lake-fontsize-12" style="color: rgb(119,119,119)">类和</span><span data-lake-id="u5cfce559" id="u5cfce559" class="lake-fontsize-12" style="color: rgb(119,119,119)">B</span><span data-lake-id="u9352e8eb" id="u9352e8eb" class="lake-fontsize-12" style="color: rgb(119,119,119)">类虚表中虚函数个数相同，但</span><span data-lake-id="u09118edc" id="u09118edc" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="ubae8376b" id="ubae8376b" class="lake-fontsize-12" style="color: rgb(119,119,119)">类和</span><span data-lake-id="ub343377b" id="ub343377b" class="lake-fontsize-12" style="color: rgb(119,119,119)">B</span><span data-lake-id="u117cd2f9" id="u117cd2f9" class="lake-fontsize-12" style="color: rgb(119,119,119)">类使用的不是同一张虚表 </span></p><p data-lake-id="ud138f102" id="ud138f102"><span data-lake-id="u674430cb" id="u674430cb" class="lake-fontsize-12" style="color: rgb(119,119,119)">8. 下面程序输出结果是什么? （）</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%3Ciostream%3E%5Cnusing%20namespace%20std%3B%5Cnclass%20A%7B%5Cnpublic%3A%5Cn%20A(char%20*s)%20%7B%20cout%3C%3Cs%3C%3Cendl%3B%20%7D%5Cn%20~A()%7B%7D%5Cn%7D%3B%5Cnclass%20B%3Avirtual%20public%20A%5Cn%7B%5Cnpublic%3A%5Cn%20B(char%20*s1%2Cchar*s2)%3AA(s1)%20%7B%20cout%3C%3Cs2%3C%3Cendl%3B%20%7D%5Cn%7D%3B%5Cnclass%20C%3Avirtual%20public%20A%5Cn%7B%5Cnpublic%3A%5Cn%20C(char%20*s1%2Cchar*s2)%3AA(s1)%20%7B%20cout%3C%3Cs2%3C%3Cendl%3B%20%7D%5Cn%7D%3B%5Cnclass%20D%3Apublic%20B%2Cpublic%20C%5Cn%7B%5Cnpublic%3A%5Cn%20D(char%20*s1%2Cchar%20*s2%2Cchar%20*s3%2Cchar%20*s4)%3AB(s1%2Cs2)%2CC(s1%2Cs3)%2CA(s1)%5Cn%20%7B%20cout%3C%3Cs4%3C%3Cendl%3B%7D%5Cn%7D%3B%5Cnint%20main()%20%7B%5Cn%20D%20*p%3Dnew%20D(%5C%22class%20A%5C%22%2C%5C%22class%20B%5C%22%2C%5C%22class%20C%5C%22%2C%5C%22class%20D%5C%22)%3B%5Cn%20delete%20p%3B%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22Xebsv%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u7697b04c" id="u7697b04c"><span data-lake-id="u728ca12e" id="u728ca12e" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="uba6ad5d1" id="uba6ad5d1" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><span data-lake-id="u0ab4ef28" id="u0ab4ef28" class="lake-fontsize-12" style="color: rgb(119,119,119)">class A class B class C class D B</span><span data-lake-id="uc88c7e43" id="uc88c7e43" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><span data-lake-id="u680b7c0c" id="u680b7c0c" class="lake-fontsize-12" style="color: rgb(119,119,119)">class D class B class C class A </span></p><p data-lake-id="u9a8c1f80" id="u9a8c1f80"><span data-lake-id="u247bc1ec" id="u247bc1ec" class="lake-fontsize-12" style="color: rgb(119,119,119)">C</span><span data-lake-id="u756f674a" id="u756f674a" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><span data-lake-id="u9260f1b4" id="u9260f1b4" class="lake-fontsize-12" style="color: rgb(119,119,119)">class D class C class B class A D</span><span data-lake-id="u92ba8d89" id="u92ba8d89" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><span data-lake-id="ueaf62284" id="ueaf62284" class="lake-fontsize-12" style="color: rgb(119,119,119)">class A class C class B class D </span></p><p data-lake-id="u48105aac" id="u48105aac"><span data-lake-id="u74912cf6" id="u74912cf6" class="lake-fontsize-12" style="color: rgb(119,119,119)">9. 多继承中指针偏移问题？下面说法正确的是( </span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20Base1%20%7B%20public%3A%20int%20_b1%3B%20%7D%3B%5Cnclass%20Base2%20%7B%20public%3A%20int%20_b2%3B%20%7D%3B%5Cnclass%20Derive%20%3A%20public%20Base1%2C%20public%20Base2%20%7B%20public%3A%20int%20_d%3B%20%7D%3B%5Cnint%20main()%7B%5Cn%20Derive%20d%3B%5Cn%20Base1*%20p1%20%3D%20%26d%3B%5Cn%20Base2*%20p2%20%3D%20%26d%3B%5Cn%20Derive*%20p3%20%3D%20%26d%3B%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22VCtYP%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u507e64b1" id="u507e64b1"><span data-lake-id="u08ce6c3a" id="u08ce6c3a" class="lake-fontsize-12">//此题 子类赋值给父类指针的切割问题 指针代表起始的地址</span></p><p data-lake-id="u1e5b013c" id="u1e5b013c"><span data-lake-id="u9ff31fe8" id="u9ff31fe8" class="lake-fontsize-12" style="color: rgb(119,119,119)">A</span><span data-lake-id="u19d19c41" id="u19d19c41" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><span data-lake-id="u249fadb3" id="u249fadb3" class="lake-fontsize-12" style="color: rgb(119,119,119)">p1 == p2 == p3 B</span><span data-lake-id="u44c6cfe7" id="u44c6cfe7" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><span data-lake-id="uc01135ad" id="uc01135ad" class="lake-fontsize-12" style="color: rgb(119,119,119)">p1 &lt; p2 &lt; p3 C</span><span data-lake-id="u8cca4c86" id="u8cca4c86" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><span data-lake-id="uca7839a6" id="uca7839a6" class="lake-fontsize-12" style="color: rgb(119,119,119)">p1 == p3 != p2 D</span><span data-lake-id="u930d9b55" id="u930d9b55" class="lake-fontsize-12" style="color: rgb(119,119,119)">：</span><span data-lake-id="u8cbceece" id="u8cbceece" class="lake-fontsize-12" style="color: rgb(119,119,119)">p1 != p2 != p3 </span></p><p data-lake-id="u0ed2acfa" id="u0ed2acfa"><span data-lake-id="u96fddd14" id="u96fddd14" class="lake-fontsize-12" style="color: rgb(119,119,119)">10. 以下程序输出结果是什么（）</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22exp%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22class%20A%5Cn%7B%5Cnpublic%3A%5Cn%20virtual%20void%20func(int%20val%20%3D%201)%7B%20std%3A%3Acout%3C%3C%5C%22A-%3E%5C%22%3C%3C%20val%20%3C%3Cstd%3A%3Aendl%3B%7D%5Cn%20virtual%20void%20test()%7B%20func()%3B%7D%5Cn%7D%3B%5Cnclass%20B%20%3A%20public%20A%5Cn%7B%5Cnpublic%3A%5Cn%20void%20func(int%20val%3D0)%7B%20std%3A%3Acout%3C%3C%5C%22B-%3E%5C%22%3C%3C%20val%20%3C%3Cstd%3A%3Aendl%3B%20%7D%5Cn%7D%3B%5Cnint%20main(int%20argc%20%2Cchar*%20argv%5B%5D)%5Cn%7B%5Cn%20B*p%20%3D%20new%20B%3B%5Cn%20p-%3Etest()%3B%5Cn%20return%200%3B%5Cn%7D%5Cn%5Cntest%20%E8%B0%83%E7%94%A8%E7%9A%84func%E5%87%BD%E6%95%B0%E6%98%AF%E5%AD%90%E7%B1%BB%E7%9A%84%EF%BC%8C%E4%BD%86%E5%AD%90%E7%B1%BB%E7%9A%84%E7%BC%BA%E7%9C%81%E5%8F%82%E6%95%B0%E6%B2%A1%E6%9C%89%E7%94%A8%E3%80%82%5Cn%E4%BD%9C%E4%B8%BA%E7%BB%A7%E6%89%BF%E7%88%B6%E7%B1%BB%E7%9A%84%E5%AD%90%E7%B1%BB%EF%BC%8C%E5%AD%90%E7%B1%BB%E4%B8%AD%E7%95%99%E5%AD%98%E7%9A%84%E7%88%B6%E7%B1%BBfunc%E5%87%BD%E6%95%B0%E7%9A%84%E5%A3%B0%E6%98%8E%EF%BC%8C%5Cn%E9%97%AE%E9%A2%98%E5%B0%B1%E5%9C%A8%E7%BC%BA%E7%9C%81%E5%8F%82%E6%95%B0%E4%BD%BF%E7%94%A8%E7%9A%84%E6%98%AF%E8%B0%81%E7%9A%84%EF%BC%9F%5Cn%E5%87%BD%E6%95%B0%E9%87%8D%E5%86%99%EF%BC%8C%E5%8F%82%E6%95%B0%E4%BC%9A%E5%85%88%E4%BD%BF%E7%94%A8%E7%88%B6%E7%B1%BB%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C%E5%AD%90%E7%B1%BB%E7%9A%84%E7%BC%BA%E7%9C%81%E5%80%BC%E5%88%99%E6%97%A0%E6%95%88%5Cn%5Cn%EF%BF%A5%E8%A6%81%E7%9F%A5%E9%81%93%EF%BC%8C%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E5%80%BC%E6%98%AF%E5%9C%A8%E7%BC%96%E8%AF%91%E6%9C%9F%E9%9D%99%E6%80%81%E7%BB%91%E5%AE%9A%E7%9A%84%EF%BC%81%5Cn%E5%8D%B3%E5%8F%96%E8%B0%83%E7%94%A8%E8%80%85%E7%9C%8B%E5%88%B0%E7%9A%84%E9%82%A3%E4%B8%AA%E5%87%BD%E6%95%B0%E7%9A%84%E9%BB%98%E8%AE%A4%E5%80%BC%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22exp%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22gTG64%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ufe33024a" id="ufe33024a"><span data-lake-id="u66d5ce5e" id="u66d5ce5e" class="lake-fontsize-12" style="color: rgb(119,119,119)">A: A-&gt;0 B: B-&gt;1 C: A-&gt;1 D: B-&gt;0 E: 编译出错 F: 以上都不正确</span></p><blockquote data-lake-id="u462ee6a5" id="u462ee6a5" class="lake-alert lake-alert-tips"><p data-lake-id="ubad6c6be" id="ubad6c6be"><span data-lake-id="ue08e62f2" id="ue08e62f2" class="lake-fontsize-12" style="color: rgb(119,119,119)">参考答案： </span></p><p data-lake-id="u15fdc06d" id="u15fdc06d"><span data-lake-id="u20daf468" id="u20daf468" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. A 2. D 3. C 4. A 5. B </span></p><p data-lake-id="uae42628e" id="uae42628e"><span data-lake-id="u515a05bf" id="u515a05bf" class="lake-fontsize-12" style="color: rgb(119,119,119)">6. D 7. D 8. A 9. C 10.B</span></p></blockquote><h4 data-lake-id="iwvb6" id="iwvb6" collapsed="true"><span data-lake-id="ud855fe3f" id="ud855fe3f" style="color: rgb(51,51,51)">6.2 问答题 </span></h4><p data-lake-id="uaf0fed67" id="uaf0fed67"><span data-lake-id="u821ce7b2" id="u821ce7b2" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><span data-lake-id="u99f9355a" id="u99f9355a" class="lake-fontsize-12" style="color: rgb(119,119,119)">什么是多态？答：参考本节课件内容 </span></p><p data-lake-id="ua9266b89" id="ua9266b89"><span data-lake-id="ua1afb066" id="ua1afb066" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><span data-lake-id="uf0cae54e" id="uf0cae54e" class="lake-fontsize-12" style="color: rgb(119,119,119)">什么是重载、重写</span><span data-lake-id="u877561cc" id="u877561cc" class="lake-fontsize-12" style="color: rgb(119,119,119)">(</span><span data-lake-id="u78f36b17" id="u78f36b17" class="lake-fontsize-12" style="color: rgb(119,119,119)">覆盖</span><span data-lake-id="uc1b228fa" id="uc1b228fa" class="lake-fontsize-12" style="color: rgb(119,119,119)">)</span><span data-lake-id="u02f64ef3" id="u02f64ef3" class="lake-fontsize-12" style="color: rgb(119,119,119)">、重定义</span><span data-lake-id="u21e0d97b" id="u21e0d97b" class="lake-fontsize-12" style="color: rgb(119,119,119)">(</span><span data-lake-id="u86058b2a" id="u86058b2a" class="lake-fontsize-12" style="color: rgb(119,119,119)">隐藏</span><span data-lake-id="u05996d6e" id="u05996d6e" class="lake-fontsize-12" style="color: rgb(119,119,119)">)</span><span data-lake-id="u3c12b0c5" id="u3c12b0c5" class="lake-fontsize-12" style="color: rgb(119,119,119)">？答：参考本节课件内容 </span></p><p data-lake-id="ud5eb0686" id="ud5eb0686"><span data-lake-id="udb4d6bc7" id="udb4d6bc7" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><span data-lake-id="ud8e01cf3" id="ud8e01cf3" class="lake-fontsize-12" style="color: rgb(119,119,119)">多态的实现原理？答：参考本节课件内容 </span></p><p data-lake-id="ua432e10e" id="ua432e10e"><span data-lake-id="u65b906e5" id="u65b906e5" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. inline函数可以是虚函数吗？答：可以，不过编译器就忽略inline属性，这个函数就不再是inline，因为虚函数要放到虚表中去。 </span></p><p data-lake-id="ub5c4d90d" id="ub5c4d90d"><span data-lake-id="u08ccd753" id="u08ccd753" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. 静态成员可以是虚函数吗？答：不能，因为静态成员函数没有this指针，使用类型::成员函数的调用方式无法访问虚函数表，所以静态成员函数无法放进虚函数表。 </span></p><p data-lake-id="uc6d5a203" id="uc6d5a203"><span data-lake-id="uadfbd836" id="uadfbd836" class="lake-fontsize-12" style="color: rgb(119,119,119)">6. 构造函数可以是虚函数吗？答：不能，因为对象中的虚函数表指针是在构造函数初始化列表阶段才初始化的。 </span></p><p data-lake-id="ub8141efd" id="ub8141efd"><span data-lake-id="ube1e3296" id="ube1e3296" class="lake-fontsize-12" style="color: rgb(119,119,119)">7. 析构函数可以是虚函数吗？什么场景下析构函数是虚函数？答：可以，并且最好把基类的析构函数定义成虚函数。参考本节课件内容 </span></p><p data-lake-id="ucca5b43f" id="ucca5b43f"><span data-lake-id="u0003e93d" id="u0003e93d" class="lake-fontsize-12" style="color: rgb(119,119,119)">8. 对象访问普通函数快还是虚函数更快？答：首先如果是普通对象，是一样快的。如果是指针对象或者是引用对象，则调用的普通函数快，因为构成多态，运行时调用虚函数需要到虚函数表中去查找。 </span></p><p data-lake-id="uba2b6794" id="uba2b6794"><span data-lake-id="u5609b4a5" id="u5609b4a5" class="lake-fontsize-12" style="color: rgb(119,119,119)">9. 虚函数表是在什么阶段生成的，存在哪的？答：虚函数表是在编译阶段就生成的，一般情况下存在代码段(常量区)的。 </span></p><p data-lake-id="u573c7813" id="u573c7813"><span data-lake-id="uf047176b" id="uf047176b" class="lake-fontsize-12" style="color: rgb(119,119,119)">10. C++菱形继承的问题？虚继承的原理？答：参考继承课件。注意这里不要把虚函数表和虚基表搞混了。 </span></p><p data-lake-id="u3e73207a" id="u3e73207a"><span data-lake-id="u644e6712" id="u644e6712" class="lake-fontsize-12" style="color: rgb(119,119,119)">11. 什么是抽象类？抽象类的作用？答：参考（3.抽象类）。抽象类强制重写了虚函数，另外抽象类体现出 了接口继承关系。</span></p><h2 data-lake-id="QFV1N" id="QFV1N"><span data-lake-id="u57953ab2" id="u57953ab2">Lesson--C++的IO流</span></h2><h3 data-lake-id="nXoQQ" id="nXoQQ"><strong><span data-lake-id="u553e38c3" id="u553e38c3" class="lake-fontsize-12" style="color: rgb(51,51,51)">1. C语言的输入与输出</span></strong></h3><p data-lake-id="u128fd4b8" id="u128fd4b8"><span data-lake-id="u7b16a3e1" id="u7b16a3e1" class="lake-fontsize-12" style="color: rgb(119,119,119)">C语言中我们用到的最频繁的输入输出方式就是</span><strong><span data-lake-id="ubb4cc864" id="ubb4cc864" class="lake-fontsize-12" style="color: rgb(119,119,119)">scanf ()与printf()</span></strong><span data-lake-id="u40066ca6" id="u40066ca6" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span><strong><span data-lake-id="ubd81f36c" id="ubd81f36c" class="lake-fontsize-12" style="color: rgb(119,119,119)">scanf(): 从标准输入设备(键盘)读取数据，并将值存放在变量中</span></strong><span data-lake-id="uf863262d" id="uf863262d" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span><strong><span data-lake-id="u22842b6f" id="u22842b6f" class="lake-fontsize-12" style="color: rgb(119,119,119)">printf(): 将指定的文字/字符串输出到标准输出设备(屏幕)。注意宽度输出和精度输出控制。</span></strong><span data-lake-id="ud2c359f3" id="ud2c359f3" class="lake-fontsize-12" style="color: rgb(119,119,119)">C语言借助了相应的缓冲区来进行输入与输出。如下图所示：</span></p><p data-lake-id="uec834b2e" id="uec834b2e"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748348846796-6a70e5cc-cf70-45f9-92d5-12099b3b9e75.png%22%2C%22taskId%22%3A%22u12a7835e-ca07-4fac-8790-bd27a123eb1%22%2C%22clientId%22%3A%22uff147670-6bdd-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A454%2C%22height%22%3A307%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1255600%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A681%2C%22originHeight%22%3A460%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22%E8%AE%BEA%E4%B8%80%22%2C%22x%22%3A22%2C%22y%22%3A90%2C%22width%22%3A240%2C%22height%22%3A47%7D%2C%7B%22text%22%3A%22%E8%BE%93%E5%85%A5%E7%BC%93%E5%86%B2%E5%8C%BA%22%2C%22x%22%3A266%2C%22y%22%3A99%2C%22width%22%3A145%2C%22height%22%3A31%7D%2C%7B%22text%22%3A%22%E8%BE%93%E5%87%BA%E7%BC%93%E5%86%B2%E5%8C%BA%22%2C%22x%22%3A266%2C%22y%22%3A325%2C%22width%22%3A143%2C%22height%22%3A29%7D%2C%7B%22text%22%3A%22%E5%A4%87%22%2C%22x%22%3A27%2C%22y%22%3A321%2C%22width%22%3A35%2C%22height%22%3A42%7D%2C%7B%22text%22%3A%22%E7%A0%81%22%2C%22x%22%3A610%2C%22y%22%3A320%2C%22width%22%3A50%2C%22height%22%3A43%7D%2C%7B%22text%22%3A%22%E4%BB%A3%22%2C%22x%22%3A613%2C%22y%22%3A91%2C%22width%22%3A46%2C%22height%22%3A49%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23274055%22%2C%22id%22%3A%22u1eb664ed%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="u2f73fb42" id="u2f73fb42"><span data-lake-id="ue39d4d56" id="ue39d4d56" class="lake-fontsize-12" style="color: rgb(119,119,119)">对</span><strong><span data-lake-id="u98d6e8f2" id="u98d6e8f2" class="lake-fontsize-12" style="color: rgb(119,119,119)">输入输出缓冲区</span></strong><span data-lake-id="uad34176c" id="uad34176c" class="lake-fontsize-12" style="color: rgb(119,119,119)">的理解： </span></p><p data-lake-id="ufacc77e2" id="ufacc77e2"><span data-lake-id="ube575eca" id="ube575eca" class="lake-fontsize-12" style="color: rgb(119,119,119)"> 1.可以</span><strong><span data-lake-id="u54d0e367" id="u54d0e367" class="lake-fontsize-12" style="color: rgb(119,119,119)">屏蔽掉低级I/O的实现</span></strong><span data-lake-id="ud0a761b6" id="ud0a761b6" class="lake-fontsize-12" style="color: rgb(119,119,119)">，低级I/O的实现依赖操作系统本身内核的实现，所以如果能够屏蔽这部分的差异，可以</span><strong><span data-lake-id="u5c965e16" id="u5c965e16" class="lake-fontsize-12" style="color: rgb(119,119,119)">很容易写出可移植的程序</span></strong><span data-lake-id="u5c5f4061" id="u5c5f4061" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><p data-lake-id="u5cc7fdd6" id="u5cc7fdd6"><span data-lake-id="ud2b7a474" id="ud2b7a474" class="lake-fontsize-12" style="color: rgb(119,119,119)"> 2.可以</span><strong><span data-lake-id="u18d3b091" id="u18d3b091" class="lake-fontsize-12" style="color: rgb(119,119,119)">使用这部分的内容实现“行”读取的行为</span></strong><span data-lake-id="ue761f031" id="ue761f031" class="lake-fontsize-12" style="color: rgb(119,119,119)">，对于计算机而言是没有“行”这个概念，有了这部分，就可以定义“行”的概念，然后解析缓冲区的内容，返回一个“行”。</span></p><h3 data-lake-id="zPUTs" id="zPUTs"><span data-lake-id="uf5b3d81c" id="uf5b3d81c">2.流是什么</span></h3><p data-lake-id="ue8563827" id="ue8563827"><span data-lake-id="u00da27c8" id="u00da27c8" class="lake-fontsize-12" style="color: rgb(119,119,119)">“流”即是流动的意思，是物质从一处向另一处流动的过程</span><strong><span data-lake-id="uae9bdc1d" id="uae9bdc1d" class="lake-fontsize-12" style="color: rgb(119,119,119)">，是对一种</span></strong><span data-lake-id="u15ad3e9d" id="u15ad3e9d" class="lake-fontsize-12" style="color: rgb(119,119,119)">有序连续</span><strong><span data-lake-id="u697cf81b" id="u697cf81b" class="lake-fontsize-12" style="color: rgb(119,119,119)">且</span></strong><span data-lake-id="uc2007679" id="uc2007679" class="lake-fontsize-12" style="color: rgb(119,119,119)">具有方向性</span><strong><span data-lake-id="u2cdde6d0" id="u2cdde6d0" class="lake-fontsize-12" style="color: rgb(119,119,119)">的</span></strong><span data-lake-id="u1c960e3b" id="u1c960e3b" class="lake-fontsize-12" style="color: rgb(119,119,119)">数据</span><strong><span data-lake-id="u668a9fa2" id="u668a9fa2" class="lake-fontsize-12" style="color: rgb(119,119,119)">（ 其单位可以是bit,byte,packet ）的</span></strong><span data-lake-id="u3e99c8ce" id="u3e99c8ce" class="lake-fontsize-12" style="color: rgb(119,119,119)">抽象描述。 C++流是指信息从外部输入设备（如键盘）向计算机内部（如内存）输入和从内存向外部输出设备（显示器）输出的过程。这种输入输出的过程被形象的比喻为“流”。 </span></p><p data-lake-id="u90b9a147" id="u90b9a147"><span data-lake-id="ufd3bb35d" id="ufd3bb35d" class="lake-fontsize-12" style="color: rgb(119,119,119)">它的</span><strong><span data-lake-id="u1c2b19d1" id="u1c2b19d1" class="lake-fontsize-12" style="color: rgb(119,119,119)">特性</span></strong><span data-lake-id="u283a9d41" id="u283a9d41" class="lake-fontsize-12" style="color: rgb(119,119,119)">是：</span><strong><span data-lake-id="u5c95433a" id="u5c95433a" class="lake-fontsize-12" style="color: rgb(119,119,119)">有序连续</span></strong><span data-lake-id="ubc8ac8f5" id="ubc8ac8f5" class="lake-fontsize-12" style="color: rgb(119,119,119)">、</span><strong><span data-lake-id="u7c4d55b4" id="u7c4d55b4" class="lake-fontsize-12" style="color: rgb(119,119,119)">具有方向性</span></strong></p><p data-lake-id="u00bfb631" id="u00bfb631"><strong><span data-lake-id="u225d5921" id="u225d5921" class="lake-fontsize-12" style="color: rgb(119,119,119)">为了实现这种流动，C++定义了I/O标准类库，这些每个类都称为流/流类，用以完成某方面的功能</span></strong></p><h3 data-lake-id="GF1gC" id="GF1gC"><span data-lake-id="u6af8de7a" id="u6af8de7a">3.C++IO流</span></h3><p data-lake-id="uce333cb6" id="uce333cb6"><strong><span data-lake-id="uf43feb15" id="uf43feb15" class="lake-fontsize-12" style="color: rgb(119,119,119)">C++系统实现了一个庞大的类库，其中ios为基类，其他类都是直接或间接派生自ios类</span></strong></p><p data-lake-id="u3b58f5db" id="u3b58f5db"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748348934920-a60fcb43-0682-4b5c-8c08-c1cde5afe5e0.png%22%2C%22taskId%22%3A%22uf8b0fced-845d-4dff-8d4d-c5f6a99de70%22%2C%22clientId%22%3A%22uff147670-6bdd-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A619.3333333333334%2C%22height%22%3A247%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1381317%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A929%2C%22originHeight%22%3A371%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%22STRINGSTREAM%22%2C%22x%22%3A763%2C%22y%22%3A144%2C%22width%22%3A111%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22CNLTISNLUSS.CGRN%22%2C%22x%22%3A13%2C%22y%22%3A332%2C%22width%22%3A117%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22STREAMBUF%22%2C%22x%22%3A222%2C%22y%22%3A302%2C%22width%22%3A89%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22OSTREAM%22%2C%22x%22%3A219%2C%22y%22%3A216%2C%22width%22%3A75%2C%22height%22%3A17%7D%2C%7B%22text%22%3A%22OSTRINGSTREAM%22%2C%22x%22%3A758%2C%22y%22%3A222%2C%22width%22%3A124%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22OFSTREAM%22%2C%22x%22%3A570%2C%22y%22%3A202%2C%22width%22%3A89%2C%22height%22%3A18%7D%2C%7B%22text%22%3A%22ISTRINGSTREAM%22%2C%22x%22%3A763%2C%22y%22%3A71%2C%22width%22%3A113%2C%22height%22%3A17%7D%2C%7B%22text%22%3A%22%3COSTREAT%3E%22%2C%22x%22%3A236%2C%22y%22%3A250%2C%22width%22%3A89%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22COUT%2CCERR%2CCLOG%22%2C%22x%22%3A399%2C%22y%22%3A252%2C%22width%22%3A132%2C%22height%22%3A20%7D%2C%7B%22text%22%3A%22IOSTREAM%22%2C%22x%22%3A220%2C%22y%22%3A139%2C%22width%22%3A80%2C%22height%22%3A17%7D%2C%7B%22text%22%3A%22IFSTREAM%22%2C%22x%22%3A578%2C%22y%22%3A47%2C%22width%22%3A82%2C%22height%22%3A19%7D%2C%7B%22text%22%3A%22DSTREARM%3E%22%2C%22x%22%3A600%2C%22y%22%3A21%2C%22width%22%3A80%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22%3CSTREAMBU%3E%22%2C%22x%22%3A231%2C%22y%22%3A336%2C%22width%22%3A103%2C%22height%22%3A13%7D%2C%7B%22text%22%3A%22%3CSSTREATM%3E%22%2C%22x%22%3A784%2C%22y%22%3A21%2C%22width%22%3A81%2C%22height%22%3A13%7D%2C%7B%22text%22%3A%22%3CIOSTREART%3E%22%2C%22x%22%3A420%2C%22y%22%3A21%2C%22width%22%3A87%2C%22height%22%3A13%7D%2C%7B%22text%22%3A%22%3CISTREAM%3E%22%2C%22x%22%3A243%2C%22y%22%3A20%2C%22width%22%3A78%2C%22height%22%3A14%7D%2C%7B%22text%22%3A%22STRINGBUF%22%2C%22x%22%3A763%2C%22y%22%3A310%2C%22width%22%3A75%2C%22height%22%3A17%7D%2C%7B%22text%22%3A%22IOSBASE%22%2C%22x%22%3A43%2C%22y%22%3A63%2C%22width%22%3A79%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22FSTREAM%22%2C%22x%22%3A580%2C%22y%22%3A126%2C%22width%22%3A74%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22ISTREAM%22%2C%22x%22%3A221%2C%22y%22%3A62%2C%22width%22%3A67%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22I0S%22%2C%22x%22%3A39%2C%22y%22%3A139%2C%22width%22%3A32%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22FILEBURF%22%2C%22x%22%3A572%2C%22y%22%3A287%2C%22width%22%3A65%2C%22height%22%3A21%7D%2C%7B%22text%22%3A%22%3CI0S%3E%22%2C%22x%22%3A74%2C%22y%22%3A21%2C%22width%22%3A41%2C%22height%22%3A13%7D%2C%7B%22text%22%3A%22CIN%22%2C%22x%22%3A398%2C%22y%22%3A101%2C%22width%22%3A33%2C%22height%22%3A15%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23c0c0c0%22%2C%22id%22%3A%22ud3eb639c%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><h4 data-lake-id="cNlWI" id="cNlWI"><span data-lake-id="u21f99e5a" id="u21f99e5a">3.1C++标准IO流</span></h4><p data-lake-id="ub6c91c5c" id="ub6c91c5c"><span data-lake-id="u4912f109" id="u4912f109" class="lake-fontsize-12" style="color: rgb(119,119,119)">C++标准库提供了4个全局流对象cin、cout、cerr、clog，使用</span><strong><span data-lake-id="u0ac6d9b7" id="u0ac6d9b7" class="lake-fontsize-12" style="color: rgb(119,119,119)">cout进行标准输出，即数据从内存流向控制台(显示器)</span></strong><span data-lake-id="u7ffeec9e" id="u7ffeec9e" class="lake-fontsize-12" style="color: rgb(119,119,119)">。使用</span><strong><span data-lake-id="u821b29bf" id="u821b29bf" class="lake-fontsize-12" style="color: rgb(119,119,119)">cin进行标准输入即数据通过键盘输入到程序中</span></strong><span data-lake-id="uf2a44b38" id="uf2a44b38" class="lake-fontsize-12" style="color: rgb(119,119,119)">，同时C++标准库还提供了</span><strong><span data-lake-id="uf0940832" id="uf0940832" class="lake-fontsize-12" style="color: rgb(119,119,119)">cerr用来进行标准错误的输出</span></strong><span data-lake-id="u902a831a" id="u902a831a" class="lake-fontsize-12" style="color: rgb(119,119,119)">，以及</span><strong><span data-lake-id="ub70e9f04" id="ub70e9f04" class="lake-fontsize-12" style="color: rgb(119,119,119)">clog进行日志的输出</span></strong><span data-lake-id="uec7fa365" id="uec7fa365" class="lake-fontsize-12" style="color: rgb(119,119,119)">，从上图可以看出，cout、cerr、clog是ostream类的三个不同的对象，因此这三个对象现在基本没有区别，只是应用场景不同。 </span></p><p data-lake-id="u23d523b9" id="u23d523b9"><strong><span data-lake-id="uc865e0ff" id="uc865e0ff" class="lake-fontsize-12" style="color: rgb(119,119,119)">在使用时候必须要包含文件并引入std标准命名空间。</span></strong></p><p data-lake-id="u1ed1db28" id="u1ed1db28"><strong><span data-lake-id="ued0a5ae8" id="ued0a5ae8" class="lake-fontsize-12" style="color: rgb(119,119,119)">注意： </span></strong></p><p data-lake-id="uc69bbfbd" id="uc69bbfbd"><span data-lake-id="ud64d9d8d" id="ud64d9d8d" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. cin为缓冲流。</span><strong><span data-lake-id="ue786b442" id="ue786b442" class="lake-fontsize-12" style="color: rgb(119,119,119)">键盘输入的数据保存在缓冲区中，当要提取时，是从缓冲区中拿</span></strong><span data-lake-id="u119ccbdb" id="u119ccbdb" class="lake-fontsize-12" style="color: rgb(119,119,119)">。如果一次输入过多，会留在那儿慢慢用，</span><strong><span data-lake-id="ud184567a" id="ud184567a" class="lake-fontsize-12" style="color: rgb(119,119,119)">如果输入错了，必须在回车之前修改，如果回车键按下就无法挽回了</span></strong><span data-lake-id="ud0ff26f6" id="ud0ff26f6" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span><strong><span data-lake-id="u81d11d74" id="u81d11d74" class="lake-fontsize-12" style="color: rgb(119,119,119)">只有把输入缓冲区中的数据取完后，才要求输入新的数据</span></strong><span data-lake-id="uea3995c7" id="uea3995c7" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><p data-lake-id="u071ddf09" id="u071ddf09"><span data-lake-id="ua8e97751" id="ua8e97751" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><strong><span data-lake-id="u8a2c421b" id="u8a2c421b" class="lake-fontsize-12" style="color: rgb(119,119,119)">输入的数据类型必须与要提取的数据类型一致</span></strong><span data-lake-id="uef5c4c96" id="uef5c4c96" class="lake-fontsize-12" style="color: rgb(119,119,119)">，否则出错。出错只是在流的状态字state中对应位置位 （置1），程序继续。 </span></p><p data-lake-id="ub7d7cd7f" id="ub7d7cd7f"><span data-lake-id="uf41eac2f" id="uf41eac2f" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. 空格和回车都可以作为数据之间的分格符，所以多个数据可以在一行输入，也可以分行输入。但如果是</span><strong><span data-lake-id="ub515c987" id="ub515c987" class="lake-fontsize-12" style="color: rgb(119,119,119)">字符型和字符串，则空格（ASCII码为32）无法用cin输入，字符串中也不能有空格</span></strong><span data-lake-id="uce378105" id="uce378105" class="lake-fontsize-12" style="color: rgb(119,119,119)">。回车符也无法读入。 </span></p><p data-lake-id="u09ba614b" id="u09ba614b"><span data-lake-id="uee837aa8" id="uee837aa8" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. cin和cout可以直接输入和输出内置类型数据，原因：</span><strong><span data-lake-id="ue6369d25" id="ue6369d25" class="lake-fontsize-12" style="color: rgb(119,119,119)">标准库已经将所有内置类型的输入和输出全部重载了</span></strong><span data-lake-id="u4228e603" id="u4228e603" class="lake-fontsize-12" style="color: rgb(119,119,119)">:</span></p><p data-lake-id="ud6dbf73c" id="ud6dbf73c"><card type="inline" name="image" value="data:%7B%22src%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2025%2Fpng%2F49819380%2F1748349012633-e3e571d2-159f-4e0e-9a03-099ba47c6d2d.png%22%2C%22taskId%22%3A%22u6a34b58f-5ee8-4ba7-a02f-0356616b259%22%2C%22clientId%22%3A%22uff147670-6bdd-4%22%2C%22originalType%22%3A%22binary%22%2C%22width%22%3A362.6666666666667%2C%22height%22%3A429%2C%22linkTarget%22%3A%22_blank%22%2C%22name%22%3A%22image.png%22%2C%22size%22%3A1404329%2C%22from%22%3A%22paste%22%2C%22originWidth%22%3A544%2C%22originHeight%22%3A644%2C%22ratio%22%3A1.5%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22ocrLocations%22%3A%5B%7B%22text%22%3A%2215TREANSOPERATOR%3E%3E(LCNGDOUBLE4VOL%5D%3A%22%2C%22x%22%3A128%2C%22y%22%3A448%2C%22width%22%3A254%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22INTREANGOPERATOR%3E%3E(IATREANG(PF)(INTREANG))%3A%22%2C%22x%22%3A133%2C%22y%22%3A512%2C%22width%22%3A302%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22OSTREAN6CPERATORCC(OSTREAMK(PT)(GSRRSNN%E7%BC%96))%22%2C%22x%22%3A126%2C%22y%22%3A190%2C%22width%22%3A302%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22STREANSOPEEATOR%3E%3E(UNSIGNODLONG%26VAL)%3A%22%2C%22x%22%3A128%2C%22y%22%3A407%2C%22width%22%3A264%2C%22height%22%3A12%7D%2C%7B%22text%22%3A%22OSTRESMKGPERATORC(OSTRESMSGUT%2CCONTL%22%2C%22x%22%3A126%2C%22y%22%3A311%2C%22width%22%3A257%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%221STREANSOPERATOR%3E%3E(AHOETGVSLJI%22%2C%22x%22%3A132%2C%22y%22%3A343%2C%22width%22%3A219%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22LEMBERFUNCTIONSOSTREUNKCPERATORC(DCUBLEVAL)%3A%22%2C%22x%22%3A18%2C%22y%22%3A110%2C%22width%22%3A314%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%221BTREANSOPERNTOE%3E%3E(LOSBSBE6(4PF%5D(1O5BS5ES))%22%2C%22x%22%3A133%2C%22y%22%3A539%2C%22width%22%3A315%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22AESASEEANARSFARSSLATRESNGIDSLGN0OCHRBC%22%2C%22x%22%3A138%2C%22y%22%3A616%2C%22width%22%3A325%2C%22height%22%3A15%7D%2C%7B%22text%22%3A%22STREANSOPERSTOR%3E%3E(LATRESNGIS%2CUNSLGMEDCNAXSCH)I%22%2C%22x%22%3A141%2C%22y%22%3A579%2C%22width%22%3A323%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22AENESSIAPFANDCA%22%2C%22x%22%3A150%2C%22y%22%3A628%2C%22width%22%3A289%2C%22height%22%3A16%7D%2C%7B%22text%22%3A%22ORTZANCPEZATORCC(OATREAR%E5%93%81CUTU%22%2C%22x%22%3A121%2C%22y%22%3A259%2C%22width%22%3A227%2C%22height%22%3A9%7D%2C%7B%22text%22%3A%22ISTREANOPERATOR%3E%3E(LATREANGIA%2CALGNEDCHARSCH)!%22%2C%22x%22%3A134%2C%22y%22%3A567%2C%22width%22%3A322%2C%22height%22%3A9%7D%2C%7B%22text%22%3A%22ISTREANSOPERATOR%3E%3E(ISTRESNKIB.CHAR%26CHL%3A%22%2C%22x%22%3A134%2C%22y%22%3A554%2C%22width%22%3A304%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22OSTEANSCPERATOR%3C%3C(ODTRONACUT%2CCONATCHAR)%22%2C%22x%22%3A125%2C%22y%22%3A284%2C%22width%22%3A318%2C%22height%22%3A9%7D%2C%7B%22text%22%3A%22NTREANSODERNTOR%3E%3E(ISTRENLIB%2CCHSRSTRP%22%2C%22x%22%3A136%2C%22y%22%3A606%2C%22width%22%3A284%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22OSTREANLCPERATOR(IOS%26(PFJ(ION6))G%22%2C%22x%22%3A125%2C%22y%22%3A203%2C%22width%22%3A269%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22CPERATORK(CATREARGCUT%2CIGMEDCHAZE)%2F%22%2C%22x%22%3A175%2C%22y%22%3A245%2C%22width%22%3A267%2C%22height%22%3A9%7D%2C%7B%22text%22%3A%221STREANSOPERATOR%3E%3E(LONGGVS1J%22%2C%22x%22%3A132%2C%22y%22%3A394%2C%22width%22%3A229%2C%22height%22%3A11%7D%2C%7B%22text%22%3A%22OGTREANSCPARATOR(LOGBAPOG(*PT)(LOABAPEG))%22%2C%22x%22%3A125%2C%22y%22%3A216%2C%22width%22%3A313%2C%22height%22%3A9%7D%2C%7B%22text%22%3A%225TREANSOPERATOR%3E%3E(UNS1GMEDSHORT4VA1%3F%22%2C%22x%22%3A133%2C%22y%22%3A356%2C%22width%22%3A266%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22STREANLGPERATOR(OSTRESMSCUT%2CCHSRC)%3A%22%2C%22x%22%3A128%2C%22y%22%3A231%2C%22width%22%3A292%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22NSCPEATORCC(MHORTVNL)%22%2C%22x%22%3A160%2C%22y%22%3A16%2C%22width%22%3A162%2C%22height%22%3A11%7D%2C%7B%22text%22%3A%22OATRENBCPERATOR(UNSLGMEDINEVAL)%22%2C%22x%22%3A124%2C%22y%22%3A56%2C%22width%22%3A238%2C%22height%22%3A11%7D%2C%7B%22text%22%3A%22OSTREANSCPERATOR%3C(LCNGVAL)%22%2C%22x%22%3A124%2C%22y%22%3A69%2C%22width%22%3A221%2C%22height%22%3A11%7D%2C%7B%22text%22%3A%22CPERATORC(UNSIGMEDHORTVAL)%22%2C%22x%22%3A181%2C%22y%22%3A29%2C%22width%22%3A197%2C%22height%22%3A12%7D%2C%7B%22text%22%3A%221STREANSOPERATOR%3E%3E(1OSG(*PTJ(LOA%26L%22%2C%22x%22%3A132%2C%22y%22%3A526%2C%22width%22%3A286%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%2215TRESNSODERSTOR%3E%3E(5TRESNBME*5B)%22%2C%22x%22%3A135%2C%22y%22%3A487%2C%22width%22%3A222%2C%22height%22%3A8%7D%2C%7B%22text%22%3A%22OSTREANSCPERATOR(UN1GMOD1CNGVA1)%22%2C%22x%22%3A124%2C%22y%22%3A83%2C%22width%22%3A248%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%221ATREANSOPEEATOE%3E%3E(UNSIGNEDINR4VAL)%2F%22%2C%22x%22%3A129%2C%22y%22%3A381%2C%22width%22%3A258%2C%22height%22%3A11%7D%2C%7B%22text%22%3A%22INTREANSOPERNTOR%3E%3E(BCOIGVNLJ%3A%22%2C%22x%22%3A131%2C%22y%22%3A329%2C%22width%22%3A208%2C%22height%22%3A11%7D%2C%7B%22text%22%3A%22OETRMNKCPETATORCC(FLCTVNLJ%3A%22%2C%22x%22%3A121%2C%22y%22%3A96%2C%22width%22%3A223%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22S15TREANSOPERATOR%3E%3E(DOUBLE6VS1JI%22%2C%22x%22%3A116%2C%22y%22%3A433%2C%22width%22%3A237%2C%22height%22%3A11%7D%2C%7B%22text%22%3A%22OSTREANCOERATOR%3C(STROANBUFSB)%22%2C%22x%22%3A125%2C%22y%22%3A164%2C%22width%22%3A225%2C%22height%22%3A8%7D%2C%7B%22text%22%3A%22OTREANBEPEZATORC(INTWAL)%22%2C%22x%22%3A126%2C%22y%22%3A43%2C%22width%22%3A226%2C%22height%22%3A11%7D%2C%7B%22text%22%3A%22ISTRESNSOPERATOR%3E%3E(VOADGVNLJ%3A%22%2C%22x%22%3A132%2C%22y%22%3A461%2C%22width%22%3A218%2C%22height%22%3A9%7D%2C%7B%22text%22%3A%22CONNTUNSIGNODCHSRS%22%2C%22x%22%3A342%2C%22y%22%3A311%2C%22width%22%3A144%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22INTREANGOPERNTOR%3E%3E(FLOATGVNLJ%3A%22%2C%22x%22%3A129%2C%22y%22%3A421%2C%22width%22%3A220%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22OSTREANBEPERATOR(1CGDOUBLEVA1))%22%2C%22x%22%3A114%2C%22y%22%3A124%2C%22width%22%3A245%2C%22height%22%3A8%7D%2C%7B%22text%22%3A%22OSTREAUNBCPEZATOR(CEESTVOLD*VAL))%22%2C%22x%22%3A118%2C%22y%22%3A137%2C%22width%22%3A242%2C%22height%22%3A9%7D%2C%7B%22text%22%3A%22ISTREANSOPERATOR%3E%3E(INT6VSLJG%22%2C%22x%22%3A131%2C%22y%22%3A368%2C%22width%22%3A244%2C%22height%22%3A11%7D%2C%7B%22text%22%3A%22ONTREAN%E2%80%B0CDBRATORCC(GSTRMAMKCUTC%22%2C%22x%22%3A122%2C%22y%22%3A297%2C%22width%22%3A226%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22GOBAFFUNCTIONS%22%2C%22x%22%3A29%2C%22y%22%3A270%2C%22width%22%3A104%2C%22height%22%3A11%7D%2C%7B%22text%22%3A%22CUGSUNAIGNADCHARE%22%2C%22x%22%3A307%2C%22y%22%3A258%2C%22width%22%3A146%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22GOBFFUNCTIANS%22%2C%22x%22%3A40%2C%22y%22%3A592%2C%22width%22%3A85%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22OETEUN%E2%80%B0CPE%E5%B7%A5ATORCC(B%22%2C%22x%22%3A120%2C%22y%22%3A3%2C%22width%22%3A144%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22.EONRERINMDCHAEWG%22%2C%22x%22%3A327%2C%22y%22%3A297%2C%22width%22%3A157%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22MEMBERFUNCTIANS%3A%22%2C%22x%22%3A21%2C%22y%22%3A435%2C%22width%22%3A124%2C%22height%22%3A9%7D%2C%7B%22text%22%3A%22OSTRMNKCDERAT%22%2C%22x%22%3A125%2C%22y%22%3A30%2C%22width%22%3A93%2C%22height%22%3A10%7D%2C%7B%22text%22%3A%22CC(BCOLVNL)%3A%22%2C%22x%22%3A230%2C%22y%22%3A1%2C%22width%22%3A93%2C%22height%22%3A12%7D%2C%7B%22text%22%3A%22TD%22%2C%22x%22%3A134%2C%22y%22%3A632%2C%22width%22%3A232%2C%22height%22%3A24%7D%5D%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22averageHue%22%3A%22%23ecf8ec%22%2C%22id%22%3A%22u670ec547%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card></p><p data-lake-id="uf50116ca" id="uf50116ca"><span data-lake-id="u9db5b39b" id="u9db5b39b" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. </span><span data-lake-id="u78c118e2" id="u78c118e2" class="lake-fontsize-12" style="color: rgb(119,119,119)">对于自定义类型，如果要支持</span><span data-lake-id="u375e5b5f" id="u375e5b5f" class="lake-fontsize-12" style="color: rgb(119,119,119)">cin</span><span data-lake-id="ufe2a60ec" id="ufe2a60ec" class="lake-fontsize-12" style="color: rgb(119,119,119)">和</span><span data-lake-id="udefb449c" id="udefb449c" class="lake-fontsize-12" style="color: rgb(119,119,119)">cout</span><span data-lake-id="uef1d53a9" id="uef1d53a9" class="lake-fontsize-12" style="color: rgb(119,119,119)">的标准输入输出，需要对</span><span data-lake-id="u744c6a18" id="u744c6a18" class="lake-fontsize-12" style="color: rgb(119,119,119)">&lt;&lt;</span><span data-lake-id="u1e1e1084" id="u1e1e1084" class="lake-fontsize-12" style="color: rgb(119,119,119)">和</span><span data-lake-id="u0afd324a" id="u0afd324a" class="lake-fontsize-12" style="color: rgb(119,119,119)">&gt;&gt;</span><span data-lake-id="u91fbe750" id="u91fbe750" class="lake-fontsize-12" style="color: rgb(119,119,119)">进行重载。 </span></p><p data-lake-id="u680fd70c" id="u680fd70c"><span data-lake-id="u271ef295" id="u271ef295" class="lake-fontsize-12" style="color: rgb(119,119,119)">6. 在线OJ中的输入和输出：</span></p><p data-lake-id="ubd9dd430" id="ubd9dd430"><span data-lake-id="u5c9bf001" id="u5c9bf001" class="lake-fontsize-12" style="color: rgb(119,119,119)">对于IO类型的算法，一般都需要循环输入：</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20%E5%8D%95%E4%B8%AA%E5%85%83%E7%B4%A0%E5%BE%AA%E7%8E%AF%E8%BE%93%E5%85%A5%5Cnwhile(cin%3E%3Ea)%5Cn%7B%5Cn%20%20%20%20%20%2F%2F%20...%5Cn%7D%5Cn%2F%2F%20%E5%A4%9A%E4%B8%AA%E5%85%83%E7%B4%A0%E5%BE%AA%E7%8E%AF%E8%BE%93%E5%85%A5%5Cnwhile(c%3E%3Ea%3E%3Eb%3E%3Ec)%5Cn%7B%5Cn%20%20%20%20%20%2F%2F%20...%5Cn%7D%5Cn%2F%2F%20%E6%95%B4%E8%A1%8C%E6%8E%A5%E6%94%B6%5Cnwhile(cin%3E%3Estr)%5Cn%7B%5Cn%20%20%20%20%20%2F%2F%20...%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22zHRVR%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="ub7b508e1" id="ub7b508e1"><strong><span data-lake-id="u8b35d2c3" id="u8b35d2c3" class="lake-fontsize-12" style="color: rgb(119,119,119)">输出：严格按照题目的要求进行，多一个少一个空格都不行</span></strong><span data-lake-id="ub2a2f060" id="ub2a2f060" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><h4 data-lake-id="b8EVJ" id="b8EVJ"><span data-lake-id="ufa898adf" id="ufa898adf">3.2C++文件IO流</span></h4><p data-lake-id="ue3efd455" id="ue3efd455"><span data-lake-id="ub99eaa32" id="ub99eaa32" class="lake-fontsize-12">C++根据文件内容的数据格式分为二进制文件和文本文件。采用文件流对象操作文件的一般步骤：</span></p><ul list="ue6c65bc7"><li fid="uf2207456" data-lake-id="u9075f85a" id="u9075f85a"><span data-lake-id="uc137f8c6" id="uc137f8c6" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. 定义一个文件流对象 </span></li><li fid="uf2207456" data-lake-id="u8e591b68" id="u8e591b68"><span data-lake-id="u6f4bbbe4" id="u6f4bbbe4" class="lake-fontsize-12" style="color: rgb(119,119,119)">ifstream ifile(</span><span data-lake-id="u77be5ae3" id="u77be5ae3" class="lake-fontsize-12" style="color: rgb(119,119,119)">只输入用</span><span data-lake-id="u21657b67" id="u21657b67" class="lake-fontsize-12" style="color: rgb(119,119,119)">) </span></li><li fid="uf2207456" data-lake-id="u37744a00" id="u37744a00"><span data-lake-id="ud1fb75ad" id="ud1fb75ad" class="lake-fontsize-12" style="color: rgb(119,119,119)">ofstream ofile(</span><span data-lake-id="u1714ee95" id="u1714ee95" class="lake-fontsize-12" style="color: rgb(119,119,119)">只输出用</span><span data-lake-id="uf2c2ebac" id="uf2c2ebac" class="lake-fontsize-12" style="color: rgb(119,119,119)">) </span></li><li fid="uf2207456" data-lake-id="u444e9721" id="u444e9721"><span data-lake-id="ud68eed8b" id="ud68eed8b" class="lake-fontsize-12" style="color: rgb(119,119,119)">fstream iofile(既输入又输出用) </span></li></ul><p data-lake-id="u655d93ba" id="u655d93ba"><span data-lake-id="uae6abac8" id="uae6abac8" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><span data-lake-id="u2e99d267" id="u2e99d267" class="lake-fontsize-12" style="color: rgb(119,119,119)">使用文件流对象的成员函数打开一个磁盘文件，使得文件流对象和磁盘文件之间建立联系 </span></p><p data-lake-id="u7ff185b4" id="u7ff185b4"><span data-lake-id="u87a0a73d" id="u87a0a73d" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><span data-lake-id="u5ad771ae" id="u5ad771ae" class="lake-fontsize-12" style="color: rgb(119,119,119)">使用提取和插入运算符对文件进行读写操作，或使用成员函数进行读写 </span></p><p data-lake-id="u65cbe07c" id="u65cbe07c"><span data-lake-id="u0b4c6b9f" id="u0b4c6b9f" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. 关闭文件</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%2F%2F%20%E4%BD%BF%E7%94%A8%E6%96%87%E4%BB%B6IO%E6%B5%81%E7%94%A8%E6%96%87%E6%9C%AC%E5%8F%8A%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%B9%E5%BC%8F%E6%BC%94%E7%A4%BA%E8%AF%BB%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%5Cnstruct%20ServerInfo%5Cn%7B%5Cn%5Ctchar%20_ip%5B32%5D%3B%20%2F%2F%20ip%5Cn%5Ctint%20_port%3B%20%2F%2F%20%E7%AB%AF%E5%8F%A3%5Cn%7D%3B%5Cnstruct%20ConfigManager%5Cn%7B%5Cnpublic%3A%5Cn%5CtConfigManager(const%20char*%20configfile%20%3D%20%5C%22bitserver.config%5C%22)%5Cn%5Ct%5Ct%3A_configfile(configfile)%5Cn%5Ct%7B%5Cn%5Ct%7D%5Cn%5Ctvoid%20WriteBin(const%20ServerInfo%26%20info)%5Cn%5Ct%7B%5Cn%5Ct%5Ct%2F%2F%20%E8%BF%99%E9%87%8C%E6%B3%A8%E6%84%8F%E4%BD%BF%E7%94%A8%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%B9%E5%BC%8F%E6%89%93%E5%BC%80%E5%86%99%5Cn%5Ct%5Ctofstream%20ofs(_configfile%2C%20ifstream%3A%3Aout%20%7C%20ifstream%3A%3Abinary)%3B%5Cn%5Ct%5Ctofs.write((const%20char*)%26info%2C%20sizeof(ServerInfo))%3B%5Cn%5Ct%5Ctofs.close()%3B%5Cn%5Ct%7D%5Cn%5Ctvoid%20ReadBin(ServerInfo%26%20info)%5Cn%5Ct%7B%5Cn%5Ct%5Ct%2F%2F%20%E8%BF%99%E9%87%8C%E6%B3%A8%E6%84%8F%E4%BD%BF%E7%94%A8%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%B9%E5%BC%8F%E6%89%93%E5%BC%80%E8%AF%BB%5Cn%5Ct%5Ctifstream%20ifs(_configfile%2C%20ifstream%3A%3Ain%20%7C%20ifstream%3A%3Abinary)%3B%5Cn%5Ct%5Ctifs.read((char*)%26info%2C%20sizeof(ServerInfo))%3B%5Cn%5Ct%5Ctifs.close()%3B%5Cn%5Ct%7D%5Cn%5Ctvoid%20WriteText(const%20ServerInfo%26%20info)%5Cn%5Ct%7B%5Cn%5Ct%5Ct%2F%2F%20%E8%BF%99%E9%87%8C%E4%BC%9A%E5%8F%91%E7%8E%B0IO%E6%B5%81%E5%86%99%E6%95%B4%E5%BD%A2%E6%AF%94C%E8%AF%AD%E8%A8%80%E9%82%A3%E5%A5%97%E5%B0%B1%E7%AE%80%E5%8D%95%E5%A4%9A%E4%BA%86%EF%BC%8C%5Cn%5Ct%5Ct%2F%2F%20C%20%E8%AF%AD%E8%A8%80%E5%BE%97%E5%85%88%E6%8A%8A%E6%95%B4%E5%BD%A2itoa%E5%86%8D%E5%86%99%5Cn%5Ct%5Ctofstream%20ofs(_configfile)%3B%5Cn%5Ct%5Ctofs%20%3C%3C%20info._ip%20%3C%3C%20endl%3B%5Cn%5Ct%5Ctofs%20%3C%3C%20info._port%20%3C%3C%20endl%3B%5Cn%5Ct%5Ctofs.close()%3B%5Cn%5Ct%7D%5Cn%5Ctvoid%20ReadText(ServerInfo%26%20info)%5Cn%5Ct%7B%5Cn%5Ct%5Ct%2F%2F%20%E8%BF%99%E9%87%8C%E4%BC%9A%E5%8F%91%E7%8E%B0IO%E6%B5%81%E8%AF%BB%E6%95%B4%E5%BD%A2%E6%AF%94C%E8%AF%AD%E8%A8%80%E9%82%A3%E5%A5%97%E5%B0%B1%E7%AE%80%E5%8D%95%E5%A4%9A%E4%BA%86%EF%BC%8C%5Cn%5Ct%2F%2F%20C%20%E8%AF%AD%E8%A8%80%E5%BE%97%E5%85%88%E8%AF%BB%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E5%86%8Datoi%5Cn%5Ct%5Ctifstream%20ifs(_configfile)%3B%5Cn%5Ct%5Ctifs%20%3E%3E%20info._ip%3B%5Cn%5Ct%5Ctifs%20%3E%3E%20info._port%3B%5Cn%5Ct%5Ctifs.close()%3B%5Cn%5Ct%7D%5Cnprivate%3A%5Cn%5Ctstring%20_configfile%3B%20%2F%2F%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%5Cn%7D%3B%5Cnint%20main()%5Cn%7B%5Cn%5CtConfigManager%20cfgMgr%3B%5Cn%5CtServerInfo%20wtinfo%3B%5Cn%5CtServerInfo%20rdinfo%3B%5Cn%5Ctstrcpy(wtinfo._ip%2C%20%5C%22127.0.0.1%5C%22)%3B%5Cn%5Ctwtinfo._port%20%3D%2080%3B%5Cn%5Ct%2F%2F%20%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%AF%BB%E5%86%99%5Cn%5CtcfgMgr.WriteBin(wtinfo)%3B%5Cn%5CtcfgMgr.ReadBin(rdinfo)%3B%5Cn%5Ctcout%20%3C%3C%20rdinfo._ip%20%3C%3C%20endl%3B%5Cn%5Ctcout%20%3C%3C%20rdinfo._port%20%3C%3C%20endl%3B%5Cn%5Ct%2F%2F%20%E6%96%87%E6%9C%AC%E8%AF%BB%E5%86%99%5Cn%5CtcfgMgr.WriteText(wtinfo)%3B%5Cn%5CtcfgMgr.ReadText(rdinfo)%3B%5Cn%5Ctcout%20%3C%3C%20rdinfo._ip%20%3C%3C%20endl%3B%5Cn%5Ctcout%20%3C%3C%20rdinfo._port%20%3C%3C%20endl%3B%5Cn%5Ctreturn%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22ePwML%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><h3 data-lake-id="dTd77" id="dTd77"><span data-lake-id="u90db43cd" id="u90db43cd">4.stringstream的简单介绍</span></h3><p data-lake-id="u924a0a4d" id="u924a0a4d"><span data-lake-id="ud3e54799" id="ud3e54799" class="lake-fontsize-12" style="color: rgb(119,119,119)">在</span><span data-lake-id="u8df087ab" id="u8df087ab" class="lake-fontsize-12" style="color: rgb(119,119,119)">C</span><span data-lake-id="ue84c22a4" id="ue84c22a4" class="lake-fontsize-12" style="color: rgb(119,119,119)">语言中，如果想要将一个整形变量的数据转化为字符串格式，如何去做？ </span></p><p data-lake-id="u1ceaa57c" id="u1ceaa57c"><span data-lake-id="ubdf27b43" id="ubdf27b43" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><span data-lake-id="u77f0dbe3" id="u77f0dbe3" class="lake-fontsize-12" style="color: rgb(119,119,119)">使用</span><span data-lake-id="u7eb3324b" id="u7eb3324b" class="lake-fontsize-12" style="color: rgb(119,119,119)">itoa()</span><span data-lake-id="uf2060755" id="uf2060755" class="lake-fontsize-12" style="color: rgb(119,119,119)">函数 </span></p><p data-lake-id="u57d4e016" id="u57d4e016"><span data-lake-id="ucebc7d67" id="ucebc7d67" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 使用sprintf()函数</span></p><p data-lake-id="ufb199faf" id="ufb199faf"><span data-lake-id="u72563361" id="u72563361" class="lake-fontsize-12" style="color: rgb(119,119,119)">但是两个函数在转化时，都得</span><strong><span data-lake-id="ubcf817d5" id="ubcf817d5" class="lake-fontsize-12" style="color: rgb(119,119,119)">需要先给出保存结果的空间</span></strong><span data-lake-id="u39257eb7" id="u39257eb7" class="lake-fontsize-12" style="color: rgb(119,119,119)">，那空间要给多大呢，就不太好界定，而且</span><strong><span data-lake-id="u2273d1c0" id="u2273d1c0" class="lake-fontsize-12" style="color: rgb(119,119,119)">转化格式不匹配时，可能还会得到错误的结果甚至程序崩溃</span></strong><span data-lake-id="u5d6b6a19" id="u5d6b6a19" class="lake-fontsize-12" style="color: rgb(119,119,119)">。</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22int%20main()%5Cn%7B%5Cn%20int%20n%20%3D%20123456789%3B%5Cn%20char%20s1%5B32%5D%3B%5Cn%20_itoa(n%2C%20s1%2C%2010)%3B%5Cn%20%20%20%20%5Cn%20char%20s2%5B32%5D%3B%5Cn%20sprintf(s2%2C%20%5C%22%25d%5C%22%2C%20n)%3B%5Cn%20%20%20%20%5Cn%20char%20s3%5B32%5D%3B%5Cn%20sprintf(s3%2C%20%5C%22%25f%5C%22%2C%20n)%3B%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22PFpVk%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="uce029847" id="uce029847"><span data-lake-id="uc6efa3f3" id="uc6efa3f3" class="lake-fontsize-12" style="color: rgb(119,119,119)">在</span><span data-lake-id="u5e1bd8e5" id="u5e1bd8e5" class="lake-fontsize-12" style="color: rgb(119,119,119)">C++</span><span data-lake-id="ud4d58c05" id="ud4d58c05" class="lake-fontsize-12" style="color: rgb(119,119,119)">中，可以使用</span><span data-lake-id="ubc5f9db3" id="ubc5f9db3" class="lake-fontsize-12" style="color: rgb(119,119,119)">stringstream</span><span data-lake-id="u9c79f02f" id="u9c79f02f" class="lake-fontsize-12" style="color: rgb(119,119,119)">类对象来避开此问题。 </span></p><p data-lake-id="u7116972f" id="u7116972f"><strong><span data-lake-id="u1f383672" id="u1f383672" class="lake-fontsize-12" style="color: rgb(119,119,119)">在程序中如果想要使用stringstream，必须要包含头文件</span></strong><span data-lake-id="ua49bbe28" id="ua49bbe28" class="lake-fontsize-12" style="color: rgb(119,119,119)">。在该头文件下，标准库三个类：istringstream、ostringstream 和 stringstream，分别用来进行流的输入、输出和输入输出操作，本文主要介绍stringstream。 </span></p><p data-lake-id="u8196fffe" id="u8196fffe"><span data-lake-id="u4d784e4b" id="u4d784e4b" class="lake-fontsize-12" style="color: rgb(119,119,119)">stringstream</span><span data-lake-id="u33d100d9" id="u33d100d9" class="lake-fontsize-12" style="color: rgb(119,119,119)">主要可以用来： </span></p><p data-lake-id="u51249e95" id="u51249e95"><span data-lake-id="uef9338e9" id="uef9338e9" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. 将数值类型数据格式化为字符串</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22%23include%3Csstream%3E%5Cnint%20main()%5Cn%7B%5Cn%5Ctint%20a%20%3D%2012345678%3B%5Cn%5Ctstring%20sa%3B%5Cn%5Ct%2F%2F%20%E5%B0%86%E4%B8%80%E4%B8%AA%E6%95%B4%E5%BD%A2%E5%8F%98%E9%87%8F%E8%BD%AC%E5%8C%96%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%8C%E5%AD%98%E5%82%A8%E5%88%B0string%E7%B1%BB%E5%AF%B9%E8%B1%A1%E4%B8%AD%5Cn%5Ctstringstream%20s%3B%5Cn%5Cts%20%3C%3C%20a%3B%5Cn%5Cts%20%3E%3E%20sa%3B%5Cn%5Ct%2F%2F%20clear()%5Cn%5Ct%2F%2F%20%E6%B3%A8%E6%84%8F%E5%A4%9A%E6%AC%A1%E8%BD%AC%E6%8D%A2%E6%97%B6%EF%BC%8C%E5%BF%85%E9%A1%BB%E4%BD%BF%E7%94%A8clear%E5%B0%86%E4%B8%8A%E6%AC%A1%E8%BD%AC%E6%8D%A2%E7%8A%B6%E6%80%81%E6%B8%85%E7%A9%BA%E6%8E%89%5Cn%5Ct%2F%2F%20stringstreams%E5%9C%A8%E8%BD%AC%E6%8D%A2%E7%BB%93%E5%B0%BE%E6%97%B6(%E5%8D%B3%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E8%BD%AC%E6%8D%A2%E5%90%8E)%2C%E4%BC%9A%E5%B0%86%E5%85%B6%E5%86%85%E9%83%A8%E7%8A%B6%E6%80%81%E8%AE%BE%E7%BD%AE%E4%B8%BAbadbit%5Cn%5Ct%2F%2F%20%E5%9B%A0%E6%AD%A4%E4%B8%8B%E4%B8%80%E6%AC%A1%E8%BD%AC%E6%8D%A2%E6%98%AF%E5%BF%85%E9%A1%BB%E8%B0%83%E7%94%A8clear()%E5%B0%86%E7%8A%B6%E6%80%81%E9%87%8D%E7%BD%AE%E4%B8%BAgoodbit%E6%89%8D%E5%8F%AF%E4%BB%A5%E8%BD%AC%E6%8D%A2%5Cn%5Ct%2F%2F%20%E4%BD%86%E6%98%AFclear()%E4%B8%8D%E4%BC%9A%E5%B0%86stringstreams%E5%BA%95%E5%B1%82%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B8%85%E7%A9%BA%E6%8E%89%5Cn%5Cn%5Ct%2F%2F%20s.str(%5C%22%5C%22)%3B%5Cn%5Ct%2F%2F%20%E5%B0%86stringstream%E5%BA%95%E5%B1%82%E7%AE%A1%E7%90%86string%E5%AF%B9%E8%B1%A1%E8%AE%BE%E7%BD%AE%E6%88%90%5C%22%5C%22%2C%20%5Cn%5Ct%2F%2F%20%E5%90%A6%E5%88%99%E5%A4%9A%E6%AC%A1%E8%BD%AC%E6%8D%A2%E6%97%B6%EF%BC%8C%E4%BC%9A%E5%B0%86%E7%BB%93%E6%9E%9C%E5%85%A8%E9%83%A8%E7%B4%AF%E7%A7%AF%E5%9C%A8%E5%BA%95%E5%B1%82string%E5%AF%B9%E8%B1%A1%E4%B8%AD%5Cn%5Cn%5Cts.str(%5C%22%5C%22)%3B%5Cn%5Cts.clear()%3B%20%2F%2F%20%E6%B8%85%E7%A9%BAs%2C%20%E4%B8%8D%E6%B8%85%E7%A9%BA%E4%BC%9A%E8%BD%AC%E5%8C%96%E5%A4%B1%E8%B4%A5%5Cn%5Ctdouble%20d%20%3D%2012.34%3B%5Cn%5Cts%20%3C%3C%20d%3B%5Cn%5Cts%20%3E%3E%20sa%3B%5Cn%5Ctstring%20sValue%3B%5Cn%5CtsValue%20%3D%20s.str()%3B%20%2F%2F%20str()%E6%96%B9%E6%B3%95%EF%BC%9A%E8%BF%94%E5%9B%9Estringsteam%E4%B8%AD%E7%AE%A1%E7%90%86%E7%9A%84string%E7%B1%BB%E5%9E%8B%5Cn%5Ctcout%20%3C%3C%20sValue%20%3C%3C%20endl%3B%5Cn%5Ctreturn%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22OffkR%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u0e03e397" id="u0e03e397"><span data-lake-id="ubffd9769" id="ubffd9769" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. 字符串拼接</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22cpp%22%2C%22code%22%3A%22int%20main()%5Cn%7B%5Cn%20stringstream%20sstream%3B%5Cn%20%2F%2F%20%E5%B0%86%E5%A4%9A%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%94%BE%E5%85%A5%20sstream%20%E4%B8%AD%5Cn%20sstream%20%3C%3C%20%5C%22first%5C%22%20%3C%3C%20%5C%22%20%5C%22%20%3C%3C%20%5C%22string%2C%5C%22%3B%5Cn%20sstream%20%3C%3C%20%5C%22%20second%20string%5C%22%3B%5Cn%20cout%20%3C%3C%20%5C%22strResult%20is%3A%20%5C%22%20%3C%3C%20sstream.str()%20%3C%3C%20endl%3B%5Cn%20%20%20%20%5Cn%20%2F%2F%20%E6%B8%85%E7%A9%BA%20sstream%5Cn%20sstream.str(%5C%22%5C%22)%3B%5Cn%20sstream%20%3C%3C%20%5C%22third%20string%5C%22%3B%5Cn%20cout%20%3C%3C%20%5C%22After%20clear%2C%20strResult%20is%3A%20%5C%22%20%3C%3C%20sstream.str()%20%3C%3C%20endl%3B%5Cn%20%20%20%20%5Cn%20return%200%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22scG2Z%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u26e6973f" id="u26e6973f"><span data-lake-id="u0482ea6a" id="u0482ea6a" class="lake-fontsize-12" style="color: rgb(119,119,119)">注意： </span></p><p data-lake-id="u8169b51a" id="u8169b51a"><span data-lake-id="udf6ef700" id="udf6ef700" class="lake-fontsize-12" style="color: rgb(119,119,119)">1. </span><strong><span data-lake-id="u705ecfe9" id="u705ecfe9" class="lake-fontsize-12" style="color: rgb(119,119,119)">stringstream</span></strong><strong><span data-lake-id="u944c257d" id="u944c257d" class="lake-fontsize-12" style="color: rgb(119,119,119)">实际是在其底层维护了一个</span></strong><strong><span data-lake-id="ue60e35fb" id="ue60e35fb" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span></strong><strong><span data-lake-id="u85079ea5" id="u85079ea5" class="lake-fontsize-12" style="color: rgb(119,119,119)">类型的对象用来保存结果</span></strong><span data-lake-id="u38928091" id="u38928091" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><p data-lake-id="uff3405e1" id="uff3405e1"><span data-lake-id="u6937f9df" id="u6937f9df" class="lake-fontsize-12" style="color: rgb(119,119,119)">2. </span><strong><span data-lake-id="uf2df33d9" id="uf2df33d9" class="lake-fontsize-12" style="color: rgb(119,119,119)">多次数据类型转化时，一定要用clear()来清空，才能正确转化</span></strong><span data-lake-id="udedcb57d" id="udedcb57d" class="lake-fontsize-12" style="color: rgb(119,119,119)">，但clear()不会将stringstream底层的string对象清空。 </span></p><p data-lake-id="uf072eb9e" id="uf072eb9e"><span data-lake-id="u8116572c" id="u8116572c" class="lake-fontsize-12" style="color: rgb(119,119,119)">3. </span><span data-lake-id="u3bc49b7c" id="u3bc49b7c" class="lake-fontsize-12" style="color: rgb(119,119,119)">可以</span><strong><span data-lake-id="ufbe351be" id="ufbe351be" class="lake-fontsize-12" style="color: rgb(119,119,119)">使用</span></strong><strong><span data-lake-id="u4ae1c48e" id="u4ae1c48e" class="lake-fontsize-12" style="color: rgb(119,119,119)">s. str(&quot;&quot;)</span></strong><strong><span data-lake-id="u207dbda5" id="u207dbda5" class="lake-fontsize-12" style="color: rgb(119,119,119)">方法将底层</span></strong><strong><span data-lake-id="u914e70a2" id="u914e70a2" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span></strong><strong><span data-lake-id="u93238a5e" id="u93238a5e" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象设置为</span></strong><strong><span data-lake-id="ua9ea3e7b" id="ua9ea3e7b" class="lake-fontsize-12" style="color: rgb(119,119,119)">&quot;&quot;</span></strong><strong><span data-lake-id="u722809ab" id="u722809ab" class="lake-fontsize-12" style="color: rgb(119,119,119)">空字符串</span></strong><span data-lake-id="u5fba259f" id="u5fba259f" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><p data-lake-id="u11130f67" id="u11130f67"><span data-lake-id="u6055f9e9" id="u6055f9e9" class="lake-fontsize-12" style="color: rgb(119,119,119)">4. </span><span data-lake-id="u3a4f025e" id="u3a4f025e" class="lake-fontsize-12" style="color: rgb(119,119,119)">可以</span><strong><span data-lake-id="u8fc789d5" id="u8fc789d5" class="lake-fontsize-12" style="color: rgb(119,119,119)">使用</span></strong><strong><span data-lake-id="u43bc19c5" id="u43bc19c5" class="lake-fontsize-12" style="color: rgb(119,119,119)">s.str()</span></strong><strong><span data-lake-id="u95a9cfc9" id="u95a9cfc9" class="lake-fontsize-12" style="color: rgb(119,119,119)">将让</span></strong><strong><span data-lake-id="u11135cf5" id="u11135cf5" class="lake-fontsize-12" style="color: rgb(119,119,119)">stringstream</span></strong><strong><span data-lake-id="ud0ba1192" id="ud0ba1192" class="lake-fontsize-12" style="color: rgb(119,119,119)">返回其底层的</span></strong><strong><span data-lake-id="ud72e530f" id="ud72e530f" class="lake-fontsize-12" style="color: rgb(119,119,119)">string</span></strong><strong><span data-lake-id="u5fb990e6" id="u5fb990e6" class="lake-fontsize-12" style="color: rgb(119,119,119)">对象</span></strong><span data-lake-id="ucce2870b" id="ucce2870b" class="lake-fontsize-12" style="color: rgb(119,119,119)">。 </span></p><p data-lake-id="uc45e3260" id="uc45e3260"><span data-lake-id="u12fbcb4b" id="u12fbcb4b" class="lake-fontsize-12" style="color: rgb(119,119,119)">5. </span><strong><span data-lake-id="u55cea067" id="u55cea067" class="lake-fontsize-12" style="color: rgb(119,119,119)">stringstream使用string类对象代替字符数组，可以避免缓冲区溢出的危险，而且其会对参数类型进行推演，不需要格式化控制，也不会出现格式化失败的风险</span></strong><span data-lake-id="u07baa55e" id="u07baa55e" class="lake-fontsize-12" style="color: rgb(119,119,119)">，因此使用更方便，更安全。</span></p><p data-lake-id="u2ed8688d" id="u2ed8688d"><br></p><h2 data-lake-id="YpZv1" id="YpZv1" collapsed="true"><span data-lake-id="u6bc02f79" id="u6bc02f79">Lesson</span></h2><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248253503-d6c72993-7e87-494a-82ff-8175f811a42e.pdf%22%2C%22name%22%3A%22Lesson06---%E6%A8%A1%E6%9D%BF%E5%88%9D%E9%98%B6.pdf%22%2C%22size%22%3A959883%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u73d68051-02fa-40cc-a543-e3d5dfc2d37%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22m4TUh%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248254273-01ca068c-e8f9-4458-9100-5e1a447df016.pdf%22%2C%22name%22%3A%22Lesson07---STL%E7%AE%80%E4%BB%8B.pdf%22%2C%22size%22%3A1111197%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u8bdeb9ad-786c-493b-9d6d-e0f462d8d7a%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22uFkGr%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248254466-0e44adbb-3093-4c69-b0c1-7eaefe3e2213.pdf%22%2C%22name%22%3A%22Lesson08---string.pdf%22%2C%22size%22%3A1100789%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u133ec2da-e75f-485a-83be-c79dcf9fffe%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22vplfC%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248254792-a544d83d-47d6-4efb-a2e1-0e1e66c3e5b4.pdf%22%2C%22name%22%3A%22Lesson09---vector.pdf%22%2C%22size%22%3A1027092%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22ud32af8ff-1119-49c2-ab8c-7a2ec98f417%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22ry26S%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248255227-00e7a46c-fd4d-4fd3-a96c-3271768805f8.pdf%22%2C%22name%22%3A%22Lesson10---list.pdf%22%2C%22size%22%3A632742%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22ua9e59271-c434-4047-8f2f-e686148818f%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22SnIhG%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248255713-9f0a397d-9399-479c-90a1-a4e3577766d9.pdf%22%2C%22name%22%3A%22Lesson11---stack%E5%92%8Cqueue.pdf%22%2C%22size%22%3A899418%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u91a627cf-852c-4ae8-8817-815f3c15a94%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22STXSt%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248255650-b26def41-fa85-424b-8da1-f0214aaf3f4a.pdf%22%2C%22name%22%3A%22Lesson12---%E6%A8%A1%E6%9D%BF%E8%BF%9B%E9%98%B6.pdf%22%2C%22size%22%3A527955%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22ua1c1a9ce-ef0b-4c32-9e97-fce3c1e53a5%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22A894U%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="block" name="localdoc" value="data:%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2025%2Fpdf%2F49819380%2F1741248256182-58d2b335-9e2b-470f-ac2b-0b66665a50bc.pdf%22%2C%22name%22%3A%22Lesson13---C%2B%2B%E7%9A%84IO%E6%B5%81.pdf%22%2C%22size%22%3A674141%2C%22ext%22%3A%22pdf%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u0eb47872-7091-424b-8552-0c785cb24bc%22%2C%22taskType%22%3A%22upload%22%2C%22type%22%3A%22application%2Fpdf%22%2C%22__spacing%22%3A%22both%22%2C%22mode%22%3A%22card%22%2C%22id%22%3A%22jTl8B%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card>